

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta property="og:title" content="Pillow (PIL Fork) 8.3.2 documentation" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://pillow.readthedocs.io/en/stable/index.html" />
  <meta property="og:description" content="Pillow: Pillow is the friendly PIL fork by Alex Clark and Contributors. PIL is the Python Imaging Library by Fredrik Lundh and Contributors. Pillow for enterprise is available via the Tidelift Subs..." />
  <meta property="og:image" content="https://raw.githubusercontent.com/python-pillow/pillow-logo/master/pillow-logo-dark-text-1280x640.png" />
  <meta property="og:image:alt" content="Pillow" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pillow (PIL Fork) 8.3.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/js/script.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/styles.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/dark.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/light.css" type="text/css" />
    <link rel="author" title="About these documents" href="#" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> Pillow (PIL Fork)
          

          
            
            <img src="_static/pillow-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
            
              <div class="version">
                stable
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-installation">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#warnings">Warnings</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#python-support">Python Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#basic-installation">Basic Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#building-from-source">Building From Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#platform-support">Platform Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#old-versions">Old Versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-handbook/index">Handbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-handbook/overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-handbook/tutorial">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-handbook/concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-handbook/appendices">Appendices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-reference/index">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageChops"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageChops</span></code> (“Channel Operations”) Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageCms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageCms</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageColor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageColor</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageEnhance"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageEnhance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFile</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageFilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFilter</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageFont"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFont</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageGrab"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageGrab</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageMath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMath</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageMorph"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMorph</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageOps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageOps</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImagePalette"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePalette</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImagePath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePath</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageQt"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageQt</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageSequence"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageSequence</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageShow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageShow</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageStat"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageStat</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageTk"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageTk</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ImageWin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageWin</span></code> Module (Windows-only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/ExifTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ExifTags</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/TiffTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TiffTags</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/JpegPresets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">JpegPresets</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/PSDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PSDraw</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/PixelAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">PixelAccess</span></code> Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/PyAccess"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PyAccess</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/features"><code class="xref py py-mod docutils literal notranslate"><span class="pre">features</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-PIL">PIL Package (autodoc of remaining modules)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/plugins">Plugin reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-reference/internal_design">Internal Reference Docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-porting">Porting</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-about">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#why-a-fork">Why a fork?</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#what-about-pil">What about PIL?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-releasenotes/index">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.3.2">8.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.3.1">8.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.3.0">8.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.2.0">8.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.1.2">8.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.1.1">8.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.1.0">8.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.0.1">8.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/8.0.0">8.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/7.2.0">7.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/7.1.2">7.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/7.1.1">7.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/7.1.0">7.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/7.0.0">7.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/6.2.2">6.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/6.2.1">6.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/6.2.0">6.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/6.1.0">6.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/6.0.0">6.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.4.1">5.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.4.0">5.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.3.0">5.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.2.0">5.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.1.0">5.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/5.0.0">5.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.3.0">4.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.2.1">4.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.2.0">4.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.1.1">4.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.1.0">4.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/4.0.0">4.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.4.0">3.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.3.2">3.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.3.0">3.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.2.0">3.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.1.2">3.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.1.1">3.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.1.0">3.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/3.0.0">3.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/2.8.0">2.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/2.7.0">2.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-releasenotes/versioning">Versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-deprecations">Deprecations and removals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#deprecated-features">Deprecated features</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#removed-features">Removed features</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Pillow (PIL Fork)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Pillow (PIL Fork) 8.3.2 documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/python-pillow/Pillow/blob/8013f130a5077b238a4346b73e149432b180a8ea/docs/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="pillow">
<h1>Pillow<a class="headerlink" href="#pillow" title="Permalink to this headline">¶</a></h1>
<p>Pillow is the friendly PIL fork by <a class="reference external" href="https://github.com/python-pillow/Pillow/graphs/contributors">Alex Clark and Contributors</a>. PIL is the Python Imaging Library by Fredrik Lundh and Contributors.</p>
<p>Pillow for enterprise is available via the Tidelift Subscription. <a class="reference external" href="https://tidelift.com/subscription/pkg/pypi-pillow?utm_source=pypi-pillow&amp;utm_medium=docs&amp;utm_campaign=enterprise">Learn more</a>.</p>
<a class="reference external image-reference" href="https://pillow.readthedocs.io/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/pillow/badge/?version=latest" /></a>
<a class="reference external image-reference" href="https://github.com/python-pillow/Pillow/actions?query=workflow%3ALint"><img alt="GitHub Actions build status (Lint)" src="https://github.com/python-pillow/Pillow/workflows/Lint/badge.svg" /></a>
<a class="reference external image-reference" href="https://github.com/python-pillow/Pillow/actions?query=workflow%3A%22Test+Docker%22"><img alt="GitHub Actions build status (Test Docker)" src="https://github.com/python-pillow/Pillow/workflows/Test%20Docker/badge.svg" /></a>
<a class="reference external image-reference" href="https://github.com/python-pillow/Pillow/actions?query=workflow%3ATest"><img alt="GitHub Actions build status (Test Linux and macOS)" src="https://github.com/python-pillow/Pillow/workflows/Test/badge.svg" /></a>
<a class="reference external image-reference" href="https://github.com/python-pillow/Pillow/actions?query=workflow%3A%22Test+Windows%22"><img alt="GitHub Actions build status (Test Windows)" src="https://github.com/python-pillow/Pillow/workflows/Test%20Windows/badge.svg" /></a>
<a class="reference external image-reference" href="https://ci.appveyor.com/project/python-pillow/Pillow"><img alt="AppVeyor CI build status (Windows)" src="https://img.shields.io/appveyor/build/python-pillow/Pillow/master.svg?label=Windows%20build" /></a>
<a class="reference external image-reference" href="https://github.com/python-pillow/pillow-wheels/actions"><img alt="GitHub Actions wheels build status (Wheels)" src="https://github.com/python-pillow/pillow-wheels/workflows/Wheels/badge.svg" /></a>
<a class="reference external image-reference" href="https://travis-ci.com/github/python-pillow/pillow-wheels"><img alt="Travis CI wheels build status (aarch64)" src="https://img.shields.io/travis/com/python-pillow/pillow-wheels/master.svg?label=aarch64%20wheels" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/python-pillow/Pillow"><img alt="Code coverage" src="https://codecov.io/gh/python-pillow/Pillow/branch/master/graph/badge.svg" /></a>
<a class="reference external image-reference" href="https://zenodo.org/badge/latestdoi/17549/python-pillow/Pillow"><img alt="Zenodo" src="https://zenodo.org/badge/17549/python-pillow/Pillow.svg" /></a>
<a class="reference external image-reference" href="https://tidelift.com/subscription/pkg/pypi-pillow?utm_source=pypi-pillow&amp;utm_medium=badge"><img alt="Tidelift" src="https://tidelift.com/badges/package/pypi/Pillow?style=flat" /></a>
<a class="reference external image-reference" href="https://pypi.org/project/Pillow/"><img alt="Latest PyPI version" src="https://img.shields.io/pypi/v/pillow.svg" /></a>
<a class="reference external image-reference" href="https://pypi.org/project/Pillow/"><img alt="Number of PyPI downloads" src="https://img.shields.io/pypi/dm/pillow.svg" /></a>
</section>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>The Python Imaging Library adds image processing capabilities to your Python interpreter.</p>
<p>This library provides extensive file format support, an efficient internal representation, and fairly powerful image processing capabilities.</p>
<p>The core image library is designed for fast access to data stored in a few basic pixel formats. It should provide a solid foundation for a general image processing tool.</p>
<div class="toctree-wrapper compound">
<span id="document-installation"></span><section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<section id="warnings">
<h3>Warnings<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pillow and PIL cannot co-exist in the same environment. Before installing Pillow, please uninstall PIL.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pillow &gt;= 1.0 no longer supports <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">Image</span></code>. Please use <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">PIL</span> <span class="pre">import</span> <span class="pre">Image</span></code> instead.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pillow &gt;= 2.1.0 no longer supports <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">_imaging</span></code>. Please use <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">PIL.Image</span> <span class="pre">import</span> <span class="pre">core</span> <span class="pre">as</span> <span class="pre">_imaging</span></code> instead.</p>
</div>
</section>
<section id="python-support">
<h3>Python Support<a class="headerlink" href="#python-support" title="Permalink to this headline">¶</a></h3>
<p>Pillow supports these Python versions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Python</p></th>
<th class="head"><p>3.10</p></th>
<th class="head"><p>3.9</p></th>
<th class="head"><p>3.8</p></th>
<th class="head"><p>3.7</p></th>
<th class="head"><p>3.6</p></th>
<th class="head"><p>3.5</p></th>
<th class="head"><p>3.4</p></th>
<th class="head"><p>2.7</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Pillow &gt;= 8.3.2</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Pillow 8.0 - 8.3.1</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Pillow 7.0 - 7.2</p></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Pillow 6.2.1 - 6.2.2</p></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Pillow 6.0 - 6.2.0</p></td>
<td></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Pillow 5.2 - 5.4</p></td>
<td></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Python</p></th>
<th class="head"><p>3.6</p></th>
<th class="head"><p>3.5</p></th>
<th class="head"><p>3.4</p></th>
<th class="head"><p>3.3</p></th>
<th class="head"><p>3.2</p></th>
<th class="head"><p>2.7</p></th>
<th class="head"><p>2.6</p></th>
<th class="head"><p>2.5</p></th>
<th class="head"><p>2.4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Pillow 5.0 - 5.1</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Pillow 4</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Pillow 2 - 3</p></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Pillow &lt; 2</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="basic-installation">
<h3>Basic Installation<a class="headerlink" href="#basic-installation" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following instructions will install Pillow with support for
most common image formats. See <a class="reference internal" href="#external-libraries"><span class="std std-ref">External Libraries</span></a> for a
full list of external libraries supported.</p>
</div>
<p>Install Pillow with <strong class="command">pip</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<section id="windows-installation">
<h4>Windows Installation<a class="headerlink" href="#windows-installation" title="Permalink to this headline">¶</a></h4>
<p>We provide Pillow binaries for Windows compiled for the matrix of
supported Pythons in both 32 and 64-bit versions in the wheel format.
These binaries include support for all optional libraries except
libimagequant and libxcb. Raqm support requires
FriBiDi to be installed separately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<p>To install Pillow in MSYS2, see <a class="reference internal" href="#building-on-windows-using-msys2-mingw">Building on Windows using MSYS2/MinGW</a>.</p>
</section>
<section id="macos-installation">
<h4>macOS Installation<a class="headerlink" href="#macos-installation" title="Permalink to this headline">¶</a></h4>
<p>We provide binaries for macOS for each of the supported Python
versions in the wheel format. These include support for all optional
libraries except libimagequant. Raqm support requires
FriBiDi to be installed separately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
</section>
<section id="linux-installation">
<h4>Linux Installation<a class="headerlink" href="#linux-installation" title="Permalink to this headline">¶</a></h4>
<p>We provide binaries for Linux for each of the supported Python
versions in the manylinux wheel format. These include support for all
optional libraries except libimagequant. Raqm support requires
FriBiDi to be installed separately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<p>Most major Linux distributions, including Fedora, Ubuntu and ArchLinux
also include Pillow in packages that previously contained PIL e.g.
<code class="docutils literal notranslate"><span class="pre">python-imaging</span></code>. Debian splits it into two packages, <code class="docutils literal notranslate"><span class="pre">python3-pil</span></code>
and <code class="docutils literal notranslate"><span class="pre">python3-pil.imagetk</span></code>.</p>
</section>
<section id="freebsd-installation">
<h4>FreeBSD Installation<a class="headerlink" href="#freebsd-installation" title="Permalink to this headline">¶</a></h4>
<p>Pillow can be installed on FreeBSD via the official Ports or Packages systems:</p>
<p><strong>Ports</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">ports</span><span class="o">/</span><span class="n">graphics</span><span class="o">/</span><span class="n">py</span><span class="o">-</span><span class="n">pillow</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span> <span class="n">clean</span>
</pre></div>
</div>
<p><strong>Packages</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span> <span class="n">install</span> <span class="n">py36</span><span class="o">-</span><span class="n">pillow</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://www.freshports.org/graphics/py-pillow/">Pillow FreeBSD port</a> and packages
are tested by the ports team with all supported FreeBSD versions.</p>
</div>
</section>
</section>
<section id="building-from-source">
<h3>Building From Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h3>
<p>Download and extract the <a class="reference external" href="https://pypi.org/project/Pillow/">compressed archive from PyPI</a>.</p>
<section id="external-libraries">
<span id="id1"></span><h4>External Libraries<a class="headerlink" href="#external-libraries" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You <strong>do not need to install all supported external libraries</strong> to
use Pillow’s basic features. <strong>Zlib</strong> and <strong>libjpeg</strong> are required
by default.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are Dockerfiles in our <a class="reference external" href="https://github.com/python-pillow/docker-images">Docker images repo</a> to install the
dependencies for some operating systems.</p>
</div>
<p>Many of Pillow’s features require external libraries:</p>
<ul class="simple">
<li><p><strong>libjpeg</strong> provides JPEG functionality.</p>
<ul>
<li><p>Pillow has been tested with libjpeg versions <strong>6b</strong>, <strong>8</strong>, <strong>9-9d</strong> and
libjpeg-turbo version <strong>8</strong>.</p></li>
<li><p>Starting with Pillow 3.0.0, libjpeg is required by default, but
may be disabled with the <code class="docutils literal notranslate"><span class="pre">--disable-jpeg</span></code> flag.</p></li>
</ul>
</li>
<li><p><strong>zlib</strong> provides access to compressed PNGs</p>
<ul>
<li><p>Starting with Pillow 3.0.0, zlib is required by default, but may
be disabled with the <code class="docutils literal notranslate"><span class="pre">--disable-zlib</span></code> flag.</p></li>
</ul>
</li>
<li><p><strong>libtiff</strong> provides compressed TIFF functionality</p>
<ul>
<li><p>Pillow has been tested with libtiff versions <strong>3.x</strong> and <strong>4.0-4.3</strong></p></li>
</ul>
</li>
<li><p><strong>libfreetype</strong> provides type related services</p></li>
<li><p><strong>littlecms</strong> provides color management</p>
<ul>
<li><p>Pillow version 2.2.1 and below uses liblcms1, Pillow 2.3.0 and
above uses liblcms2. Tested with <strong>1.19</strong> and <strong>2.7-2.12</strong>.</p></li>
</ul>
</li>
<li><p><strong>libwebp</strong> provides the WebP format.</p>
<ul>
<li><p>Pillow has been tested with version <strong>0.1.3</strong>, which does not read
transparent WebP files. Versions <strong>0.3.0</strong> and above support
transparency.</p></li>
</ul>
</li>
<li><p><strong>tcl/tk</strong> provides support for tkinter bitmap and photo images.</p></li>
<li><p><strong>openjpeg</strong> provides JPEG 2000 functionality.</p>
<ul>
<li><p>Pillow has been tested with openjpeg <strong>2.0.0</strong>, <strong>2.1.0</strong>, <strong>2.3.1</strong> and <strong>2.4.0</strong>.</p></li>
<li><p>Pillow does <strong>not</strong> support the earlier <strong>1.5</strong> series which ships
with Debian Jessie.</p></li>
</ul>
</li>
<li><p><strong>libimagequant</strong> provides improved color quantization</p>
<ul>
<li><p>Pillow has been tested with libimagequant <strong>2.6-2.15.1</strong></p></li>
<li><p>Libimagequant is licensed GPLv3, which is more restrictive than
the Pillow license, therefore we will not be distributing binaries
with libimagequant support enabled.</p></li>
</ul>
</li>
<li><p><strong>libraqm</strong> provides complex text layout support.</p>
<ul>
<li><p>libraqm provides bidirectional text support (using FriBiDi),
shaping (using HarfBuzz), and proper script itemization. As a
result, Raqm can support most writing systems covered by Unicode.</p></li>
<li><p>libraqm depends on the following libraries: FreeType, HarfBuzz,
FriBiDi, make sure that you install them before installing libraqm
if not available as package in your system.</p></li>
<li><p>Setting text direction or font features is not supported without libraqm.</p></li>
<li><p>Pillow wheels since version 8.2.0 include a modified version of libraqm that
loads libfribidi at runtime if it is installed.
On Windows this requires compiling FriBiDi and installing <code class="docutils literal notranslate"><span class="pre">fribidi.dll</span></code>
into a directory listed in the <a class="reference external" href="https://docs.microsoft.com/en-us/windows/win32/dlls/dynamic-link-library-search-order#search-order-for-desktop-applications">Dynamic-Link Library Search Order (Microsoft Docs)</a>
(<code class="docutils literal notranslate"><span class="pre">fribidi-0.dll</span></code> or <code class="docutils literal notranslate"><span class="pre">libfribidi-0.dll</span></code> are also detected).
See <a class="reference internal" href="#build-options">Build Options</a> to see how to build this version.</p></li>
<li><p>Previous versions of Pillow (5.0.0 to 8.1.2) linked libraqm dynamically at runtime.</p></li>
</ul>
</li>
<li><p><strong>libxcb</strong> provides X11 screengrab support.</p></li>
</ul>
<p>Once you have installed the prerequisites, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<p>If the prerequisites are installed in the standard library locations
for your machine (e.g. <code class="file docutils literal notranslate"><span class="pre">/usr</span></code> or <code class="file docutils literal notranslate"><span class="pre">/usr/local</span></code>), no
additional configuration should be required. If they are installed in
a non-standard location, you may need to configure setuptools to use
those locations by editing <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> or
<code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code>, or by adding environment variables on the command
line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-I/usr/pkg/include&quot;</span> <span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<p>If Pillow has been previously built without the required
prerequisites, it may be necessary to manually clear the pip cache or
build without cache using the <code class="docutils literal notranslate"><span class="pre">--no-cache-dir</span></code> option to force a
build with newly installed external libraries.</p>
</section>
<section id="build-options">
<h4>Build Options<a class="headerlink" href="#build-options" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MAX_CONCURRENCY=n</span></code>. Pillow can use
multiprocessing to build the extension. Setting <code class="docutils literal notranslate"><span class="pre">MAX_CONCURRENCY</span></code>
sets the number of CPUs to use, or can disable parallel building by
using a setting of 1. By default, it uses 4 CPUs, or if 4 are not
available, as many as are present.</p></li>
<li><p>Build flags: <code class="docutils literal notranslate"><span class="pre">--disable-zlib</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-jpeg</span></code>,
<code class="docutils literal notranslate"><span class="pre">--disable-tiff</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-freetype</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-lcms</span></code>,
<code class="docutils literal notranslate"><span class="pre">--disable-webp</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-webpmux</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-jpeg2000</span></code>,
<code class="docutils literal notranslate"><span class="pre">--disable-imagequant</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-xcb</span></code>.
Disable building the corresponding feature even if the development
libraries are present on the building machine.</p></li>
<li><p>Build flags: <code class="docutils literal notranslate"><span class="pre">--enable-zlib</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-jpeg</span></code>,
<code class="docutils literal notranslate"><span class="pre">--enable-tiff</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-freetype</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-lcms</span></code>,
<code class="docutils literal notranslate"><span class="pre">--enable-webp</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-webpmux</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-jpeg2000</span></code>,
<code class="docutils literal notranslate"><span class="pre">--enable-imagequant</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-xcb</span></code>.
Require that the corresponding feature is built. The build will raise
an exception if the libraries are not found. Webpmux (WebP metadata)
relies on WebP support. Tcl and Tk also must be used together.</p></li>
<li><p>Build flags: <code class="docutils literal notranslate"><span class="pre">--vendor-raqm</span> <span class="pre">--vendor-fribidi</span></code>
These flags are used to compile a modified version of libraqm and
a shim that dynamically loads libfribidi at runtime. These are
used to compile the standard Pillow wheels. Compiling libraqm requires
a C99-compliant compiler.</p></li>
<li><p>Build flag: <code class="docutils literal notranslate"><span class="pre">--disable-platform-guessing</span></code>. Skips all of the
platform dependent guessing of include and library directories for
automated build systems that configure the proper paths in the
environment variables (e.g. Buildroot).</p></li>
<li><p>Build flag: <code class="docutils literal notranslate"><span class="pre">--debug</span></code>. Adds a debugging flag to the include and
library search process to dump all paths searched for and found to
stdout.</p></li>
</ul>
<p>Sample usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MAX_CONCURRENCY</span><span class="o">=</span><span class="mi">1</span> <span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build_ext</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span> <span class="n">install</span>
</pre></div>
</div>
<p>or using pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span> <span class="o">--</span><span class="k">global</span><span class="o">-</span><span class="n">option</span><span class="o">=</span><span class="s2">&quot;build_ext&quot;</span> <span class="o">--</span><span class="k">global</span><span class="o">-</span><span class="n">option</span><span class="o">=</span><span class="s2">&quot;--enable-[feature]&quot;</span>
</pre></div>
</div>
</section>
<section id="building-on-macos">
<h4>Building on macOS<a class="headerlink" href="#building-on-macos" title="Permalink to this headline">¶</a></h4>
<p>The Xcode command line tools are required to compile portions of
Pillow. The tools are installed by running <code class="docutils literal notranslate"><span class="pre">xcode-select</span> <span class="pre">--install</span></code>
from the command line. The command line tools are required even if you
have the full Xcode package installed.  It may be necessary to run
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">xcodebuild</span> <span class="pre">-license</span></code> to accept the license prior to using the
tools.</p>
<p>The easiest way to install external libraries is via <a class="reference external" href="https://brew.sh/">Homebrew</a>. After you install Homebrew, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">libtiff</span> <span class="n">libjpeg</span> <span class="n">webp</span> <span class="n">little</span><span class="o">-</span><span class="n">cms2</span>
</pre></div>
</div>
<p>To install libraqm on macOS use Homebrew to install its dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">freetype</span> <span class="n">harfbuzz</span> <span class="n">fribidi</span>
</pre></div>
</div>
<p>Then see <code class="docutils literal notranslate"><span class="pre">depends/install_raqm_cmake.sh</span></code> to install libraqm.</p>
<p>Now install Pillow with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
<p>or from within the uncompressed source directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</section>
<section id="building-on-windows">
<h4>Building on Windows<a class="headerlink" href="#building-on-windows" title="Permalink to this headline">¶</a></h4>
<p>We recommend you use prebuilt wheels from PyPI.
If you wish to compile Pillow manually, you can use the build scripts
in the <code class="docutils literal notranslate"><span class="pre">winbuild</span></code> directory used for CI testing and development.
These scripts require Visual Studio 2017 or newer and NASM.</p>
</section>
<section id="building-on-windows-using-msys2-mingw">
<h4>Building on Windows using MSYS2/MinGW<a class="headerlink" href="#building-on-windows-using-msys2-mingw" title="Permalink to this headline">¶</a></h4>
<p>To build Pillow using MSYS2, make sure you run the <strong>MSYS2 MinGW 32-bit</strong> or
<strong>MSYS2 MinGW 64-bit</strong> console, <em>not</em> <strong>MSYS2</strong> directly.</p>
<p>The following instructions target the 64-bit build, for 32-bit
replace all occurrences of <code class="docutils literal notranslate"><span class="pre">mingw-w64-x86_64-</span></code> with <code class="docutils literal notranslate"><span class="pre">mingw-w64-i686-</span></code>.</p>
<p>Make sure you have Python and GCC installed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">gcc</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">python3</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">python3</span><span class="o">-</span><span class="n">pip</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">python3</span><span class="o">-</span><span class="n">setuptools</span>
</pre></div>
</div>
<p>Prerequisites are installed on <strong>MSYS2 MinGW 64-bit</strong> with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">libjpeg</span><span class="o">-</span><span class="n">turbo</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">zlib</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">libtiff</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">freetype</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">lcms2</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">libwebp</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">openjpeg2</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">libimagequant</span> \
    <span class="n">mingw</span><span class="o">-</span><span class="n">w64</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">libraqm</span>
</pre></div>
</div>
<p>Now install Pillow with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span>
</pre></div>
</div>
</section>
<section id="building-on-freebsd">
<h4>Building on FreeBSD<a class="headerlink" href="#building-on-freebsd" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only FreeBSD 10 and 11 tested</p>
</div>
<p>Make sure you have Python’s development libraries installed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pkg</span> <span class="n">install</span> <span class="n">python3</span>
</pre></div>
</div>
<p>Prerequisites are installed on <strong>FreeBSD 10 or 11</strong> with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pkg</span> <span class="n">install</span> <span class="n">jpeg</span><span class="o">-</span><span class="n">turbo</span> <span class="n">tiff</span> <span class="n">webp</span> <span class="n">lcms2</span> <span class="n">freetype2</span> <span class="n">openjpeg</span> <span class="n">harfbuzz</span> <span class="n">fribidi</span> <span class="n">libxcb</span>
</pre></div>
</div>
<p>Then see <code class="docutils literal notranslate"><span class="pre">depends/install_raqm_cmake.sh</span></code> to install libraqm.</p>
</section>
<section id="building-on-linux">
<h4>Building on Linux<a class="headerlink" href="#building-on-linux" title="Permalink to this headline">¶</a></h4>
<p>If you didn’t build Python from source, make sure you have Python’s
development libraries installed.</p>
<p>In Debian or Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">setuptools</span>
</pre></div>
</div>
<p>In Fedora, the command is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dnf</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">devel</span> <span class="n">redhat</span><span class="o">-</span><span class="n">rpm</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>In Alpine, the command is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apk</span> <span class="n">add</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="n">py3</span><span class="o">-</span><span class="n">setuptools</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">redhat-rpm-config</span></code> is required on Fedora 23, but not earlier versions.</p>
</div>
<p>Prerequisites for <strong>Ubuntu 16.04 LTS - 20.04 LTS</strong> are installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libtiff5</span><span class="o">-</span><span class="n">dev</span> <span class="n">libjpeg8</span><span class="o">-</span><span class="n">dev</span> <span class="n">libopenjp2</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">dev</span> <span class="n">zlib1g</span><span class="o">-</span><span class="n">dev</span> \
    <span class="n">libfreetype6</span><span class="o">-</span><span class="n">dev</span> <span class="n">liblcms2</span><span class="o">-</span><span class="n">dev</span> <span class="n">libwebp</span><span class="o">-</span><span class="n">dev</span> <span class="n">tcl8</span><span class="mf">.6</span><span class="o">-</span><span class="n">dev</span> <span class="n">tk8</span><span class="mf">.6</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">tk</span> \
    <span class="n">libharfbuzz</span><span class="o">-</span><span class="n">dev</span> <span class="n">libfribidi</span><span class="o">-</span><span class="n">dev</span> <span class="n">libxcb1</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>Then see <code class="docutils literal notranslate"><span class="pre">depends/install_raqm.sh</span></code> to install libraqm.</p>
<p>Prerequisites are installed on recent <strong>Red Hat</strong>, <strong>CentOS</strong> or <strong>Fedora</strong> with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dnf</span> <span class="n">install</span> <span class="n">libtiff</span><span class="o">-</span><span class="n">devel</span> <span class="n">libjpeg</span><span class="o">-</span><span class="n">devel</span> <span class="n">openjpeg2</span><span class="o">-</span><span class="n">devel</span> <span class="n">zlib</span><span class="o">-</span><span class="n">devel</span> \
    <span class="n">freetype</span><span class="o">-</span><span class="n">devel</span> <span class="n">lcms2</span><span class="o">-</span><span class="n">devel</span> <span class="n">libwebp</span><span class="o">-</span><span class="n">devel</span> <span class="n">tcl</span><span class="o">-</span><span class="n">devel</span> <span class="n">tk</span><span class="o">-</span><span class="n">devel</span> \
    <span class="n">harfbuzz</span><span class="o">-</span><span class="n">devel</span> <span class="n">fribidi</span><span class="o">-</span><span class="n">devel</span> <span class="n">libraqm</span><span class="o">-</span><span class="n">devel</span> <span class="n">libimagequant</span><span class="o">-</span><span class="n">devel</span> <span class="n">libxcb</span><span class="o">-</span><span class="n">devel</span>
</pre></div>
</div>
<p>Note that the package manager may be yum or DNF, depending on the
exact distribution.</p>
<p>Prerequisites are installed for <strong>Alpine</strong> with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apk</span> <span class="n">add</span> <span class="n">tiff</span><span class="o">-</span><span class="n">dev</span> <span class="n">jpeg</span><span class="o">-</span><span class="n">dev</span> <span class="n">openjpeg</span><span class="o">-</span><span class="n">dev</span> <span class="n">zlib</span><span class="o">-</span><span class="n">dev</span> <span class="n">freetype</span><span class="o">-</span><span class="n">dev</span> <span class="n">lcms2</span><span class="o">-</span><span class="n">dev</span> \
    <span class="n">libwebp</span><span class="o">-</span><span class="n">dev</span> <span class="n">tcl</span><span class="o">-</span><span class="n">dev</span> <span class="n">tk</span><span class="o">-</span><span class="n">dev</span> <span class="n">harfbuzz</span><span class="o">-</span><span class="n">dev</span> <span class="n">fribidi</span><span class="o">-</span><span class="n">dev</span> <span class="n">libimagequant</span><span class="o">-</span><span class="n">dev</span> \
    <span class="n">libxcb</span><span class="o">-</span><span class="n">dev</span> <span class="n">libpng</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>See also the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>s in the Test Infrastructure repo
(<a class="reference external" href="https://github.com/python-pillow/docker-images">https://github.com/python-pillow/docker-images</a>) for a known working
install process for other tested distros.</p>
</section>
<section id="building-on-android">
<h4>Building on Android<a class="headerlink" href="#building-on-android" title="Permalink to this headline">¶</a></h4>
<p>Basic Android support has been added for compilation within the Termux
environment. The dependencies can be installed by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pkg</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">python</span> <span class="n">ndk</span><span class="o">-</span><span class="n">sysroot</span> <span class="n">clang</span> <span class="n">make</span> \
    <span class="n">libjpeg</span><span class="o">-</span><span class="n">turbo</span>
</pre></div>
</div>
<p>This has been tested within the Termux app on ChromeOS, on x86.</p>
</section>
</section>
<section id="platform-support">
<h3>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline">¶</a></h3>
<p>Current platform support for Pillow. Binary distributions are
contributed for each release on a volunteer basis, but the source
should compile and run everywhere platform support is listed. In
general, we aim to support all current versions of Linux, macOS, and
Windows.</p>
<section id="continuous-integration-targets">
<h4>Continuous Integration Targets<a class="headerlink" href="#continuous-integration-targets" title="Permalink to this headline">¶</a></h4>
<p>These platforms are built and tested for every change.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 33%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operating system</p></th>
<th class="head"><p>Tested Python versions</p></th>
<th class="head"><p>Tested architecture</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Alpine</p></td>
<td><p>3.8</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Arch</p></td>
<td><p>3.8</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Amazon Linux 2</p></td>
<td><p>3.7</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>CentOS 7</p></td>
<td><p>3.6</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>CentOS 8</p></td>
<td><p>3.6</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Debian 10 Buster</p></td>
<td><p>3.7</p></td>
<td><p>x86</p></td>
</tr>
<tr class="row-even"><td><p>Fedora 33</p></td>
<td><p>3.9</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Fedora 34</p></td>
<td><p>3.9</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>macOS 10.15 Catalina</p></td>
<td><p>3.6, 3.7, 3.8, 3.9, PyPy3</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Ubuntu Linux 16.04 LTS (Xenial)</p></td>
<td><p>3.6, 3.7, 3.8, 3.9, PyPy3</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Ubuntu Linux 18.04 LTS (Bionic)</p></td>
<td><p>3.6, 3.7, 3.8, 3.9, PyPy3</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Ubuntu Linux 20.04 LTS (Focal)</p></td>
<td><p>3.8</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Windows Server 2016</p></td>
<td><p>3.6</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>Windows Server 2019</p></td>
<td><p>3.6, 3.7, 3.8, 3.9</p></td>
<td><p>x86, x86-64</p></td>
</tr>
<tr class="row-even"><td><p>PyPy3</p></td>
<td><p>x86</p></td>
</tr>
<tr class="row-odd"><td><p>3.8/MinGW</p></td>
<td><p>x86, x86-64</p></td>
</tr>
</tbody>
</table>
</section>
<section id="other-platforms">
<h4>Other Platforms<a class="headerlink" href="#other-platforms" title="Permalink to this headline">¶</a></h4>
<p>These platforms have been reported to work at the versions mentioned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contributors please test Pillow on your platform then update this
document and send a pull request.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 29%" />
<col style="width: 19%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operating system</p></th>
<th class="head"><div class="line-block">
<div class="line">Tested Python</div>
<div class="line">versions</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Latest tested</div>
<div class="line">Pillow version</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Tested</div>
<div class="line">processors</div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>macOS 11.0 Big Sur</p></td>
<td><p>3.7, 3.8, 3.9</p></td>
<td><p>8.2.0</p></td>
<td><p>arm</p></td>
</tr>
<tr class="row-odd"><td><p>3.6, 3.7, 3.8, 3.9</p></td>
<td><p>8.2.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>macOS 10.15 Catalina</p></td>
<td><p>3.6, 3.7, 3.8, 3.9</p></td>
<td><p>8.0.1</p></td>
<td rowspan="2"><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>3.5</p></td>
<td><p>7.2.0</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>macOS 10.14 Mojave</p></td>
<td><p>3.5, 3.6, 3.7, 3.8</p></td>
<td><p>7.2.0</p></td>
<td rowspan="3"><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>2.7</p></td>
<td><p>6.0.0</p></td>
</tr>
<tr class="row-even"><td><p>3.4</p></td>
<td><p>5.4.1</p></td>
</tr>
<tr class="row-odd"><td><p>macOS 10.13 High Sierra</p></td>
<td><p>2.7, 3.4, 3.5, 3.6</p></td>
<td><p>4.2.1</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>macOS 10.12 Sierra</p></td>
<td><p>2.7, 3.4, 3.5, 3.6</p></td>
<td><p>4.1.1</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Mac OS X 10.11 El Capitan</p></td>
<td><p>2.7, 3.4, 3.5, 3.6, 3.7</p></td>
<td><p>5.4.1</p></td>
<td rowspan="2"><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>3.3</p></td>
<td><p>4.1.0</p></td>
</tr>
<tr class="row-odd"><td><p>Mac OS X 10.9 Mavericks</p></td>
<td><p>2.7, 3.2, 3.3, 3.4</p></td>
<td><p>3.0.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Mac OS X 10.8 Mountain Lion</p></td>
<td><p>2.6, 2.7, 3.2, 3.3</p></td>
<td></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Redhat Linux 6</p></td>
<td><p>2.6</p></td>
<td></td>
<td><p>x86</p></td>
</tr>
<tr class="row-even"><td><p>CentOS 6.3</p></td>
<td><p>2.7, 3.3</p></td>
<td></td>
<td><p>x86</p></td>
</tr>
<tr class="row-odd"><td><p>Fedora 23</p></td>
<td><p>2.7, 3.4</p></td>
<td><p>3.1.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>Ubuntu Linux 12.04 LTS (Precise)</p></td>
<td><div class="line-block">
<div class="line">2.6, 3.2, 3.3, 3.4, 3.5</div>
<div class="line">PyPy5.3.1, PyPy3 v2.4.0</div>
</div>
</td>
<td><p>3.4.1</p></td>
<td><p>x86,x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>2.7</p></td>
<td><p>4.3.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>2.7, 3.2</p></td>
<td><p>3.4.1</p></td>
<td><p>ppc</p></td>
</tr>
<tr class="row-odd"><td><p>Ubuntu Linux 10.04 LTS (Lucid)</p></td>
<td><p>2.6</p></td>
<td><p>2.3.0</p></td>
<td><p>x86,x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Debian 8.2 Jessie</p></td>
<td><p>2.7, 3.4</p></td>
<td><p>3.1.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Raspbian Jessie</p></td>
<td><p>2.7, 3.4</p></td>
<td><p>3.1.0</p></td>
<td><p>arm</p></td>
</tr>
<tr class="row-even"><td><p>Raspbian Stretch</p></td>
<td><p>2.7, 3.5</p></td>
<td><p>4.0.0</p></td>
<td><p>arm</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Raspberry Pi OS</p></td>
<td><p>3.6, 3.7, 3.8, 3.9</p></td>
<td><p>8.2.0</p></td>
<td rowspan="2"><p>arm</p></td>
</tr>
<tr class="row-even"><td><p>2.7</p></td>
<td><p>6.2.2</p></td>
</tr>
<tr class="row-odd"><td><p>Gentoo Linux</p></td>
<td><p>2.7, 3.2</p></td>
<td><p>2.1.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>FreeBSD 11.1</p></td>
<td><p>2.7, 3.4, 3.5, 3.6</p></td>
<td><p>4.3.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>FreeBSD 10.3</p></td>
<td><p>2.7, 3.4, 3.5</p></td>
<td><p>4.2.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>FreeBSD 10.2</p></td>
<td><p>2.7, 3.4</p></td>
<td><p>3.1.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Windows 10</p></td>
<td><p>3.7</p></td>
<td><p>7.1.0</p></td>
<td><p>x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Windows 8.1 Pro</p></td>
<td><p>2.6, 2.7, 3.2, 3.3, 3.4</p></td>
<td><p>2.4.0</p></td>
<td><p>x86,x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Windows 8 Pro</p></td>
<td><p>2.6, 2.7, 3.2, 3.3, 3.4a3</p></td>
<td><p>2.2.0</p></td>
<td><p>x86,x86-64</p></td>
</tr>
<tr class="row-even"><td><p>Windows 7 Professional</p></td>
<td><p>3.7</p></td>
<td><p>7.0.0</p></td>
<td><p>x86,x86-64</p></td>
</tr>
<tr class="row-odd"><td><p>Windows Server 2008 R2 Enterprise</p></td>
<td><p>3.3</p></td>
<td></td>
<td><p>x86-64</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="old-versions">
<h3>Old Versions<a class="headerlink" href="#old-versions" title="Permalink to this headline">¶</a></h3>
<p>You can download old distributions from the <a class="reference external" href="https://pypi.org/project/Pillow/#history">release history at PyPI</a> and by direct URL access
eg. <a class="reference external" href="https://pypi.org/project/Pillow/1.0/">https://pypi.org/project/Pillow/1.0/</a>.</p>
</section>
</section>
<span id="document-handbook/index"></span><section id="handbook">
<h2>Handbook<a class="headerlink" href="#handbook" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-handbook/overview"></span><section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Python Imaging Library</strong> adds image processing capabilities to your
Python interpreter.</p>
<p>This library provides extensive file format support, an efficient internal
representation, and fairly powerful image processing capabilities.</p>
<p>The core image library is designed for fast access to data stored in a few
basic pixel formats. It should provide a solid foundation for a general image
processing tool.</p>
<p>Let’s look at a few possible uses of this library.</p>
<section id="image-archives">
<h4>Image Archives<a class="headerlink" href="#image-archives" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library is ideal for image archival and batch processing
applications. You can use the library to create thumbnails, convert between
file formats, print images, etc.</p>
<p>The current version identifies and reads a large number of formats. Write
support is intentionally restricted to the most commonly used interchange and
presentation formats.</p>
</section>
<section id="image-display">
<h4>Image Display<a class="headerlink" href="#image-display" title="Permalink to this headline">¶</a></h4>
<p>The current release includes Tk <a class="reference internal" href="index.html#PIL.ImageTk.PhotoImage" title="PIL.ImageTk.PhotoImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">PhotoImage</span></code></a> and
<a class="reference internal" href="index.html#PIL.ImageTk.BitmapImage" title="PIL.ImageTk.BitmapImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">BitmapImage</span></code></a> interfaces, as well as a <a class="reference internal" href="index.html#module-PIL.ImageWin" title="PIL.ImageWin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Windows</span>
<span class="pre">DIB</span> <span class="pre">interface</span></code></a> that can be used with PythonWin and other
Windows-based toolkits. Many other GUI toolkits come with some kind of PIL
support.</p>
<p>For debugging, there’s also a <a class="reference internal" href="index.html#PIL.Image.Image.show" title="PIL.Image.Image.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a> method which saves an image to
disk, and calls an external display utility.</p>
</section>
<section id="image-processing">
<h4>Image Processing<a class="headerlink" href="#image-processing" title="Permalink to this headline">¶</a></h4>
<p>The library contains basic image processing functionality, including point operations, filtering with a set of built-in convolution kernels, and colour space conversions.</p>
<p>The library also supports image resizing, rotation and arbitrary affine transforms.</p>
<p>There’s a histogram method allowing you to pull some statistics out of an image. This can be used for automatic contrast enhancement, and for global statistical analysis.</p>
</section>
</section>
<span id="document-handbook/tutorial"></span><section id="tutorial">
<h3>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h3>
<section id="using-the-image-class">
<h4>Using the Image class<a class="headerlink" href="#using-the-image-class" title="Permalink to this headline">¶</a></h4>
<p>The most important class in the Python Imaging Library is the
<a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class, defined in the module with the same name.
You can create instances of this class in several ways; either by loading
images from files, processing other images, or creating images from scratch.</p>
<p>To load an image from a file, use the <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function
in the <a class="reference internal" href="index.html#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.ppm&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If successful, this function returns an <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.
You can now use instance attributes to examine the file contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
<span class="go">PPM (512, 512) RGB</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.format" title="PIL.Image.Image.format"><code class="xref py py-attr docutils literal notranslate"><span class="pre">format</span></code></a> attribute identifies the source of an
image. If the image was not read from a file, it is set to None. The size
attribute is a 2-tuple containing width and height (in pixels). The
<a class="reference internal" href="index.html#PIL.Image.Image.mode" title="PIL.Image.Image.mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mode</span></code></a> attribute defines the number and names of the
bands in the image, and also the pixel type and depth. Common modes are “L”
(luminance) for greyscale images, “RGB” for true color images, and “CMYK” for
pre-press images.</p>
<p>If the file cannot be opened, an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> exception is raised.</p>
<p>Once you have an instance of the <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class, you can use
the methods defined by this class to process and manipulate the image. For
example, let’s display the image we just loaded:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The standard version of <a class="reference internal" href="index.html#PIL.Image.Image.show" title="PIL.Image.Image.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a> is not very
efficient, since it saves the image to a temporary file and calls a utility
to display the image. If you don’t have an appropriate utility installed,
it won’t even work. When it does work though, it is very handy for
debugging and tests.</p>
</div>
<p>The following sections provide an overview of the different functions provided in this library.</p>
</section>
<section id="reading-and-writing-images">
<h4>Reading and writing images<a class="headerlink" href="#reading-and-writing-images" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library supports a wide variety of image file formats. To
read files from disk, use the <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function in the
<a class="reference internal" href="index.html#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> module. You don’t have to know the file format to open a
file. The library automatically determines the format based on the contents of
the file.</p>
<p>To save a file, use the <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method of the
<a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class. When saving files, the name becomes
important. Unless you specify the format, the library uses the filename
extension to discover which file storage format to use.</p>
<section id="convert-files-to-jpeg">
<h5>Convert files to JPEG<a class="headerlink" href="#convert-files-to-jpeg" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="n">f</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
    <span class="n">outfile</span> <span class="o">=</span> <span class="n">f</span> <span class="o">+</span> <span class="s2">&quot;.jpg&quot;</span>
    <span class="k">if</span> <span class="n">infile</span> <span class="o">!=</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
                <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">outfile</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cannot convert&quot;</span><span class="p">,</span> <span class="n">infile</span><span class="p">)</span>
</pre></div>
</div>
<p>A second argument can be supplied to the <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>
method which explicitly specifies a file format. If you use a non-standard
extension, you must always specify the format this way:</p>
</section>
<section id="create-jpeg-thumbnails">
<h5>Create JPEG thumbnails<a class="headerlink" href="#create-jpeg-thumbnails" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>

<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="n">outfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.thumbnail&quot;</span>
    <span class="k">if</span> <span class="n">infile</span> <span class="o">!=</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
                <span class="n">im</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
                <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;JPEG&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cannot create thumbnail for&quot;</span><span class="p">,</span> <span class="n">infile</span><span class="p">)</span>
</pre></div>
</div>
<p>It is important to note that the library doesn’t decode or load the raster data
unless it really has to. When you open a file, the file header is read to
determine the file format and extract things like mode, size, and other
properties required to decode the file, but the rest of the file is not
processed until later.</p>
<p>This means that opening an image file is a fast operation, which is independent
of the file size and compression type. Here’s a simple script to quickly
identify a set of image files:</p>
</section>
<section id="identify-image-files">
<h5>Identify Image Files<a class="headerlink" href="#identify-image-files" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">pass</span>
</pre></div>
</div>
</section>
</section>
<section id="cutting-pasting-and-merging-images">
<h4>Cutting, pasting, and merging images<a class="headerlink" href="#cutting-pasting-and-merging-images" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class contains methods allowing you to
manipulate regions within an image. To extract a sub-rectangle from an image,
use the <a class="reference internal" href="index.html#PIL.Image.Image.crop" title="PIL.Image.Image.crop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">crop()</span></code></a> method.</p>
<section id="copying-a-subrectangle-from-an-image">
<h5>Copying a subrectangle from an image<a class="headerlink" href="#copying-a-subrectangle-from-an-image" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
</pre></div>
</div>
<p>The region is defined by a 4-tuple, where coordinates are (left, upper, right,
lower). The Python Imaging Library uses a coordinate system with (0, 0) in the
upper left corner. Also note that coordinates refer to positions between the
pixels, so the region in the above example is exactly 300x300 pixels.</p>
<p>The region could now be processed in a certain manner and pasted back.</p>
</section>
<section id="processing-a-subrectangle-and-pasting-it-back">
<h5>Processing a subrectangle, and pasting it back<a class="headerlink" href="#processing-a-subrectangle-and-pasting-it-back" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ROTATE_180</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="n">box</span><span class="p">)</span>
</pre></div>
</div>
<p>When pasting regions back, the size of the region must match the given region
exactly. In addition, the region cannot extend outside the image. However, the
modes of the original image and the region do not need to match. If they don’t,
the region is automatically converted before being pasted (see the section on
<a class="reference internal" href="#color-transforms"><span class="std std-ref">Color transforms</span></a> below for details).</p>
<p>Here’s an additional example:</p>
</section>
<section id="rolling-an-image">
<h5>Rolling an image<a class="headerlink" href="#rolling-an-image" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Roll an image sideways.&quot;&quot;&quot;</span>
    <span class="n">xsize</span><span class="p">,</span> <span class="n">ysize</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>

    <span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">%</span> <span class="n">xsize</span>
    <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">image</span>

    <span class="n">part1</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">ysize</span><span class="p">))</span>
    <span class="n">part2</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="n">delta</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">xsize</span><span class="p">,</span> <span class="n">ysize</span><span class="p">))</span>
    <span class="n">image</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">part1</span><span class="p">,</span> <span class="p">(</span><span class="n">xsize</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">xsize</span><span class="p">,</span> <span class="n">ysize</span><span class="p">))</span>
    <span class="n">image</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">part2</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">xsize</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="n">ysize</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">image</span>
</pre></div>
</div>
<p>For more advanced tricks, the paste method can also take a transparency mask as
an optional argument. In this mask, the value 255 indicates that the pasted
image is opaque in that position (that is, the pasted image should be used as
is). The value 0 means that the pasted image is completely transparent. Values
in-between indicate different levels of transparency. For example, pasting an
RGBA image and also using it as the mask would paste the opaque portion
of the image but not its transparent background.</p>
<p>The Python Imaging Library also allows you to work with the individual bands of
an multi-band image, such as an RGB image. The split method creates a set of
new images, each containing one band from the original multi-band image. The
merge function takes a mode and a tuple of images, and combines them into a new
image. The following sample swaps the three bands of an RGB image:</p>
</section>
<section id="splitting-and-merging-bands">
<h5>Splitting and merging bands<a class="headerlink" href="#splitting-and-merging-bands" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that for a single-band image, <a class="reference internal" href="index.html#PIL.Image.Image.split" title="PIL.Image.Image.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code></a> returns
the image itself. To work with individual color bands, you may want to convert
the image to “RGB” first.</p>
</section>
</section>
<section id="geometrical-transforms">
<h4>Geometrical transforms<a class="headerlink" href="#geometrical-transforms" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code></a> class contains methods to
<a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.rotate" title="PIL.Image.Image.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> an
image. The former takes a tuple giving the new size, the latter the angle in
degrees counter-clockwise.</p>
<section id="simple-geometry-transforms">
<h5>Simple geometry transforms<a class="headerlink" href="#simple-geometry-transforms" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="c1"># degrees counter-clockwise</span>
</pre></div>
</div>
<p>To rotate the image in 90 degree steps, you can either use the
<a class="reference internal" href="index.html#PIL.Image.Image.rotate" title="PIL.Image.Image.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> method or the
<a class="reference internal" href="index.html#PIL.Image.Image.transpose" title="PIL.Image.Image.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transpose()</span></code></a> method. The latter can also be used to
flip an image around its horizontal or vertical axis.</p>
</section>
<section id="transposing-an-image">
<h5>Transposing an image<a class="headerlink" href="#transposing-an-image" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_LEFT_RIGHT</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ROTATE_90</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ROTATE_180</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ROTATE_270</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">transpose(ROTATE)</span></code> operations can also be performed identically with
<a class="reference internal" href="index.html#PIL.Image.Image.rotate" title="PIL.Image.Image.rotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rotate()</span></code></a> operations, provided the <code class="docutils literal notranslate"><span class="pre">expand</span></code> flag is
true, to provide for the same changes to the image’s size.</p>
<p>A more general form of image transformations can be carried out via the
<a class="reference internal" href="index.html#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a> method.</p>
</section>
</section>
<section id="color-transforms">
<span id="id1"></span><h4>Color transforms<a class="headerlink" href="#color-transforms" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library allows you to convert images between different pixel
representations using the <a class="reference internal" href="index.html#PIL.Image.Image.convert" title="PIL.Image.Image.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert()</span></code></a> method.</p>
<section id="converting-between-modes">
<h5>Converting between modes<a class="headerlink" href="#converting-between-modes" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.ppm&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;L&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The library supports transformations between each supported mode and the “L”
and “RGB” modes. To convert between other modes, you may have to use an
intermediate image (typically an “RGB” image).</p>
</section>
</section>
<section id="image-enhancement">
<h4>Image enhancement<a class="headerlink" href="#image-enhancement" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library provides a number of methods and modules that can be
used to enhance images.</p>
<section id="filters">
<h5>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference internal" href="index.html#module-PIL.ImageFilter" title="PIL.ImageFilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFilter</span></code></a> module contains a number of pre-defined
enhancement filters that can be used with the
<a class="reference internal" href="index.html#PIL.Image.Image.filter" title="PIL.Image.Image.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter()</span></code></a> method.</p>
<section id="applying-filters">
<h6>Applying filters<a class="headerlink" href="#applying-filters" title="Permalink to this headline">¶</a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFilter</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">DETAIL</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="point-operations">
<h5>Point Operations<a class="headerlink" href="#point-operations" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.point" title="PIL.Image.Image.point"><code class="xref py py-meth docutils literal notranslate"><span class="pre">point()</span></code></a> method can be used to translate the pixel
values of an image (e.g. image contrast manipulation). In most cases, a
function object expecting one argument can be passed to this method. Each
pixel is processed according to that function:</p>
<section id="applying-point-transforms">
<h6>Applying point transforms<a class="headerlink" href="#applying-point-transforms" title="Permalink to this headline">¶</a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># multiply each pixel by 1.2</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the above technique, you can quickly apply any simple expression to an
image. You can also combine the <a class="reference internal" href="index.html#PIL.Image.Image.point" title="PIL.Image.Image.point"><code class="xref py py-meth docutils literal notranslate"><span class="pre">point()</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.paste" title="PIL.Image.Image.paste"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paste()</span></code></a> methods to selectively modify an image:</p>
</section>
<section id="processing-individual-bands">
<h6>Processing individual bands<a class="headerlink" href="#processing-individual-bands" title="Permalink to this headline">¶</a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># split the image into individual bands</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="n">R</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>

<span class="c1"># select regions where red is less than 100</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="n">R</span><span class="p">]</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="mi">255</span><span class="p">)</span>

<span class="c1"># process the green band</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="n">G</span><span class="p">]</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># paste the processed band back, but only where red was &lt; 100</span>
<span class="n">source</span><span class="p">[</span><span class="n">G</span><span class="p">]</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>

<span class="c1"># build a new multiband image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
<p>Note the syntax used to create the mask:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">imout</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">expression</span> <span class="ow">and</span> <span class="mi">255</span><span class="p">)</span>
</pre></div>
</div>
<p>Python only evaluates the portion of a logical expression as is necessary to
determine the outcome, and returns the last value examined as the result of the
expression. So if the expression above is false (0), Python does not look at
the second operand, and thus returns 0. Otherwise, it returns 255.</p>
</section>
</section>
<section id="enhancement">
<h5>Enhancement<a class="headerlink" href="#enhancement" title="Permalink to this headline">¶</a></h5>
<p>For more advanced image enhancement, you can use the classes in the
<a class="reference internal" href="index.html#module-PIL.ImageEnhance" title="PIL.ImageEnhance"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageEnhance</span></code></a> module. Once created from an image, an enhancement
object can be used to quickly try out different settings.</p>
<p>You can adjust contrast, brightness, color balance and sharpness in this way.</p>
<section id="enhancing-images">
<h6>Enhancing images<a class="headerlink" href="#enhancing-images" title="Permalink to this headline">¶</a></h6>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageEnhance</span>

<span class="n">enh</span> <span class="o">=</span> <span class="n">ImageEnhance</span><span class="o">.</span><span class="n">Contrast</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">enh</span><span class="o">.</span><span class="n">enhance</span><span class="p">(</span><span class="mf">1.3</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s2">&quot;30% more contrast&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="image-sequences">
<h4>Image sequences<a class="headerlink" href="#image-sequences" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library contains some basic support for image sequences
(also called animation formats). Supported sequence formats include FLI/FLC,
GIF, and a few experimental formats. TIFF files can also contain more than one
frame.</p>
<p>When you open a sequence file, PIL automatically loads the first frame in the
sequence. You can use the seek and tell methods to move between different
frames:</p>
<section id="reading-sequences">
<h5>Reading sequences<a class="headerlink" href="#reading-sequences" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;animation.gif&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># skip to the second frame</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">im</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># do something to im</span>
    <span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
        <span class="k">pass</span> <span class="c1"># end of sequence</span>
</pre></div>
</div>
<p>As seen in this example, you’ll get an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EOFError</span></code></a> exception when the
sequence ends.</p>
<p>The following class lets you use the for-statement to loop over the sequence:</p>
</section>
<section id="using-the-imagesequence-iterator-class">
<h5>Using the ImageSequence Iterator class<a class="headerlink" href="#using-the-imagesequence-iterator-class" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageSequence</span>
<span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">ImageSequence</span><span class="o">.</span><span class="n">Iterator</span><span class="p">(</span><span class="n">im</span><span class="p">):</span>
    <span class="c1"># ...do something to frame...</span>
</pre></div>
</div>
</section>
</section>
<section id="postscript-printing">
<h4>PostScript printing<a class="headerlink" href="#postscript-printing" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library includes functions to print images, text and
graphics on PostScript printers. Here’s a simple example:</p>
<section id="drawing-postscript">
<h5>Drawing PostScript<a class="headerlink" href="#drawing-postscript" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">PSDraw</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.ppm&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;hopper&quot;</span>
    <span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="mi">72</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">72</span><span class="p">,</span> <span class="mi">7</span><span class="o">*</span><span class="mi">72</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="mi">72</span><span class="p">)</span> <span class="c1"># in points</span>

    <span class="n">ps</span> <span class="o">=</span> <span class="n">PSDraw</span><span class="o">.</span><span class="n">PSDraw</span><span class="p">()</span> <span class="c1"># default is sys.stdout or sys.stdout.buffer</span>
    <span class="n">ps</span><span class="o">.</span><span class="n">begin_document</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>

    <span class="c1"># draw the image (75 dpi)</span>
    <span class="n">ps</span><span class="o">.</span><span class="n">image</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="n">im</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
    <span class="n">ps</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>

    <span class="c1"># draw title</span>
    <span class="n">ps</span><span class="o">.</span><span class="n">setfont</span><span class="p">(</span><span class="s2">&quot;HelveticaNarrow-Bold&quot;</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>
    <span class="n">ps</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">3</span><span class="o">*</span><span class="mi">72</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="mi">72</span><span class="p">),</span> <span class="n">title</span><span class="p">)</span>

    <span class="n">ps</span><span class="o">.</span><span class="n">end_document</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="more-on-reading-images">
<h4>More on reading images<a class="headerlink" href="#more-on-reading-images" title="Permalink to this headline">¶</a></h4>
<p>As described earlier, the <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function of the
<a class="reference internal" href="index.html#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> module is used to open an image file. In most cases, you
simply pass it the filename as an argument. <code class="docutils literal notranslate"><span class="pre">Image.open()</span></code> can be used as a
context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.ppm&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>If everything goes well, the result is an <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code></a> object.
Otherwise, an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> exception is raised.</p>
<p>You can use a file-like object instead of the filename. The object must
implement <code class="docutils literal notranslate"><span class="pre">file.read</span></code>, <code class="docutils literal notranslate"><span class="pre">file.seek</span></code> and <code class="docutils literal notranslate"><span class="pre">file.tell</span></code> methods,
and be opened in binary mode.</p>
<section id="reading-from-an-open-file">
<h5>Reading from an open file<a class="headerlink" href="#reading-from-an-open-file" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;hopper.ppm&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</pre></div>
</div>
<p>To read an image from binary data, use the <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a>
class:</p>
</section>
<section id="reading-from-binary-data">
<h5>Reading from binary data<a class="headerlink" href="#reading-from-binary-data" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">buffer</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that the library rewinds the file (using <code class="docutils literal notranslate"><span class="pre">seek(0)</span></code>) before reading the
image header. In addition, seek will also be used when the image data is read
(by the load method). If the image file is embedded in a larger file, such as a
tar file, you can use the <a class="reference internal" href="index.html#module-PIL.ContainerIO" title="PIL.ContainerIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerIO</span></code></a> or
<a class="reference internal" href="index.html#module-PIL.TarIO" title="PIL.TarIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">TarIO</span></code></a> modules to access it.</p>
</section>
<section id="reading-from-a-tar-archive">
<h5>Reading from a tar archive<a class="headerlink" href="#reading-from-a-tar-archive" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">TarIO</span>

<span class="n">fp</span> <span class="o">=</span> <span class="n">TarIO</span><span class="o">.</span><span class="n">TarIO</span><span class="p">(</span><span class="s2">&quot;Tests/images/hopper.tar&quot;</span><span class="p">,</span> <span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="controlling-the-decoder">
<h4>Controlling the decoder<a class="headerlink" href="#controlling-the-decoder" title="Permalink to this headline">¶</a></h4>
<p>Some decoders allow you to manipulate the image while reading it from a file.
This can often be used to speed up decoding when creating thumbnails (when
speed is usually more important than quality) and printing to a monochrome
laser printer (when only a greyscale version of the image is needed).</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> method manipulates an opened but not yet
loaded image so it as closely as possible matches the given mode and size. This
is done by reconfiguring the image decoder.</p>
<section id="reading-in-draft-mode">
<h5>Reading in draft mode<a class="headerlink" href="#reading-in-draft-mode" title="Permalink to this headline">¶</a></h5>
<p>This is only available for JPEG and MPO files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;original =&quot;</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="n">im</span><span class="o">.</span><span class="n">draft</span><span class="p">(</span><span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;draft =&quot;</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">original</span> <span class="o">=</span> <span class="n">RGB</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>
<span class="n">draft</span> <span class="o">=</span> <span class="n">L</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the resulting image may not exactly match the requested mode and
size. To make sure that the image is not larger than the given size, use the
thumbnail method instead.</p>
</section>
</section>
</section>
<span id="document-handbook/concepts"></span><section id="concepts">
<h3>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h3>
<p>The Python Imaging Library handles <em>raster images</em>; that is, rectangles of
pixel data.</p>
<section id="bands">
<span id="concept-bands"></span><h4>Bands<a class="headerlink" href="#bands" title="Permalink to this headline">¶</a></h4>
<p>An image can consist of one or more bands of data. The Python Imaging Library
allows you to store several bands in a single image, provided they all have the
same dimensions and depth.  For example, a PNG image might have ‘R’, ‘G’, ‘B’,
and ‘A’ bands for the red, green, blue, and alpha transparency values.  Many
operations act on each band separately, e.g., histograms.  It is often useful to
think of each pixel as having one value per band.</p>
<p>To get the number and names of bands in an image, use the
<a class="reference internal" href="index.html#PIL.Image.Image.getbands" title="PIL.Image.Image.getbands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getbands()</span></code></a> method.</p>
</section>
<section id="modes">
<span id="concept-modes"></span><h4>Modes<a class="headerlink" href="#modes" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">mode</span></code> of an image is a string which defines the type and depth of a pixel in the image.
Each pixel uses the full range of the bit depth. So a 1-bit pixel has a range
of 0-1, an 8-bit pixel has a range of 0-255 and so on. The current release
supports the following standard modes:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> (1-bit pixels, black and white, stored with one pixel per byte)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code> (8-bit pixels, black and white)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P</span></code> (8-bit pixels, mapped to any other mode using a color palette)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RGB</span></code> (3x8-bit pixels, true color)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RGBA</span></code> (4x8-bit pixels, true color with transparency mask)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMYK</span></code> (4x8-bit pixels, color separation)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">YCbCr</span></code> (3x8-bit pixels, color video format)</p>
<ul>
<li><p>Note that this refers to the JPEG, and not the ITU-R BT.2020, standard</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">LAB</span></code> (3x8-bit pixels, the L*a*b color space)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HSV</span></code> (3x8-bit pixels, Hue, Saturation, Value color space)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code> (32-bit signed integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F</span></code> (32-bit floating point pixels)</p></li>
</ul>
</div></blockquote>
<p>Pillow also provides limited support for a few additional modes, including:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LA</span></code> (L with alpha)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PA</span></code> (P with alpha)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RGBX</span></code> (true color with padding)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RGBa</span></code> (true color with premultiplied alpha)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">La</span></code> (L with premultiplied alpha)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I;16</span></code> (16-bit unsigned integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I;16L</span></code> (16-bit little endian unsigned integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I;16B</span></code> (16-bit big endian unsigned integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I;16N</span></code> (16-bit native endian unsigned integer pixels)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BGR;15</span></code> (15-bit reversed true colour)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BGR;16</span></code> (16-bit reversed true colour)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BGR;24</span></code> (24-bit reversed true colour)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BGR;32</span></code> (32-bit reversed true colour)</p></li>
</ul>
</div></blockquote>
<p>However, Pillow doesn’t support user-defined modes; if you need to handle band
combinations that are not listed above, use a sequence of Image objects.</p>
<p>You can read the mode of an image through the <a class="reference internal" href="index.html#PIL.Image.Image.mode" title="PIL.Image.Image.mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mode</span></code></a>
attribute. This is a string containing one of the above values.</p>
</section>
<section id="size">
<h4>Size<a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h4>
<p>You can read the image size through the <a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a>
attribute. This is a 2-tuple, containing the horizontal and vertical size in
pixels.</p>
</section>
<section id="coordinate-system">
<span id="id1"></span><h4>Coordinate System<a class="headerlink" href="#coordinate-system" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library uses a Cartesian pixel coordinate system, with (0,0)
in the upper left corner. Note that the coordinates refer to the implied pixel
corners; the centre of a pixel addressed as (0, 0) actually lies at (0.5, 0.5).</p>
<p>Coordinates are usually passed to the library as 2-tuples (x, y). Rectangles
are represented as 4-tuples, with the upper left corner given first. For
example, a rectangle covering all of an 800x600 pixel image is written as (0,
0, 800, 600).</p>
</section>
<section id="palette">
<h4>Palette<a class="headerlink" href="#palette" title="Permalink to this headline">¶</a></h4>
<p>The palette mode (<code class="docutils literal notranslate"><span class="pre">P</span></code>) uses a color palette to define the actual color for
each pixel.</p>
</section>
<section id="info">
<h4>Info<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h4>
<p>You can attach auxiliary information to an image using the
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> attribute. This is a dictionary object.</p>
<p>How such information is handled when loading and saving image files is up to
the file format handler (see the chapter on <a class="reference internal" href="index.html#image-file-formats"><span class="std std-ref">Image file formats</span></a>). Most
handlers add properties to the <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> attribute when
loading an image, but ignore it when saving images.</p>
</section>
<section id="orientation">
<h4>Orientation<a class="headerlink" href="#orientation" title="Permalink to this headline">¶</a></h4>
<p>A common element of the <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> attribute for JPG and
TIFF images is the EXIF orientation tag. This is an instruction for how the
image data should be oriented. For example, it may instruct an image to be
rotated by 90 degrees, or to be mirrored. To apply this information to an
image, <a class="reference internal" href="index.html#PIL.ImageOps.exif_transpose" title="PIL.ImageOps.exif_transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exif_transpose()</span></code></a> can be used.</p>
</section>
<section id="filters">
<span id="concept-filters"></span><h4>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h4>
<p>For geometry operations that may map multiple input pixels to a single output
pixel, the Python Imaging Library provides different resampling <em>filters</em>.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.NEAREST">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">NEAREST</span></span><a class="headerlink" href="#PIL.Image.NEAREST" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick one nearest pixel from the input image. Ignore all other input pixels.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.BOX">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BOX</span></span><a class="headerlink" href="#PIL.Image.BOX" title="Permalink to this definition">¶</a></dt>
<dd><p>Each pixel of source image contributes to one pixel of the
destination image with identical weights.
For upscaling is equivalent of <a class="reference internal" href="#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">NEAREST</span></code></a>.
This filter can only be used with the <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a>
and <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> methods.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.4.0.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.BILINEAR">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BILINEAR</span></span><a class="headerlink" href="#PIL.Image.BILINEAR" title="Permalink to this definition">¶</a></dt>
<dd><p>For resize calculate the output pixel value using linear interpolation
on all pixels that may contribute to the output value.
For other transformations linear interpolation over a 2x2 environment
in the input image is used.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.HAMMING">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">HAMMING</span></span><a class="headerlink" href="#PIL.Image.HAMMING" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a sharper image than <a class="reference internal" href="#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a>, doesn’t have dislocations
on local level like with <a class="reference internal" href="#PIL.Image.BOX" title="PIL.Image.BOX"><code class="xref py py-data docutils literal notranslate"><span class="pre">BOX</span></code></a>.
This filter can only be used with the <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a>
and <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> methods.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.4.0.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.BICUBIC">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BICUBIC</span></span><a class="headerlink" href="#PIL.Image.BICUBIC" title="Permalink to this definition">¶</a></dt>
<dd><p>For resize calculate the output pixel value using cubic interpolation
on all pixels that may contribute to the output value.
For other transformations cubic interpolation over a 4x4 environment
in the input image is used.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.LANCZOS">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">LANCZOS</span></span><a class="headerlink" href="#PIL.Image.LANCZOS" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the output pixel value using a high-quality Lanczos filter (a
truncated sinc) on all pixels that may contribute to the output value.
This filter can only be used with the <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a>
and <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> methods.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.3.</span></p>
</div>
</dd></dl>

<section id="filters-comparison-table">
<h5>Filters comparison table<a class="headerlink" href="#filters-comparison-table" title="Permalink to this headline">¶</a></h5>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 25%" />
<col style="width: 21%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filter</p></th>
<th class="head"><p>Downscaling
quality</p></th>
<th class="head"><p>Upscaling
quality</p></th>
<th class="head"><p>Performance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">NEAREST</span></code></a></p></td>
<td></td>
<td></td>
<td><p>⭐⭐⭐⭐⭐</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#PIL.Image.BOX" title="PIL.Image.BOX"><code class="xref py py-data docutils literal notranslate"><span class="pre">BOX</span></code></a></p></td>
<td><p>⭐</p></td>
<td></td>
<td><p>⭐⭐⭐⭐</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a></p></td>
<td><p>⭐</p></td>
<td><p>⭐</p></td>
<td><p>⭐⭐⭐</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#PIL.Image.HAMMING" title="PIL.Image.HAMMING"><code class="xref py py-data docutils literal notranslate"><span class="pre">HAMMING</span></code></a></p></td>
<td><p>⭐⭐</p></td>
<td></td>
<td><p>⭐⭐⭐</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a></p></td>
<td><p>⭐⭐⭐</p></td>
<td><p>⭐⭐⭐</p></td>
<td><p>⭐⭐</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">LANCZOS</span></code></a></p></td>
<td><p>⭐⭐⭐⭐</p></td>
<td><p>⭐⭐⭐⭐</p></td>
<td><p>⭐</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<span id="document-handbook/appendices"></span><section id="appendices">
<h3>Appendices<a class="headerlink" href="#appendices" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contributors please include appendices as needed or appropriate with your bug fixes, feature additions and tests.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-handbook/image-file-formats"></span><section id="image-file-formats">
<span id="id1"></span><h4><a class="toc-backref" href="#id4">Image file formats</a><a class="headerlink" href="#image-file-formats" title="Permalink to this headline">¶</a></h4>
<p>The Python Imaging Library supports a wide variety of raster file formats.
Over 30 different file formats can be identified and read by the library.
Write support is less extensive, but most common interchange and presentation
formats are supported.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> function identifies files from their
contents, not their names, but the <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method
looks at the name to determine which format to use, unless the format is given
explicitly.</p>
<p>When an image is opened from a file, only that instance of the image is considered to
have the format. Copies of the image will contain data loaded from the file, but not
the file itself, meaning that it can no longer be considered to be in the original
format. So if <a class="reference internal" href="index.html#PIL.Image.Image.copy" title="PIL.Image.Image.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy()</span></code></a> is called on an image, or another method
internally creates a copy of the image, the <code class="docutils literal notranslate"><span class="pre">fp</span></code> (file pointer), along with any
methods and attributes specific to a format. The <a class="reference internal" href="index.html#PIL.Image.Image.format" title="PIL.Image.Image.format"><code class="xref py py-attr docutils literal notranslate"><span class="pre">format</span></code></a>
attribute will be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<section id="fully-supported-formats">
<h5><a class="toc-backref" href="#id5">Fully supported formats</a><a class="headerlink" href="#fully-supported-formats" title="Permalink to this headline">¶</a></h5>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#image-file-formats" id="id4">Image file formats</a></p>
<ul>
<li><p><a class="reference internal" href="#fully-supported-formats" id="id5">Fully supported formats</a></p>
<ul>
<li><p><a class="reference internal" href="#bmp" id="id6">BMP</a></p></li>
<li><p><a class="reference internal" href="#dds" id="id7">DDS</a></p></li>
<li><p><a class="reference internal" href="#dib" id="id8">DIB</a></p></li>
<li><p><a class="reference internal" href="#eps" id="id9">EPS</a></p></li>
<li><p><a class="reference internal" href="#gif" id="id10">GIF</a></p>
<ul>
<li><p><a class="reference internal" href="#reading-sequences" id="id11">Reading sequences</a></p></li>
<li><p><a class="reference internal" href="#saving" id="id12">Saving</a></p></li>
<li><p><a class="reference internal" href="#reading-local-images" id="id13">Reading local images</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#icns" id="id14">ICNS</a></p></li>
<li><p><a class="reference internal" href="#ico" id="id15">ICO</a></p></li>
<li><p><a class="reference internal" href="#im" id="id16">IM</a></p></li>
<li><p><a class="reference internal" href="#jpeg" id="id17">JPEG</a></p></li>
<li><p><a class="reference internal" href="#jpeg-2000" id="id18">JPEG 2000</a></p></li>
<li><p><a class="reference internal" href="#msp" id="id19">MSP</a></p></li>
<li><p><a class="reference internal" href="#pcx" id="id20">PCX</a></p></li>
<li><p><a class="reference internal" href="#png" id="id21">PNG</a></p>
<ul>
<li><p><a class="reference internal" href="#apng-sequences" id="id22">APNG sequences</a></p></li>
<li><p><a class="reference internal" href="#apng-saving" id="id23">Saving</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ppm" id="id24">PPM</a></p></li>
<li><p><a class="reference internal" href="#sgi" id="id25">SGI</a></p></li>
<li><p><a class="reference internal" href="#spider" id="id26">SPIDER</a></p>
<ul>
<li><p><a class="reference internal" href="#writing-files-in-spider-format" id="id27">Writing files in SPIDER format</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tga" id="id28">TGA</a></p></li>
<li><p><a class="reference internal" href="#tiff" id="id29">TIFF</a></p>
<ul>
<li><p><a class="reference internal" href="#reading-multi-frame-tiff-images" id="id30">Reading Multi-frame TIFF Images</a></p></li>
<li><p><a class="reference internal" href="#saving-tiff-images" id="id31">Saving Tiff Images</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#webp" id="id32">WebP</a></p>
<ul>
<li><p><a class="reference internal" href="#saving-sequences" id="id33">Saving sequences</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#xbm" id="id34">XBM</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#read-only-formats" id="id35">Read-only formats</a></p>
<ul>
<li><p><a class="reference internal" href="#blp" id="id36">BLP</a></p></li>
<li><p><a class="reference internal" href="#cur" id="id37">CUR</a></p></li>
<li><p><a class="reference internal" href="#dcx" id="id38">DCX</a></p></li>
<li><p><a class="reference internal" href="#fli-flc" id="id39">FLI, FLC</a></p></li>
<li><p><a class="reference internal" href="#fpx" id="id40">FPX</a></p></li>
<li><p><a class="reference internal" href="#ftex" id="id41">FTEX</a></p></li>
<li><p><a class="reference internal" href="#gbr" id="id42">GBR</a></p></li>
<li><p><a class="reference internal" href="#gd" id="id43">GD</a></p></li>
<li><p><a class="reference internal" href="#imt" id="id44">IMT</a></p></li>
<li><p><a class="reference internal" href="#iptc-naa" id="id45">IPTC/NAA</a></p></li>
<li><p><a class="reference internal" href="#mcidas" id="id46">MCIDAS</a></p></li>
<li><p><a class="reference internal" href="#mic" id="id47">MIC</a></p></li>
<li><p><a class="reference internal" href="#mpo" id="id48">MPO</a></p></li>
<li><p><a class="reference internal" href="#pcd" id="id49">PCD</a></p></li>
<li><p><a class="reference internal" href="#pixar" id="id50">PIXAR</a></p></li>
<li><p><a class="reference internal" href="#psd" id="id51">PSD</a></p></li>
<li><p><a class="reference internal" href="#wal" id="id52">WAL</a></p></li>
<li><p><a class="reference internal" href="#wmf" id="id53">WMF</a></p></li>
<li><p><a class="reference internal" href="#xpm" id="id54">XPM</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#write-only-formats" id="id55">Write-only formats</a></p>
<ul>
<li><p><a class="reference internal" href="#palm" id="id56">PALM</a></p></li>
<li><p><a class="reference internal" href="#pdf" id="id57">PDF</a></p></li>
<li><p><a class="reference internal" href="#xv-thumbnails" id="id58">XV Thumbnails</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#identify-only-formats" id="id59">Identify-only formats</a></p>
<ul>
<li><p><a class="reference internal" href="#bufr" id="id60">BUFR</a></p></li>
<li><p><a class="reference internal" href="#fits" id="id61">FITS</a></p></li>
<li><p><a class="reference internal" href="#grib" id="id62">GRIB</a></p></li>
<li><p><a class="reference internal" href="#hdf5" id="id63">HDF5</a></p></li>
<li><p><a class="reference internal" href="#mpeg" id="id64">MPEG</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<section id="bmp">
<h6><a class="toc-backref" href="#id6">BMP</a><a class="headerlink" href="#bmp" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes Windows and OS/2 BMP files containing <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>,
or <code class="docutils literal notranslate"><span class="pre">RGB</span></code> data. 16-colour images are read as <code class="docutils literal notranslate"><span class="pre">P</span></code> images. Run-length encoding
is not supported.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>compression</strong></dt><dd><p>Set to <code class="docutils literal notranslate"><span class="pre">bmp_rle</span></code> if the file is run-length encoded.</p>
</dd>
</dl>
</section>
<section id="dds">
<h6><a class="toc-backref" href="#id7">DDS</a><a class="headerlink" href="#dds" title="Permalink to this headline">¶</a></h6>
<p>DDS is a popular container texture format used in video games and natively supported
by DirectX. Uncompressed RGB and RGBA can be read, and (since 8.3.0) written. DXT1,
DXT3 (since 3.4.0) and DXT5 pixel formats can be read, only in <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> mode.</p>
</section>
<section id="dib">
<h6><a class="toc-backref" href="#id8">DIB</a><a class="headerlink" href="#dib" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes DIB files. DIB files are similar to BMP files, so see
above for more information.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</div></blockquote>
</section>
<section id="eps">
<h6><a class="toc-backref" href="#id9">EPS</a><a class="headerlink" href="#eps" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies EPS files containing image data, and can read files that
contain embedded raster images (ImageData descriptors). If Ghostscript is
available, other EPS files can be read as well. The EPS driver can also write
EPS images. The EPS driver can read EPS images in <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">LAB</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code> and
<code class="docutils literal notranslate"><span class="pre">CMYK</span></code> mode, but Ghostscript may convert the images to <code class="docutils literal notranslate"><span class="pre">RGB</span></code> mode rather
than leaving them in the original color space. The EPS driver can write images
in <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code> and <code class="docutils literal notranslate"><span class="pre">CMYK</span></code> modes.</p>
<p>If Ghostscript is available, you can call the <a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>
method with the following parameter to affect how Ghostscript renders the EPS</p>
<dl>
<dt><strong>scale</strong></dt><dd><p>Affects the scale of the resultant rasterized image. If the EPS suggests
that the image be rendered at 100px x 100px, setting this parameter to
2 will make the Ghostscript render a 200px x 200px image instead. The
relative position of the bounding box is maintained:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">size</span> <span class="c1">#(100,100)</span>
<span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">size</span> <span class="c1">#(200,200)</span>
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="gif">
<h6><a class="toc-backref" href="#id10">GIF</a><a class="headerlink" href="#gif" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads GIF87a and GIF89a versions of the GIF file format. The library
writes run-length encoded files in GIF87a by default, unless GIF89a features
are used or GIF89a is already in use.</p>
<p>Note that GIF files are always read as grayscale (<code class="docutils literal notranslate"><span class="pre">L</span></code>)
or palette mode (<code class="docutils literal notranslate"><span class="pre">P</span></code>) images.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>background</strong></dt><dd><p>Default background color (a palette color index).</p>
</dd>
<dt><strong>transparency</strong></dt><dd><p>Transparency color index. This key is omitted if the image is not
transparent.</p>
</dd>
<dt><strong>version</strong></dt><dd><p>Version (either <code class="docutils literal notranslate"><span class="pre">GIF87a</span></code> or <code class="docutils literal notranslate"><span class="pre">GIF89a</span></code>).</p>
</dd>
<dt><strong>duration</strong></dt><dd><p>May not be present. The time to display the current frame
of the GIF, in milliseconds.</p>
</dd>
<dt><strong>loop</strong></dt><dd><p>May not be present. The number of times the GIF should loop. 0 means that
it will loop forever.</p>
</dd>
<dt><strong>comment</strong></dt><dd><p>May not be present. A comment about the image.</p>
</dd>
<dt><strong>extension</strong></dt><dd><p>May not be present. Contains application specific information.</p>
</dd>
</dl>
<section id="reading-sequences">
<h7><a class="toc-backref" href="#id11">Reading sequences</a><a class="headerlink" href="#reading-sequences" title="Permalink to this headline">¶</a></h7>
<p>The GIF loader supports the <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a> methods. You can combine these methods
to seek to the next frame (<code class="docutils literal notranslate"><span class="pre">im.seek(im.tell()</span> <span class="pre">+</span> <span class="pre">1)</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">im.seek()</span></code> raises an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EOFError</span></code></a> if you try to seek after the last frame.</p>
</section>
<section id="saving">
<h7><a class="toc-backref" href="#id12">Saving</a><a class="headerlink" href="#saving" title="Permalink to this headline">¶</a></h7>
<p>When calling <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> to write a GIF file, the
following options are available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">save_all</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">append_images</span><span class="o">=</span><span class="p">[</span><span class="n">im1</span><span class="p">,</span> <span class="n">im2</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
<dl>
<dt><strong>save_all</strong></dt><dd><p>If present and true, all frames of the image will be saved. If
not, then only the first frame of a multiframe image will be saved.</p>
</dd>
<dt><strong>append_images</strong></dt><dd><p>A list of images to append as additional frames. Each of the
images in the list can be single or multiframe images.
This is currently supported for GIF, PDF, PNG, TIFF, and WebP.</p>
<p>It is also supported for ICO and ICNS. If images are passed in of relevant
sizes, they will be used instead of scaling down the main image.</p>
</dd>
<dt><strong>include_color_table</strong></dt><dd><p>Whether or not to include local color table.</p>
</dd>
<dt><strong>interlace</strong></dt><dd><p>Whether or not the image is interlaced. By default, it is, unless the image
is less than 16 pixels in width or height.</p>
</dd>
<dt><strong>disposal</strong></dt><dd><p>Indicates the way in which the graphic is to be treated after being displayed.</p>
<ul class="simple">
<li><p>0 - No disposal specified.</p></li>
<li><p>1 - Do not dispose.</p></li>
<li><p>2 - Restore to background color.</p></li>
<li><p>3 - Restore to previous content.</p></li>
</ul>
<blockquote>
<div><p>Pass a single integer for a constant disposal, or a list or tuple
to set the disposal for each frame separately.</p>
</div></blockquote>
</dd>
<dt><strong>palette</strong></dt><dd><p>Use the specified palette for the saved image. The palette should
be a bytes or bytearray object containing the palette entries in
RGBRGB… form. It should be no more than 768 bytes. Alternately,
the palette can be passed in as an
<a class="reference internal" href="index.html#PIL.ImagePalette.ImagePalette" title="PIL.ImagePalette.ImagePalette"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImagePalette.ImagePalette</span></code></a> object.</p>
</dd>
<dt><strong>optimize</strong></dt><dd><p>If present and true, attempt to compress the palette by
eliminating unused colors. This is only useful if the palette can
be compressed to the next smaller power of 2 elements.</p>
</dd>
</dl>
<p>Note that if the image you are saving comes from an existing GIF, it may have
the following properties in its <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> dictionary.
For these options, if you do not pass them in, they will default to
their <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> values.</p>
<dl class="simple">
<dt><strong>transparency</strong></dt><dd><p>Transparency color index.</p>
</dd>
<dt><strong>duration</strong></dt><dd><p>The display duration of each frame of the multiframe gif, in
milliseconds. Pass a single integer for a constant duration, or a
list or tuple to set the duration for each frame separately.</p>
</dd>
<dt><strong>loop</strong></dt><dd><p>Integer number of times the GIF should loop. 0 means that it will loop
forever. By default, the image will not loop.</p>
</dd>
<dt><strong>comment</strong></dt><dd><p>A comment about the image.</p>
</dd>
</dl>
</section>
<section id="reading-local-images">
<h7><a class="toc-backref" href="#id13">Reading local images</a><a class="headerlink" href="#reading-local-images" title="Permalink to this headline">¶</a></h7>
<p>The GIF loader creates an image memory the same size as the GIF file’s <em>logical
screen size</em>, and pastes the actual pixel data (the <em>local image</em>) into this
image. If you only want the actual pixel rectangle, you can manipulate the
<a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> and <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile.tile" title="PIL.ImageFile.ImageFile.tile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tile</span></code></a>
attributes before loading the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="k">if</span> <span class="n">im</span><span class="o">.</span><span class="n">tile</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;gif&quot;</span><span class="p">:</span>
    <span class="c1"># only read the first &quot;local image&quot; from this GIF file</span>
    <span class="n">tag</span><span class="p">,</span> <span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="n">offset</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">tile</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">im</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">-</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">y0</span><span class="p">)</span>
    <span class="n">im</span><span class="o">.</span><span class="n">tile</span> <span class="o">=</span> <span class="p">[(</span><span class="n">tag</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">extra</span><span class="p">)]</span>
</pre></div>
</div>
</section>
</section>
<section id="icns">
<h6><a class="toc-backref" href="#id14">ICNS</a><a class="headerlink" href="#icns" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes macOS <code class="docutils literal notranslate"><span class="pre">.icns</span></code> files.  By default, the
largest available icon is read, though you can override this by setting the
<a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> property before calling
<a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>.  The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method
sets the following <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> property:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prior to version 8.3.0, Pillow could only write ICNS files on macOS.</p>
</div>
<dl class="simple">
<dt><strong>sizes</strong></dt><dd><p>A list of supported sizes found in this icon file; these are a
3-tuple, <code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">height,</span> <span class="pre">scale)</span></code>, where <code class="docutils literal notranslate"><span class="pre">scale</span></code> is 2 for a retina
icon and 1 for a standard icon.  You <em>are</em> permitted to use this 3-tuple
format for the <a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> property if you set it
before calling <a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>; after loading, the size
will be reset to a 2-tuple containing pixel dimensions (so, e.g. if you
ask for <code class="docutils literal notranslate"><span class="pre">(512,</span> <span class="pre">512,</span> <span class="pre">2)</span></code>, the final value of
<a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> will be <code class="docutils literal notranslate"><span class="pre">(1024,</span> <span class="pre">1024)</span></code>).</p>
</dd>
</dl>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method can take the following keyword arguments:</p>
<dl>
<dt><strong>append_images</strong></dt><dd><p>A list of images to replace the scaled down versions of the image.
The order of the images does not matter, as their use is determined by
the size of each image.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
</dl>
</section>
<section id="ico">
<h6><a class="toc-backref" href="#id15">ICO</a><a class="headerlink" href="#ico" title="Permalink to this headline">¶</a></h6>
<p>ICO is used to store icons on Windows. The largest available icon is read.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method supports the following options:</p>
<dl class="simple">
<dt><strong>sizes</strong></dt><dd><p>A list of sizes including in this ico file; these are a 2-tuple,
<code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">height)</span></code>; Default to <code class="docutils literal notranslate"><span class="pre">[(16,</span> <span class="pre">16),</span> <span class="pre">(24,</span> <span class="pre">24),</span> <span class="pre">(32,</span> <span class="pre">32),</span> <span class="pre">(48,</span> <span class="pre">48),</span>
<span class="pre">(64,</span> <span class="pre">64),</span> <span class="pre">(128,</span> <span class="pre">128),</span> <span class="pre">(256,</span> <span class="pre">256)]</span></code>. Any sizes bigger than the original
size or 256 will be ignored.</p>
</dd>
</dl>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method can take the following keyword arguments:</p>
<dl>
<dt><strong>append_images</strong></dt><dd><p>A list of images to replace the scaled down versions of the image.
The order of the images does not matter, as their use is determined by
the size of each image.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.1.0.</span></p>
</div>
</dd>
<dt><strong>bitmap_format</strong></dt><dd><p>By default, the image data will be saved in PNG format. With a bitmap format of
“bmp”, image data will be saved in BMP format instead.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.3.0.</span></p>
</div>
</dd>
</dl>
</section>
<section id="im">
<h6><a class="toc-backref" href="#id16">IM</a><a class="headerlink" href="#im" title="Permalink to this headline">¶</a></h6>
<p>IM is a format used by LabEye and other applications based on the IFUNC image
processing library. The library reads and writes most uncompressed interchange
versions of this format.</p>
<p>IM is the only format that can store all internal Pillow formats.</p>
</section>
<section id="jpeg">
<h6><a class="toc-backref" href="#id17">JPEG</a><a class="headerlink" href="#jpeg" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads JPEG, JFIF, and Adobe JPEG files containing <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code>, or
<code class="docutils literal notranslate"><span class="pre">CMYK</span></code> data. It writes standard and progressive JFIF files.</p>
<p>Using the <a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> method, you can speed things up by
converting <code class="docutils literal notranslate"><span class="pre">RGB</span></code> images to <code class="docutils literal notranslate"><span class="pre">L</span></code>, and resize images to 1/2, 1/4 or 1/8 of
their original size while loading them.</p>
<p>By default Pillow doesn’t allow loading of truncated JPEG files, set
<a class="reference internal" href="index.html#PIL.ImageFile.LOAD_TRUNCATED_IMAGES" title="PIL.ImageFile.LOAD_TRUNCATED_IMAGES"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFile.LOAD_TRUNCATED_IMAGES</span></code></a> to override this.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method may set the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties if available:</p>
<dl>
<dt><strong>jfif</strong></dt><dd><p>JFIF application marker found. If the file is not a JFIF file, this key is
not present.</p>
</dd>
<dt><strong>jfif_version</strong></dt><dd><p>A tuple representing the jfif version, (major version, minor version).</p>
</dd>
<dt><strong>jfif_density</strong></dt><dd><p>A tuple representing the pixel density of the image, in units specified
by jfif_unit.</p>
</dd>
<dt><strong>jfif_unit</strong></dt><dd><p>Units for the jfif_density:</p>
<ul class="simple">
<li><p>0 - No Units</p></li>
<li><p>1 - Pixels per Inch</p></li>
<li><p>2 - Pixels per Centimeter</p></li>
</ul>
</dd>
<dt><strong>dpi</strong></dt><dd><p>A tuple representing the reported pixel density in pixels per inch, if
the file is a jfif file and the units are in inches.</p>
</dd>
<dt><strong>adobe</strong></dt><dd><p>Adobe application marker found. If the file is not an Adobe JPEG file, this
key is not present.</p>
</dd>
<dt><strong>adobe_transform</strong></dt><dd><p>Vendor Specific Tag.</p>
</dd>
<dt><strong>progression</strong></dt><dd><p>Indicates that this is a progressive JPEG file.</p>
</dd>
<dt><strong>icc_profile</strong></dt><dd><p>The ICC color profile for the image.</p>
</dd>
<dt><strong>exif</strong></dt><dd><p>Raw EXIF data from the image.</p>
</dd>
<dt><strong>comment</strong></dt><dd><p>A comment about the image.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.1.0.</span></p>
</div>
</dd>
</dl>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method supports the following options:</p>
<dl>
<dt><strong>quality</strong></dt><dd><p>The image quality, on a scale from 0 (worst) to 95 (best). The default is
75. Values above 95 should be avoided; 100 disables portions of the JPEG
compression algorithm, and results in large files with hardly any gain in
image quality.</p>
</dd>
<dt><strong>optimize</strong></dt><dd><p>If present and true, indicates that the encoder should make an extra pass
over the image in order to select optimal encoder settings.</p>
</dd>
<dt><strong>progressive</strong></dt><dd><p>If present and true, indicates that this image should be stored as a
progressive JPEG file.</p>
</dd>
<dt><strong>dpi</strong></dt><dd><p>A tuple of integers representing the pixel density, <code class="docutils literal notranslate"><span class="pre">(x,y)</span></code>.</p>
</dd>
<dt><strong>icc_profile</strong></dt><dd><p>If present and true, the image is stored with the provided ICC profile.
If this parameter is not provided, the image will be saved with no profile
attached. To preserve the existing profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;jpeg&#39;</span><span class="p">,</span> <span class="n">icc_profile</span><span class="o">=</span><span class="n">im</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;icc_profile&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd>
<dt><strong>exif</strong></dt><dd><p>If present, the image will be stored with the provided raw EXIF data.</p>
</dd>
<dt><strong>subsampling</strong></dt><dd><p>If present, sets the subsampling for the encoder.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keep</span></code>: Only valid for JPEG files, will retain the original image setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4:4:4</span></code>, <code class="docutils literal notranslate"><span class="pre">4:2:2</span></code>, <code class="docutils literal notranslate"><span class="pre">4:2:0</span></code>: Specific sampling values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-1</span></code>: equivalent to <code class="docutils literal notranslate"><span class="pre">keep</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: equivalent to <code class="docutils literal notranslate"><span class="pre">4:4:4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: equivalent to <code class="docutils literal notranslate"><span class="pre">4:2:2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: equivalent to <code class="docutils literal notranslate"><span class="pre">4:2:0</span></code></p></li>
</ul>
</dd>
<dt><strong>qtables</strong></dt><dd><p>If present, sets the qtables for the encoder. This is listed as an
advanced option for wizards in the JPEG documentation. Use with
caution. <code class="docutils literal notranslate"><span class="pre">qtables</span></code> can be one of several types of values:</p>
<ul class="simple">
<li><p>a string, naming a preset, e.g. <code class="docutils literal notranslate"><span class="pre">keep</span></code>, <code class="docutils literal notranslate"><span class="pre">web_low</span></code>, or <code class="docutils literal notranslate"><span class="pre">web_high</span></code></p></li>
<li><p>a list, tuple, or dictionary (with integer keys =
range(len(keys))) of lists of 64 integers. There must be
between 2 and 4 tables.</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.5.0.</span></p>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable JPEG support, you need to build and install the IJG JPEG library
before building the Python Imaging Library. See the distribution README for
details.</p>
</div>
</section>
<section id="jpeg-2000">
<h6><a class="toc-backref" href="#id18">JPEG 2000</a><a class="headerlink" href="#jpeg-2000" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.4.0.</span></p>
</div>
<p>Pillow reads and writes JPEG 2000 files containing <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">LA</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code> or
<code class="docutils literal notranslate"><span class="pre">RGBA</span></code> data.  It can also read files containing <code class="docutils literal notranslate"><span class="pre">YCbCr</span></code> data, which it
converts on read into <code class="docutils literal notranslate"><span class="pre">RGB</span></code> or <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> depending on whether or not there is
an alpha channel.  Pillow supports JPEG 2000 raw codestreams (<code class="docutils literal notranslate"><span class="pre">.j2k</span></code> files),
as well as boxed JPEG 2000 files (<code class="docutils literal notranslate"><span class="pre">.j2p</span></code> or <code class="docutils literal notranslate"><span class="pre">.jpx</span></code> files).  Pillow does
<em>not</em> support files whose components have different sampling frequencies.</p>
<p>When loading, if you set the <code class="docutils literal notranslate"><span class="pre">mode</span></code> on the image prior to the
<a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> method being invoked, you can ask Pillow to
convert the image to either <code class="docutils literal notranslate"><span class="pre">RGB</span></code> or <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> rather than choosing for
itself.  It is also possible to set <code class="docutils literal notranslate"><span class="pre">reduce</span></code> to the number of resolutions to
discard (each one reduces the size of the resulting image by a factor of 2),
and <code class="docutils literal notranslate"><span class="pre">layers</span></code> to specify the number of quality layers to load.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method supports the following options:</p>
<dl class="simple">
<dt><strong>offset</strong></dt><dd><p>The image offset, as a tuple of integers, e.g. (16, 16)</p>
</dd>
<dt><strong>tile_offset</strong></dt><dd><p>The tile offset, again as a 2-tuple of integers.</p>
</dd>
<dt><strong>tile_size</strong></dt><dd><p>The tile size as a 2-tuple.  If not specified, or if set to None, the
image will be saved without tiling.</p>
</dd>
<dt><strong>quality_mode</strong></dt><dd><p>Either <code class="docutils literal notranslate"><span class="pre">&quot;rates&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dB&quot;</span></code> depending on the units you want to use to
specify image quality.</p>
</dd>
<dt><strong>quality_layers</strong></dt><dd><p>A sequence of numbers, each of which represents either an approximate size
reduction (if quality mode is <code class="docutils literal notranslate"><span class="pre">&quot;rates&quot;</span></code>) or a signal to noise ratio value
in decibels.  If not specified, defaults to a single layer of full quality.</p>
</dd>
<dt><strong>num_resolutions</strong></dt><dd><p>The number of different image resolutions to be stored (which corresponds
to the number of Discrete Wavelet Transform decompositions plus one).</p>
</dd>
<dt><strong>codeblock_size</strong></dt><dd><p>The code-block size as a 2-tuple.  Minimum size is 4 x 4, maximum is 1024 x
1024, with the additional restriction that no code-block may have more
than 4096 coefficients (i.e. the product of the two numbers must be no
greater than 4096).</p>
</dd>
<dt><strong>precinct_size</strong></dt><dd><p>The precinct size as a 2-tuple.  Must be a power of two along both axes,
and must be greater than the code-block size.</p>
</dd>
<dt><strong>irreversible</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use the lossy Irreversible Color Transformation
followed by DWT 9-7.  Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, which means to use the
Reversible Color Transformation with DWT 5-3.</p>
</dd>
<dt><strong>progression</strong></dt><dd><p>Controls the progression order; must be one of <code class="docutils literal notranslate"><span class="pre">&quot;LRCP&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;RLCP&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;RPCL&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;PCRL&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;CPRL&quot;</span></code>.  The letters stand for Component,
Position, Resolution and Layer respectively and control the order of
encoding, the idea being that e.g. an image encoded using LRCP mode can
have its quality layers decoded as they arrive at the decoder, while one
encoded using RLCP mode will have increasing resolutions decoded as they
arrive, and so on.</p>
</dd>
<dt><strong>cinema_mode</strong></dt><dd><p>Set the encoder to produce output compliant with the digital cinema
specifications.  The options here are <code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code> (the default),
<code class="docutils literal notranslate"><span class="pre">&quot;cinema2k-24&quot;</span></code> for 24fps 2K, <code class="docutils literal notranslate"><span class="pre">&quot;cinema2k-48&quot;</span></code> for 48fps 2K, and
<code class="docutils literal notranslate"><span class="pre">&quot;cinema4k-24&quot;</span></code> for 24fps 4K.  Note that for compliant 2K files,
<em>at least one</em> of your image dimensions must match 2048 x 1080, while
for compliant 4K files, <em>at least one</em> of the dimensions must match
4096 x 2160.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable JPEG 2000 support, you need to build and install the OpenJPEG
library, version 2.0.0 or higher, before building the Python Imaging
Library.</p>
<p>Windows users can install the OpenJPEG binaries available on the
OpenJPEG website, but must add them to their PATH in order to use Pillow (if
you fail to do this, you will get errors about not being able to load the
<code class="docutils literal notranslate"><span class="pre">_imaging</span></code> DLL).</p>
</div>
</section>
<section id="msp">
<h6><a class="toc-backref" href="#id19">MSP</a><a class="headerlink" href="#msp" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies and reads MSP files from Windows 1 and 2. The library writes
uncompressed (Windows 1) versions of this format.</p>
</section>
<section id="pcx">
<h6><a class="toc-backref" href="#id20">PCX</a><a class="headerlink" href="#pcx" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes PCX files containing <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>, or <code class="docutils literal notranslate"><span class="pre">RGB</span></code> data.</p>
</section>
<section id="png">
<h6><a class="toc-backref" href="#id21">PNG</a><a class="headerlink" href="#png" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies, reads, and writes PNG files containing <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">LA</span></code>,
<code class="docutils literal notranslate"><span class="pre">I</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code> or <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> data. Interlaced files are supported as of
v1.1.7.</p>
<p>As of Pillow 6.0, EXIF data can be read from PNG images. However, unlike other
image formats, EXIF data is not guaranteed to be present in
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> until <a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> has been
called.</p>
<p>By default Pillow doesn’t allow loading of truncated PNG files, set
<a class="reference internal" href="index.html#PIL.ImageFile.LOAD_TRUNCATED_IMAGES" title="PIL.ImageFile.LOAD_TRUNCATED_IMAGES"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFile.LOAD_TRUNCATED_IMAGES</span></code></a> to override this.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> function sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties, when appropriate:</p>
<dl>
<dt><strong>chromaticity</strong></dt><dd><p>The chromaticity points, as an 8 tuple of floats. (<code class="docutils literal notranslate"><span class="pre">White</span> <span class="pre">Point</span>
<span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">White</span> <span class="pre">Point</span> <span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">Red</span> <span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Red</span> <span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">Green</span> <span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Green</span>
<span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">Blue</span> <span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Blue</span> <span class="pre">Y</span></code>)</p>
</dd>
<dt><strong>gamma</strong></dt><dd><p>Gamma, given as a floating point number.</p>
</dd>
<dt><strong>srgb</strong></dt><dd><p>The sRGB rendering intent as an integer.</p>
<blockquote>
<div><ul class="simple">
<li><p>0 Perceptual</p></li>
<li><p>1 Relative Colorimetric</p></li>
<li><p>2 Saturation</p></li>
<li><p>3 Absolute Colorimetric</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>transparency</strong></dt><dd><p>For <code class="docutils literal notranslate"><span class="pre">P</span></code> images: Either the palette index for full transparent pixels,
or a byte string with alpha values for each palette entry.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">RGB</span></code> images, the color that represents
full transparent pixels in this image.</p>
<p>This key is omitted if the image is not a transparent palette image.</p>
</dd>
</dl>
<p id="png-text"><code class="docutils literal notranslate"><span class="pre">open</span></code> also sets <code class="docutils literal notranslate"><span class="pre">Image.text</span></code> to a dictionary of the values of the
<code class="docutils literal notranslate"><span class="pre">tEXt</span></code>, <code class="docutils literal notranslate"><span class="pre">zTXt</span></code>, and <code class="docutils literal notranslate"><span class="pre">iTXt</span></code> chunks of the PNG image. Individual
compressed chunks are limited to a decompressed size of
<a class="reference internal" href="index.html#PIL.PngImagePlugin.MAX_TEXT_CHUNK" title="PIL.PngImagePlugin.MAX_TEXT_CHUNK"><code class="xref py py-data docutils literal notranslate"><span class="pre">PngImagePlugin.MAX_TEXT_CHUNK</span></code></a>, by default 1MB, to prevent
decompression bombs. Additionally, the total size of all of the text
chunks is limited to <a class="reference internal" href="index.html#PIL.PngImagePlugin.MAX_TEXT_MEMORY" title="PIL.PngImagePlugin.MAX_TEXT_MEMORY"><code class="xref py py-data docutils literal notranslate"><span class="pre">PngImagePlugin.MAX_TEXT_MEMORY</span></code></a>, defaulting to
64MB.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method supports the following options:</p>
<dl>
<dt><strong>optimize</strong></dt><dd><p>If present and true, instructs the PNG writer to make the output file as
small as possible. This includes extra processing in order to find optimal
encoder settings.</p>
</dd>
<dt><strong>transparency</strong></dt><dd><p>For <code class="docutils literal notranslate"><span class="pre">P</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">I</span></code>, and <code class="docutils literal notranslate"><span class="pre">RGB</span></code> images, this option controls
what color from the image to mark as transparent.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">P</span></code> images, this can be a either the palette index,
or a byte string with alpha values for each palette entry.</p>
</dd>
<dt><strong>dpi</strong></dt><dd><p>A tuple of two numbers corresponding to the desired dpi in each direction.</p>
</dd>
<dt><strong>pnginfo</strong></dt><dd><p>A <a class="reference internal" href="index.html#PIL.PngImagePlugin.PngInfo" title="PIL.PngImagePlugin.PngInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.PngInfo</span></code></a> instance containing chunks.</p>
</dd>
<dt><strong>compress_level</strong></dt><dd><p>ZLIB compression level, a number between 0 and 9: 1 gives best speed,
9 gives best compression, 0 gives no compression at all. Default is 6.
When <code class="docutils literal notranslate"><span class="pre">optimize</span></code> option is True <code class="docutils literal notranslate"><span class="pre">compress_level</span></code> has no effect
(it is set to 9 regardless of a value passed).</p>
</dd>
<dt><strong>icc_profile</strong></dt><dd><p>The ICC Profile to include in the saved file.</p>
</dd>
<dt><strong>exif</strong></dt><dd><p>The exif data to include in the saved file.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</dd>
<dt><strong>bits (experimental)</strong></dt><dd><p>For <code class="docutils literal notranslate"><span class="pre">P</span></code> images, this option controls how many bits to store. If omitted,
the PNG writer uses 8 bits (256 colors).</p>
</dd>
<dt><strong>dictionary (experimental)</strong></dt><dd><p>Set the ZLIB encoder dictionary.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable PNG support, you need to build and install the ZLIB compression
library before building the Python Imaging Library. See the
<a class="reference internal" href="index.html#document-installation"><span class="doc">installation documentation</span></a> for details.</p>
</div>
<section id="apng-sequences">
<span id="id2"></span><h7><a class="toc-backref" href="#id22">APNG sequences</a><a class="headerlink" href="#apng-sequences" title="Permalink to this headline">¶</a></h7>
<p>The PNG loader includes limited support for reading and writing Animated Portable
Network Graphics (APNG) files.
When an APNG file is loaded, <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile.get_format_mimetype" title="PIL.ImageFile.ImageFile.get_format_mimetype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_format_mimetype()</span></code></a>
will return <code class="docutils literal notranslate"><span class="pre">&quot;image/apng&quot;</span></code>. The value of the <a class="reference internal" href="index.html#PIL.Image.Image.is_animated" title="PIL.Image.Image.is_animated"><code class="xref py py-attr docutils literal notranslate"><span class="pre">is_animated</span></code></a>
property will be <code class="docutils literal notranslate"><span class="pre">True</span></code> when the <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> property is
greater than 1. For APNG files, the <code class="docutils literal notranslate"><span class="pre">n_frames</span></code> property depends on both the animation
frame count as well as the presence or absence of a default image. See the
<code class="docutils literal notranslate"><span class="pre">default_image</span></code> property documentation below for more details.
The <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a> methods
are supported.</p>
<p><code class="docutils literal notranslate"><span class="pre">im.seek()</span></code> raises an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EOFError</span></code></a> if you try to seek after the last frame.</p>
<p>These <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties will be set for APNG frames,
where applicable:</p>
<dl>
<dt><strong>default_image</strong></dt><dd><p>Specifies whether or not this APNG file contains a separate default image,
which is not a part of the actual APNG animation.</p>
<p>When an APNG file contains a default image, the initially loaded image (i.e.
the result of <code class="docutils literal notranslate"><span class="pre">seek(0)</span></code>) will be the default image.
To account for the presence of the default image, the
<a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> property will be set to <code class="docutils literal notranslate"><span class="pre">frame_count</span> <span class="pre">+</span> <span class="pre">1</span></code>,
where <code class="docutils literal notranslate"><span class="pre">frame_count</span></code> is the actual APNG animation frame count.
To load the first APNG animation frame, <code class="docutils literal notranslate"><span class="pre">seek(1)</span></code> must be called.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> - The APNG contains default image, which is not an animation frame.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code> - The APNG does not contain a default image. The <code class="docutils literal notranslate"><span class="pre">n_frames</span></code> property
will be set to the actual APNG animation frame count.
The initially loaded image (i.e. <code class="docutils literal notranslate"><span class="pre">seek(0)</span></code>) will be the first APNG animation
frame.</p></li>
</ul>
</dd>
<dt><strong>loop</strong></dt><dd><p>The number of times to loop this APNG, 0 indicates infinite looping.</p>
</dd>
<dt><strong>duration</strong></dt><dd><p>The time to display this APNG frame (in milliseconds).</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The APNG loader returns images the same size as the APNG file’s logical screen size.
The returned image contains the pixel data for a given frame, after applying
any APNG frame disposal and frame blend operations (i.e. it contains what a web
browser would render for this frame - the composite of all previous frames and this
frame).</p>
<p>Any APNG file containing sequence errors is treated as an invalid image. The APNG
loader will not attempt to repair and reorder files containing sequence errors.</p>
</div>
</section>
<section id="apng-saving">
<span id="id3"></span><h7><a class="toc-backref" href="#id23">Saving</a><a class="headerlink" href="#apng-saving" title="Permalink to this headline">¶</a></h7>
<p>When calling <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>, by default only a single frame PNG file
will be saved. To save an APNG file (including a single frame APNG), the <code class="docutils literal notranslate"><span class="pre">save_all</span></code>
parameter must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. The following parameters can also be set:</p>
<dl class="simple">
<dt><strong>default_image</strong></dt><dd><p>Boolean value, specifying whether or not the base image is a default image.
If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the base image will be used as the default image, and the first image
from the <code class="docutils literal notranslate"><span class="pre">append_images</span></code> sequence will be the first APNG animation frame.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the base image will be used as the first APNG animation frame.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt><strong>append_images</strong></dt><dd><p>A list or tuple of images to append as additional frames. Each of the
images in the list can be single or multiframe images. The size of each frame
should match the size of the base image. Also note that if a frame’s mode does
not match that of the base image, the frame will be converted to the base image
mode.</p>
</dd>
<dt><strong>loop</strong></dt><dd><p>Integer number of times to loop this APNG, 0 indicates infinite looping.
Defaults to 0.</p>
</dd>
<dt><strong>duration</strong></dt><dd><p>Integer (or list or tuple of integers) length of time to display this APNG frame
(in milliseconds).
Defaults to 0.</p>
</dd>
<dt><strong>disposal</strong></dt><dd><p>An integer (or list or tuple of integers) specifying the APNG disposal
operation to be used for this frame before rendering the next frame.
Defaults to 0.</p>
<ul class="simple">
<li><p>0 (<a class="reference internal" href="index.html#PIL.PngImagePlugin.APNG_DISPOSE_OP_NONE" title="PIL.PngImagePlugin.APNG_DISPOSE_OP_NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">APNG_DISPOSE_OP_NONE</span></code></a>, default) -
No disposal is done on this frame before rendering the next frame.</p></li>
<li><p>1 (<a class="reference internal" href="index.html#PIL.PngImagePlugin.APNG_DISPOSE_OP_BACKGROUND" title="PIL.PngImagePlugin.APNG_DISPOSE_OP_BACKGROUND"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.APNG_DISPOSE_OP_BACKGROUND</span></code></a>) -
This frame’s modified region is cleared to fully transparent black before
rendering the next frame.</p></li>
<li><p>2 (<a class="reference internal" href="index.html#PIL.PngImagePlugin.APNG_DISPOSE_OP_PREVIOUS" title="PIL.PngImagePlugin.APNG_DISPOSE_OP_PREVIOUS"><code class="xref py py-data docutils literal notranslate"><span class="pre">APNG_DISPOSE_OP_PREVIOUS</span></code></a>) -
This frame’s modified region is reverted to the previous frame’s contents before
rendering the next frame.</p></li>
</ul>
</dd>
<dt><strong>blend</strong></dt><dd><p>An integer (or list or tuple of integers) specifying the APNG blend
operation to be used for this frame before rendering the next frame.
Defaults to 0.</p>
<ul class="simple">
<li><p>0 (<a class="reference internal" href="index.html#PIL.PngImagePlugin.APNG_BLEND_OP_SOURCE" title="PIL.PngImagePlugin.APNG_BLEND_OP_SOURCE"><code class="xref py py-data docutils literal notranslate"><span class="pre">APNG_BLEND_OP_SOURCE</span></code></a>) -
All color components of this frame, including alpha, overwrite the previous output
image contents.</p></li>
<li><p>1 (<a class="reference internal" href="index.html#PIL.PngImagePlugin.APNG_BLEND_OP_OVER" title="PIL.PngImagePlugin.APNG_BLEND_OP_OVER"><code class="xref py py-data docutils literal notranslate"><span class="pre">APNG_BLEND_OP_OVER</span></code></a>) -
This frame should be alpha composited with the previous output image contents.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">duration</span></code>, <code class="docutils literal notranslate"><span class="pre">disposal</span></code> and <code class="docutils literal notranslate"><span class="pre">blend</span></code> parameters can be set to lists or tuples to
specify values for each individual frame in the animation. The length of the list or tuple
must be identical to the total number of actual frames in the APNG animation.
If the APNG contains a default image (i.e. <code class="docutils literal notranslate"><span class="pre">default_image</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>),
these list or tuple parameters should not include an entry for the default image.</p>
</div>
</section>
</section>
<section id="ppm">
<h6><a class="toc-backref" href="#id24">PPM</a><a class="headerlink" href="#ppm" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes PBM, PGM, PPM and PNM files containing <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code> or
<code class="docutils literal notranslate"><span class="pre">RGB</span></code> data.</p>
</section>
<section id="sgi">
<h6><a class="toc-backref" href="#id25">SGI</a><a class="headerlink" href="#sgi" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes uncompressed <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code>, and <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> files.</p>
</section>
<section id="spider">
<h6><a class="toc-backref" href="#id26">SPIDER</a><a class="headerlink" href="#spider" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes SPIDER image files of 32-bit floating point data
(“F;32F”).</p>
<p>Pillow also reads SPIDER stack files containing sequences of SPIDER images. The
<a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a> methods are supported, and
random access is allowed.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following attributes:</p>
<dl class="simple">
<dt><strong>format</strong></dt><dd><p>Set to <code class="docutils literal notranslate"><span class="pre">SPIDER</span></code></p>
</dd>
<dt><strong>istack</strong></dt><dd><p>Set to 1 if the file is an image stack, else 0.</p>
</dd>
<dt><strong>n_frames</strong></dt><dd><p>Set to the number of images in the stack.</p>
</dd>
</dl>
<p>A convenience method, <a class="reference internal" href="index.html#PIL.SpiderImagePlugin.SpiderImageFile.convert2byte" title="PIL.SpiderImagePlugin.SpiderImageFile.convert2byte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert2byte()</span></code></a>,
is provided for converting floating point data to byte data (mode <code class="docutils literal notranslate"><span class="pre">L</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;image001.spi&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert2byte</span><span class="p">()</span>
</pre></div>
</div>
<section id="writing-files-in-spider-format">
<h7><a class="toc-backref" href="#id27">Writing files in SPIDER format</a><a class="headerlink" href="#writing-files-in-spider-format" title="Permalink to this headline">¶</a></h7>
<p>The extension of SPIDER files may be any 3 alphanumeric characters. Therefore
the output format must be specified explicitly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;newimage.spi&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;SPIDER&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the SPIDER image processing package, see the
<a class="reference external" href="https://spider.wadsworth.org/spider_doc/spider/docs/spider.html">SPIDER homepage</a> at <a class="reference external" href="https://www.wadsworth.org/">Wadsworth Center</a>.</p>
</section>
</section>
<section id="tga">
<h6><a class="toc-backref" href="#id28">TGA</a><a class="headerlink" href="#tga" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes TGA images containing <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">LA</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>,
<code class="docutils literal notranslate"><span class="pre">RGB</span></code>, and <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> data. Pillow can read and write both uncompressed and
run-length encoded TGAs.</p>
</section>
<section id="tiff">
<h6><a class="toc-backref" href="#id29">TIFF</a><a class="headerlink" href="#tiff" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes TIFF files. It can read both striped and tiled
images, pixel and plane interleaved multi-band images. If you have
libtiff and its headers installed, Pillow can read and write many kinds
of compressed TIFF files. If not, Pillow will only read and write
uncompressed files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Beginning in version 5.0.0, Pillow requires libtiff to read or
write compressed files. Prior to that release, Pillow had buggy
support for reading Packbits, LZW and JPEG compressed TIFFs
without using libtiff.</p>
</div>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl>
<dt><strong>compression</strong></dt><dd><p>Compression mode.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0.</span></p>
</div>
</dd>
<dt><strong>dpi</strong></dt><dd><p>Image resolution as an <code class="docutils literal notranslate"><span class="pre">(xdpi,</span> <span class="pre">ydpi)</span></code> tuple, where applicable. You can use
the <a class="reference internal" href="index.html#PIL.TiffImagePlugin.TiffImageFile.tag" title="PIL.TiffImagePlugin.TiffImageFile.tag"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tag</span></code></a> attribute to get more
detailed information about the image resolution.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
</dd>
<dt><strong>resolution</strong></dt><dd><p>Image resolution as an <code class="docutils literal notranslate"><span class="pre">(xres,</span> <span class="pre">yres)</span></code> tuple, where applicable. This is a
measurement in whichever unit is specified by the file.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
</dd>
</dl>
<p>The <a class="reference internal" href="index.html#PIL.TiffImagePlugin.TiffImageFile.tag_v2" title="PIL.TiffImagePlugin.TiffImageFile.tag_v2"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tag_v2</span></code></a> attribute contains a
dictionary of TIFF metadata. The keys are numerical indexes from
<a class="reference internal" href="index.html#PIL.TiffTags.PIL.TiffTags.TAGS_V2" title="PIL.TiffTags.PIL.TiffTags.TAGS_V2"><code class="xref py py-data docutils literal notranslate"><span class="pre">TiffTags.TAGS_V2</span></code></a>.  Values are strings or numbers for single
items, multiple values are returned in a tuple of values. Rational
numbers are returned as a <a class="reference internal" href="index.html#PIL.TiffImagePlugin.IFDRational" title="PIL.TiffImagePlugin.IFDRational"><code class="xref py py-class docutils literal notranslate"><span class="pre">IFDRational</span></code></a>
object.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.0.</span></p>
</div>
</div></blockquote>
<p>For compatibility with legacy code, the
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.TiffImageFile.tag" title="PIL.TiffImagePlugin.TiffImageFile.tag"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tag</span></code></a> attribute contains a dictionary
of decoded TIFF fields as returned prior to version 3.0.0.  Values are
returned as either strings or tuples of numeric values. Rational
numbers are returned as a tuple of <code class="docutils literal notranslate"><span class="pre">(numerator,</span> <span class="pre">denominator)</span></code>.</p>
<blockquote>
<div><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.0.0.</span></p>
</div>
</div></blockquote>
<section id="reading-multi-frame-tiff-images">
<h7><a class="toc-backref" href="#id30">Reading Multi-frame TIFF Images</a><a class="headerlink" href="#reading-multi-frame-tiff-images" title="Permalink to this headline">¶</a></h7>
<p>The TIFF loader supports the <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a> methods, taking and returning frame numbers
within the image file. You can combine these methods to seek to the next frame
(<code class="docutils literal notranslate"><span class="pre">im.seek(im.tell()</span> <span class="pre">+</span> <span class="pre">1)</span></code>). Frames are numbered from 0 to <code class="docutils literal notranslate"><span class="pre">im.num_frames</span> <span class="pre">-</span> <span class="pre">1</span></code>,
and can be accessed in any order.</p>
<p><code class="docutils literal notranslate"><span class="pre">im.seek()</span></code> raises an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EOFError</span></code></a> if you try to seek after the
last frame.</p>
</section>
<section id="saving-tiff-images">
<h7><a class="toc-backref" href="#id31">Saving Tiff Images</a><a class="headerlink" href="#saving-tiff-images" title="Permalink to this headline">¶</a></h7>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method can take the following keyword arguments:</p>
<dl>
<dt><strong>save_all</strong></dt><dd><p>If true, Pillow will save all frames of the image to a multiframe tiff document.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.4.0.</span></p>
</div>
</dd>
<dt><strong>append_images</strong></dt><dd><p>A list of images to append as additional frames. Each of the
images in the list can be single or multiframe images. Note however, that for
correct results, all the appended images should have the same
<code class="docutils literal notranslate"><span class="pre">encoderinfo</span></code> and <code class="docutils literal notranslate"><span class="pre">encoderconfig</span></code> properties.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</dd>
<dt><strong>tiffinfo</strong></dt><dd><p>A <a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a> object or dict
object containing tiff tags and values. The TIFF field type is
autodetected for Numeric and string values, any other types
require using an <a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a>
object and setting the type in
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype" title="PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tagtype</span></code></a> with
the appropriate numerical value from
<a class="reference internal" href="index.html#PIL.TiffTags.PIL.TiffTags.TYPES" title="PIL.TiffTags.PIL.TiffTags.TYPES"><code class="xref py py-data docutils literal notranslate"><span class="pre">TiffTags.TYPES</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.3.0.</span></p>
</div>
<p>Metadata values that are of the rational type should be passed in
using a <a class="reference internal" href="index.html#PIL.TiffImagePlugin.IFDRational" title="PIL.TiffImagePlugin.IFDRational"><code class="xref py py-class docutils literal notranslate"><span class="pre">IFDRational</span></code></a> object.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.0.</span></p>
</div>
<p>For compatibility with legacy code, a
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code></a> object may
be passed in this field. However, this is deprecated.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.4.0.</span></p>
</div>
<p>Previous versions only supported some tags when writing using
libtiff. The supported list is found in
<a class="reference internal" href="index.html#PIL.TiffTags.PIL.TiffTags.LIBTIFF_CORE" title="PIL.TiffTags.PIL.TiffTags.LIBTIFF_CORE"><code class="xref py py-data docutils literal notranslate"><span class="pre">TiffTags.LIBTIFF_CORE</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.1.0.</span></p>
</div>
<p>Added support for signed types (e.g. <code class="docutils literal notranslate"><span class="pre">TIFF_SIGNED_LONG</span></code>) and multiple values.
Multiple values for a single tag must be to
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a> as a tuple and
require a matching type in
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype" title="PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tagtype</span></code></a> tagtype.</p>
</dd>
<dt><strong>compression</strong></dt><dd><p>A string containing the desired compression method for the
file. (valid only with libtiff installed) Valid compression
methods are: <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, <code class="docutils literal notranslate"><span class="pre">&quot;group3&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;group4&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;jpeg&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;lzma&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;packbits&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_adobe_deflate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_ccitt&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_lzw&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;tiff_raw_16&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_sgilog&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_sgilog24&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;tiff_thunderscan&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;webp&quot;`,</span> <span class="pre">``&quot;zstd&quot;</span></code></p>
</dd>
<dt><strong>quality</strong></dt><dd><p>The image quality for JPEG compression, on a scale from 0 (worst) to 100
(best). The default is 75.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.1.0.</span></p>
</div>
</dd>
</dl>
<p>These arguments to set the tiff header fields are an alternative to
using the general tags available through tiffinfo.</p>
<p><strong>description</strong></p>
<p><strong>software</strong></p>
<p><strong>date_time</strong></p>
<p><strong>artist</strong></p>
<dl class="simple">
<dt><strong>copyright</strong></dt><dd><p>Strings</p>
</dd>
<dt><strong>icc_profile</strong></dt><dd><p>The ICC Profile to include in the saved file.</p>
</dd>
<dt><strong>resolution_unit</strong></dt><dd><p>An integer. 1 for no unit, 2 for inches and 3 for centimeters.</p>
</dd>
<dt><strong>resolution</strong></dt><dd><p>Either an integer or a float, used for both the x and y resolution.</p>
</dd>
<dt><strong>x_resolution</strong></dt><dd><p>Either an integer or a float.</p>
</dd>
<dt><strong>y_resolution</strong></dt><dd><p>Either an integer or a float.</p>
</dd>
<dt><strong>dpi</strong></dt><dd><p>A tuple of (x_resolution, y_resolution), with inches as the resolution
unit. For consistency with other image formats, the x and y resolutions
of the dpi will be rounded to the nearest integer.</p>
</dd>
</dl>
</section>
</section>
<section id="webp">
<h6><a class="toc-backref" href="#id32">WebP</a><a class="headerlink" href="#webp" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes WebP files. The specifics of Pillow’s capabilities with
this format are currently undocumented.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method supports the following options:</p>
<dl class="simple">
<dt><strong>lossless</strong></dt><dd><p>If present and true, instructs the WebP writer to use lossless compression.</p>
</dd>
<dt><strong>quality</strong></dt><dd><p>Integer, 1-100, Defaults to 80. For lossy, 0 gives the smallest
size and 100 the largest. For lossless, this parameter is the amount
of effort put into the compression: 0 is the fastest, but gives larger
files compared to the slowest, but best, 100.</p>
</dd>
<dt><strong>method</strong></dt><dd><p>Quality/speed trade-off (0=fast, 6=slower-better). Defaults to 4.</p>
</dd>
<dt><strong>icc_profile</strong></dt><dd><p>The ICC Profile to include in the saved file. Only supported if
the system WebP library was built with webpmux support.</p>
</dd>
<dt><strong>exif</strong></dt><dd><p>The exif data to include in the saved file. Only supported if
the system WebP library was built with webpmux support.</p>
</dd>
</dl>
<section id="saving-sequences">
<h7><a class="toc-backref" href="#id33">Saving sequences</a><a class="headerlink" href="#saving-sequences" title="Permalink to this headline">¶</a></h7>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Support for animated WebP files will only be enabled if the system WebP
library is v0.5.0 or later. You can check webp animation support at
runtime by calling <code class="docutils literal notranslate"><span class="pre">features.check(&quot;webp_anim&quot;)</span></code>.</p>
</div>
<p>When calling <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> to write a WebP file, by default
only the first frame of a multiframe image will be saved. If the <code class="docutils literal notranslate"><span class="pre">save_all</span></code>
argument is present and true, then all frames will be saved, and the following
options will also be available.</p>
<dl class="simple">
<dt><strong>append_images</strong></dt><dd><p>A list of images to append as additional frames. Each of the
images in the list can be single or multiframe images.</p>
</dd>
<dt><strong>duration</strong></dt><dd><p>The display duration of each frame, in milliseconds. Pass a single
integer for a constant duration, or a list or tuple to set the
duration for each frame separately.</p>
</dd>
<dt><strong>loop</strong></dt><dd><p>Number of times to repeat the animation. Defaults to [0 = infinite].</p>
</dd>
<dt><strong>background</strong></dt><dd><p>Background color of the canvas, as an RGBA tuple with values in
the range of (0-255).</p>
</dd>
<dt><strong>minimize_size</strong></dt><dd><p>If true, minimize the output size (slow). Implicitly disables
key-frame insertion.</p>
</dd>
<dt><strong>kmin, kmax</strong></dt><dd><p>Minimum and maximum distance between consecutive key frames in
the output. The library may insert some key frames as needed
to satisfy this criteria. Note that these conditions should
hold: kmax &gt; kmin and kmin &gt;= kmax / 2 + 1. Also, if kmax &lt;= 0,
then key-frame insertion is disabled; and if kmax == 1, then all
frames will be key-frames (kmin value does not matter for these
special cases).</p>
</dd>
<dt><strong>allow_mixed</strong></dt><dd><p>If true, use mixed compression mode; the encoder heuristically
chooses between lossy and lossless for each frame.</p>
</dd>
</dl>
</section>
</section>
<section id="xbm">
<h6><a class="toc-backref" href="#id34">XBM</a><a class="headerlink" href="#xbm" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads and writes X bitmap files (mode <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</section>
</section>
<section id="read-only-formats">
<h5><a class="toc-backref" href="#id35">Read-only formats</a><a class="headerlink" href="#read-only-formats" title="Permalink to this headline">¶</a></h5>
<section id="blp">
<h6><a class="toc-backref" href="#id36">BLP</a><a class="headerlink" href="#blp" title="Permalink to this headline">¶</a></h6>
<p>BLP is the Blizzard Mipmap Format, a texture format used in World of
Warcraft. Pillow supports reading <code class="docutils literal notranslate"><span class="pre">JPEG</span></code> Compressed or raw <code class="docutils literal notranslate"><span class="pre">BLP1</span></code>
images, and all types of <code class="docutils literal notranslate"><span class="pre">BLP2</span></code> images.</p>
</section>
<section id="cur">
<h6><a class="toc-backref" href="#id37">CUR</a><a class="headerlink" href="#cur" title="Permalink to this headline">¶</a></h6>
<p>CUR is used to store cursors on Windows. The CUR decoder reads the largest
available cursor. Animated cursors are not supported.</p>
</section>
<section id="dcx">
<h6><a class="toc-backref" href="#id38">DCX</a><a class="headerlink" href="#dcx" title="Permalink to this headline">¶</a></h6>
<p>DCX is a container file format for PCX files, defined by Intel. The DCX format
is commonly used in fax applications. The DCX decoder can read files containing
<code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">P</span></code>, or <code class="docutils literal notranslate"><span class="pre">RGB</span></code> data.</p>
<p>When the file is opened, only the first image is read. You can use
<a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> or <a class="reference internal" href="index.html#module-PIL.ImageSequence" title="PIL.ImageSequence"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageSequence</span></code></a> to read other images.</p>
</section>
<section id="fli-flc">
<h6><a class="toc-backref" href="#id39">FLI, FLC</a><a class="headerlink" href="#fli-flc" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads Autodesk FLI and FLC animations.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>duration</strong></dt><dd><p>The delay (in milliseconds) between each frame.</p>
</dd>
</dl>
</section>
<section id="fpx">
<h6><a class="toc-backref" href="#id40">FPX</a><a class="headerlink" href="#fpx" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads Kodak FlashPix files. In the current version, only the highest
resolution image is read from the file, and the viewing transform is not taken
into account.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable full FlashPix support, you need to build and install the IJG JPEG
library before building the Python Imaging Library. See the distribution
README for details.</p>
</div>
</section>
<section id="ftex">
<h6><a class="toc-backref" href="#id41">FTEX</a><a class="headerlink" href="#ftex" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.0.</span></p>
</div>
<p>The FTEX decoder reads textures used for 3D objects in
Independence War 2: Edge Of Chaos. The plugin reads a single texture
per file, in the compressed and uncompressed formats.</p>
</section>
<section id="gbr">
<h6><a class="toc-backref" href="#id42">GBR</a><a class="headerlink" href="#gbr" title="Permalink to this headline">¶</a></h6>
<p>The GBR decoder reads GIMP brush files, version 1 and 2.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>comment</strong></dt><dd><p>The brush name.</p>
</dd>
<dt><strong>spacing</strong></dt><dd><p>The spacing between the brushes, in pixels. Version 2 only.</p>
</dd>
</dl>
</section>
<section id="gd">
<h6><a class="toc-backref" href="#id43">GD</a><a class="headerlink" href="#gd" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads uncompressed GD2 files. Note that you must use
<a class="reference internal" href="index.html#PIL.GdImageFile.open" title="PIL.GdImageFile.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.GdImageFile.open()</span></code></a> to read such a file.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>transparency</strong></dt><dd><p>Transparency color index. This key is omitted if the image is not
transparent.</p>
</dd>
</dl>
</section>
<section id="imt">
<h6><a class="toc-backref" href="#id44">IMT</a><a class="headerlink" href="#imt" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads Image Tools images containing <code class="docutils literal notranslate"><span class="pre">L</span></code> data.</p>
</section>
<section id="iptc-naa">
<h6><a class="toc-backref" href="#id45">IPTC/NAA</a><a class="headerlink" href="#iptc-naa" title="Permalink to this headline">¶</a></h6>
<p>Pillow provides limited read support for IPTC/NAA newsphoto files.</p>
</section>
<section id="mcidas">
<h6><a class="toc-backref" href="#id46">MCIDAS</a><a class="headerlink" href="#mcidas" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies and reads 8-bit McIdas area files.</p>
</section>
<section id="mic">
<h6><a class="toc-backref" href="#id47">MIC</a><a class="headerlink" href="#mic" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies and reads Microsoft Image Composer (MIC) files. When opened,
the first sprite in the file is loaded. You can use <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a> to read other sprites from the file.</p>
<p>Note that there may be an embedded gamma of 2.2 in MIC files.</p>
</section>
<section id="mpo">
<h6><a class="toc-backref" href="#id48">MPO</a><a class="headerlink" href="#mpo" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies and reads Multi Picture Object (MPO) files, loading the primary
image when first opened. The <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>
methods may be used to read other pictures from the file. The pictures are
zero-indexed and random access is supported.</p>
</section>
<section id="pcd">
<h6><a class="toc-backref" href="#id49">PCD</a><a class="headerlink" href="#pcd" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads PhotoCD files containing <code class="docutils literal notranslate"><span class="pre">RGB</span></code> data. This only reads the 768x512
resolution image from the file. Higher resolutions are encoded in a proprietary
encoding.</p>
</section>
<section id="pixar">
<h6><a class="toc-backref" href="#id50">PIXAR</a><a class="headerlink" href="#pixar" title="Permalink to this headline">¶</a></h6>
<p>Pillow provides limited support for PIXAR raster files. The library can
identify and read “dumped” RGB files.</p>
<p>The format code is <code class="docutils literal notranslate"><span class="pre">PIXAR</span></code>.</p>
</section>
<section id="psd">
<h6><a class="toc-backref" href="#id51">PSD</a><a class="headerlink" href="#psd" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies and reads PSD files written by Adobe Photoshop 2.5 and 3.0.</p>
</section>
<section id="wal">
<h6><a class="toc-backref" href="#id52">WAL</a><a class="headerlink" href="#wal" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4.</span></p>
</div>
<p>Pillow reads Quake2 WAL texture files.</p>
<p>Note that this file format cannot be automatically identified, so you must use
the open function in the <a class="reference internal" href="index.html#module-PIL.WalImageFile" title="PIL.WalImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WalImageFile</span></code></a> module to read files in
this format.</p>
<p>By default, a Quake2 standard palette is attached to the texture. To override
the palette, use the putpalette method.</p>
</section>
<section id="wmf">
<h6><a class="toc-backref" href="#id53">WMF</a><a class="headerlink" href="#wmf" title="Permalink to this headline">¶</a></h6>
<p>Pillow can identify WMF files.</p>
<p>On Windows, it can read WMF files. By default, it will load the image at 72
dpi. To load it at another resolution:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;drawing.wmf&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">dpi</span><span class="o">=</span><span class="mi">144</span><span class="p">)</span>
</pre></div>
</div>
<p>To add other read or write support, use
<a class="reference internal" href="index.html#PIL.WmfImagePlugin.register_handler" title="PIL.WmfImagePlugin.register_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.WmfImagePlugin.register_handler()</span></code></a> to register a WMF handler.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">WmfImagePlugin</span>

<span class="k">class</span> <span class="nc">WmfHandler</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">im</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">im</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="k">return</span> <span class="n">image</span>
    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">im</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="o">...</span>

<span class="n">wmf_handler</span> <span class="o">=</span> <span class="n">WmfHandler</span><span class="p">()</span>

<span class="n">WmfImagePlugin</span><span class="o">.</span><span class="n">register_handler</span><span class="p">(</span><span class="n">wmf_handler</span><span class="p">)</span>

<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;sample.wmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="xpm">
<h6><a class="toc-backref" href="#id54">XPM</a><a class="headerlink" href="#xpm" title="Permalink to this headline">¶</a></h6>
<p>Pillow reads X pixmap files (mode <code class="docutils literal notranslate"><span class="pre">P</span></code>) with 256 colors or less.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method sets the following
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a> properties:</p>
<dl class="simple">
<dt><strong>transparency</strong></dt><dd><p>Transparency color index. This key is omitted if the image is not
transparent.</p>
</dd>
</dl>
</section>
</section>
<section id="write-only-formats">
<h5><a class="toc-backref" href="#id55">Write-only formats</a><a class="headerlink" href="#write-only-formats" title="Permalink to this headline">¶</a></h5>
<section id="palm">
<h6><a class="toc-backref" href="#id56">PALM</a><a class="headerlink" href="#palm" title="Permalink to this headline">¶</a></h6>
<p>Pillow provides write-only support for PALM pixmap files.</p>
<p>The format code is <code class="docutils literal notranslate"><span class="pre">Palm</span></code>, the extension is <code class="docutils literal notranslate"><span class="pre">.palm</span></code>.</p>
</section>
<section id="pdf">
<h6><a class="toc-backref" href="#id57">PDF</a><a class="headerlink" href="#pdf" title="Permalink to this headline">¶</a></h6>
<p>Pillow can write PDF (Acrobat) images. Such images are written as binary PDF 1.4
files, using either JPEG or HEX encoding depending on the image mode (and
whether JPEG support is available or not).</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> method can take the following keyword arguments:</p>
<dl>
<dt><strong>save_all</strong></dt><dd><p>If a multiframe image is used, by default, only the first image will be saved.
To save all frames, each frame to a separate page of the PDF, the <code class="docutils literal notranslate"><span class="pre">save_all</span></code>
parameter must be present and set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.0.</span></p>
</div>
</dd>
<dt><strong>append_images</strong></dt><dd><p>A list of <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code></a> objects to append as additional pages. Each
of the images in the list can be single or multiframe images. The <code class="docutils literal notranslate"><span class="pre">save_all</span></code>
parameter must be present and set to <code class="docutils literal notranslate"><span class="pre">True</span></code> in conjunction with
<code class="docutils literal notranslate"><span class="pre">append_images</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</dd>
<dt><strong>append</strong></dt><dd><p>Set to True to append pages to an existing PDF file. If the file doesn’t
exist, an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> will be raised.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>resolution</strong></dt><dd><p>Image resolution in DPI. This, together with the number of pixels in the
image, will determine the physical dimensions of the page that will be
saved in the PDF.</p>
</dd>
<dt><strong>title</strong></dt><dd><p>The document’s title. If not appending to an existing PDF file, this will
default to the filename.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>author</strong></dt><dd><p>The name of the person who created the document.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>subject</strong></dt><dd><p>The subject of the document.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>keywords</strong></dt><dd><p>Keywords associated with the document.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>creator</strong></dt><dd><p>If the document was converted to PDF from another format, the name of the
conforming product that created the original document from which it was
converted.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>producer</strong></dt><dd><p>If the document was converted to PDF from another format, the name of the
conforming product that converted it to PDF.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.0.</span></p>
</div>
</dd>
<dt><strong>creationDate</strong></dt><dd><p>The creation date of the document. If not appending to an existing PDF
file, this will default to the current time.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</dd>
<dt><strong>modDate</strong></dt><dd><p>The modification date of the document. If not appending to an existing PDF
file, this will default to the current time.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</dd>
</dl>
</section>
<section id="xv-thumbnails">
<h6><a class="toc-backref" href="#id58">XV Thumbnails</a><a class="headerlink" href="#xv-thumbnails" title="Permalink to this headline">¶</a></h6>
<p>Pillow can read XV thumbnail files.</p>
</section>
</section>
<section id="identify-only-formats">
<h5><a class="toc-backref" href="#id59">Identify-only formats</a><a class="headerlink" href="#identify-only-formats" title="Permalink to this headline">¶</a></h5>
<section id="bufr">
<h6><a class="toc-backref" href="#id60">BUFR</a><a class="headerlink" href="#bufr" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.3.</span></p>
</div>
<p>Pillow provides a stub driver for BUFR files.</p>
<p>To add read or write support to your application, use
<a class="reference internal" href="index.html#PIL.BufrStubImagePlugin.register_handler" title="PIL.BufrStubImagePlugin.register_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.BufrStubImagePlugin.register_handler()</span></code></a>.</p>
</section>
<section id="fits">
<h6><a class="toc-backref" href="#id61">FITS</a><a class="headerlink" href="#fits" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
<p>Pillow provides a stub driver for FITS files.</p>
<p>To add read or write support to your application, use
<a class="reference internal" href="index.html#PIL.FitsStubImagePlugin.register_handler" title="PIL.FitsStubImagePlugin.register_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.FitsStubImagePlugin.register_handler()</span></code></a>.</p>
</section>
<section id="grib">
<h6><a class="toc-backref" href="#id62">GRIB</a><a class="headerlink" href="#grib" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
<p>Pillow provides a stub driver for GRIB files.</p>
<p>The driver requires the file to start with a GRIB header. If you have files
with embedded GRIB data, or files with multiple GRIB fields, your application
has to seek to the header before passing the file handle to Pillow.</p>
<p>To add read or write support to your application, use
<a class="reference internal" href="index.html#PIL.GribStubImagePlugin.register_handler" title="PIL.GribStubImagePlugin.register_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.GribStubImagePlugin.register_handler()</span></code></a>.</p>
</section>
<section id="hdf5">
<h6><a class="toc-backref" href="#id63">HDF5</a><a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
<p>Pillow provides a stub driver for HDF5 files.</p>
<p>To add read or write support to your application, use
<a class="reference internal" href="index.html#PIL.Hdf5StubImagePlugin.register_handler" title="PIL.Hdf5StubImagePlugin.register_handler"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Hdf5StubImagePlugin.register_handler()</span></code></a>.</p>
</section>
<section id="mpeg">
<h6><a class="toc-backref" href="#id64">MPEG</a><a class="headerlink" href="#mpeg" title="Permalink to this headline">¶</a></h6>
<p>Pillow identifies MPEG files.</p>
</section>
</section>
</section>
<span id="document-handbook/text-anchors"></span><section id="text-anchors">
<span id="id1"></span><h4>Text anchors<a class="headerlink" href="#text-anchors" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter determines the alignment of drawn text relative to the <code class="docutils literal notranslate"><span class="pre">xy</span></code> parameter.
The default alignment is top left, specifically <code class="docutils literal notranslate"><span class="pre">la</span></code> (left-ascender) for horizontal text
and <code class="docutils literal notranslate"><span class="pre">lt</span></code> (left-top) for vertical text.</p>
<p>This parameter is only supported by OpenType/TrueType fonts.
Other fonts may ignore the parameter and use the default (top left) alignment.</p>
<section id="specifying-an-anchor">
<h5>Specifying an anchor<a class="headerlink" href="#specifying-an-anchor" title="Permalink to this headline">¶</a></h5>
<p>An anchor is specified with a two-character string. The first character is the
horizontal alignment, the second character is the vertical alignment.
For example, the default value of <code class="docutils literal notranslate"><span class="pre">la</span></code> for horizontal text means left-ascender
aligned text.</p>
<p>When drawing text with <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.text()</span></code></a> with a specific anchor,
the text will be placed such that the specified anchor point is at the <code class="docutils literal notranslate"><span class="pre">xy</span></code> coordinates.</p>
<p>For example, in the following image, the text is <code class="docutils literal notranslate"><span class="pre">ms</span></code> (middle-baseline) aligned, with
<code class="docutils literal notranslate"><span class="pre">xy</span></code> at the intersection of the two lines:</p>
<img alt="ms (middle-baseline) aligned text." class="align-left" src="_images/test_anchor_quick_ms.png" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>

<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;Tests/fonts/NotoSans-Regular.ttf&quot;</span><span class="p">,</span> <span class="mi">48</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">line</span><span class="p">(((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span> <span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">line</span><span class="p">(((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)),</span> <span class="s2">&quot;gray&quot;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="s2">&quot;Quick&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;ms&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>
</pre></div>
</div>
<div class="clearer docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</section>
<section id="quick-reference">
<h5>Quick reference<a class="headerlink" href="#quick-reference" title="Permalink to this headline">¶</a></h5>
<img alt="Horizontal text" class="align-center" src="_images/anchor_horizontal.svg" /><img alt="Vertical text" class="align-center" src="_images/anchor_vertical.svg" /></section>
<section id="horizontal-anchor-alignment">
<h5>Horizontal anchor alignment<a class="headerlink" href="#horizontal-anchor-alignment" title="Permalink to this headline">¶</a></h5>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">l</span></code> — left</dt><dd><p>Anchor is to the left of the text.</p>
<p>For <em>horizontal</em> text this is the origin of the first glyph, as shown in the <a class="reference external" href="https://freetype.org/freetype2/docs/tutorial/step2.html">FreeType tutorial</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m</span></code> — middle</dt><dd><p>Anchor is horizontally centered with the text.</p>
<p>For <em>vertical</em> text it is recommended to use <code class="docutils literal notranslate"><span class="pre">s</span></code> (baseline) alignment instead,
as it does not change based on the specific glyphs of the given text.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code> — right</dt><dd><p>Anchor is to the right of the text.</p>
<p>For <em>horizontal</em> text this is the advanced origin of the last glyph, as shown in the <a class="reference external" href="https://freetype.org/freetype2/docs/tutorial/step2.html">FreeType tutorial</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">s</span></code> — baseline <em>(vertical text only)</em></dt><dd><p>Anchor is at the baseline (middle) of the text. The exact alignment depends on the font.</p>
<p>For <em>vertical</em> text this is the recommended alignment,
as it does not change based on the specific glyphs of the given text
(see image for vertical text above).</p>
</dd>
</dl>
</section>
<section id="vertical-anchor-alignment">
<h5>Vertical anchor alignment<a class="headerlink" href="#vertical-anchor-alignment" title="Permalink to this headline">¶</a></h5>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">a</span></code> — ascender / top <em>(horizontal text only)</em></dt><dd><p>Anchor is at the ascender line (top) of the first line of text, as defined by the font.</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Typeface#Font_metrics">Font metrics on Wikipedia</a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">t</span></code> — top <em>(single-line text only)</em></dt><dd><p>Anchor is at the top of the text.</p>
<p>For <em>vertical</em> text this is the origin of the first glyph, as shown in the <a class="reference external" href="https://freetype.org/freetype2/docs/tutorial/step2.html">FreeType tutorial</a>.</p>
<p>For <em>horizontal</em> text it is recommended to use <code class="docutils literal notranslate"><span class="pre">a</span></code> (ascender) alignment instead,
as it does not change based on the specific glyphs of the given text.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m</span></code> — middle</dt><dd><p>Anchor is vertically centered with the text.</p>
<p>For <em>horizontal</em> text this is the midpoint of the first ascender line and the last descender line.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">s</span></code> — baseline <em>(horizontal text only)</em></dt><dd><p>Anchor is at the baseline (bottom) of the first line of text, only descenders extend below the anchor.</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Typeface#Font_metrics">Font metrics on Wikipedia</a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code> — bottom <em>(single-line text only)</em></dt><dd><p>Anchor is at the bottom of the text.</p>
<p>For <em>vertical</em> text this is the advanced origin of the last glyph, as shown in the <a class="reference external" href="https://freetype.org/freetype2/docs/tutorial/step2.html">FreeType tutorial</a>.</p>
<p>For <em>horizontal</em> text it is recommended to use <code class="docutils literal notranslate"><span class="pre">d</span></code> (descender) alignment instead,
as it does not change based on the specific glyphs of the given text.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">d</span></code> — descender / bottom <em>(horizontal text only)</em></dt><dd><p>Anchor is at the descender line (bottom) of the last line of text, as defined by the font.</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Typeface#Font_metrics">Font metrics on Wikipedia</a> for more information.</p>
</dd>
</dl>
</section>
<section id="examples">
<h5>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h5>
<p>The following image shows several examples of anchors for horizontal text.
In each section the <code class="docutils literal notranslate"><span class="pre">xy</span></code> parameter was set to the center shown by the intersection
of the two lines.</p>
<img alt="Text anchor examples" class="align-center" src="_images/anchors.png" />
</section>
</section>
<span id="document-handbook/writing-your-own-file-decoder"></span><section id="writing-your-own-image-plugin">
<span id="image-plugins"></span><h4>Writing Your Own Image Plugin<a class="headerlink" href="#writing-your-own-image-plugin" title="Permalink to this headline">¶</a></h4>
<p>Pillow uses a plugin model which allows you to add your own
decoders to the library, without any changes to the library
itself. Such plugins usually have names like
<code class="file docutils literal notranslate"><span class="pre">XxxImagePlugin.py</span></code>, where <code class="docutils literal notranslate"><span class="pre">Xxx</span></code> is a unique format name
(usually an abbreviation).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pillow &gt;= 2.1.0 no longer automatically imports any file
in the Python path with a name ending in
<code class="file docutils literal notranslate"><span class="pre">ImagePlugin.py</span></code>.  You will need to import your
image plugin manually.</p>
</div>
<p>Pillow decodes files in two stages:</p>
<ol class="arabic simple">
<li><p>It loops over the available image plugins in the loaded order, and
calls the plugin’s <code class="docutils literal notranslate"><span class="pre">_accept</span></code> function with the first 16 bytes of
the file. If the <code class="docutils literal notranslate"><span class="pre">_accept</span></code> function returns true, the plugin’s
<code class="docutils literal notranslate"><span class="pre">_open</span></code> method is called to set up the image metadata and image
tiles. The <code class="docutils literal notranslate"><span class="pre">_open</span></code> method is not for decoding the actual image
data.</p></li>
<li><p>When the image data is requested, the <code class="docutils literal notranslate"><span class="pre">ImageFile.load</span></code> method is
called, which sets up a decoder for each tile and feeds the data to
it.</p></li>
</ol>
<p>An image plugin should contain a format handler derived from the
<a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a> base class. This class should
provide an <code class="docutils literal notranslate"><span class="pre">_open</span></code> method, which reads the file header and
sets up at least the <a class="reference internal" href="index.html#PIL.Image.Image.mode" title="PIL.Image.Image.mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mode</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> attributes. To be able to load the
file, the method must also create a list of <code class="docutils literal notranslate"><span class="pre">tile</span></code> descriptors,
which contain a decoder name, extents of the tile, and
any decoder-specific data. The format handler class must be explicitly
registered, via a call to the <a class="reference internal" href="index.html#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For performance reasons, it is important that the
<code class="docutils literal notranslate"><span class="pre">_open</span></code> method quickly rejects files that do not have the
appropriate contents.</p>
</div>
<section id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<p>The following plugin supports a simple format, which has a 128-byte header
consisting of the words “SPAM” followed by the width, height, and pixel size in
bits. The header fields are separated by spaces. The image data follows
directly after the header, and can be either bi-level, greyscale, or 24-bit
true color.</p>
<p><strong>SpamImagePlugin.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageFile</span>


<span class="k">def</span> <span class="nf">_accept</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">prefix</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;SPAM&quot;</span>


<span class="k">class</span> <span class="nc">SpamImageFile</span><span class="p">(</span><span class="n">ImageFile</span><span class="o">.</span><span class="n">ImageFile</span><span class="p">):</span>

    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;SPAM&quot;</span>
    <span class="n">format_description</span> <span class="o">=</span> <span class="s2">&quot;Spam raster image&quot;</span>

    <span class="k">def</span> <span class="nf">_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

        <span class="c1"># size in pixels (width, height)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="c1"># mode setting</span>
        <span class="n">bits</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">header</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">bits</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="k">elif</span> <span class="n">bits</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;L&quot;</span>
        <span class="k">elif</span> <span class="n">bits</span> <span class="o">==</span> <span class="mi">24</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;unknown number of bits&quot;</span><span class="p">)</span>

        <span class="c1"># data descriptor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tile</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))]</span>


<span class="n">Image</span><span class="o">.</span><span class="n">register_open</span><span class="p">(</span><span class="n">SpamImageFile</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">SpamImageFile</span><span class="p">,</span> <span class="n">_accept</span><span class="p">)</span>

<span class="n">Image</span><span class="o">.</span><span class="n">register_extensions</span><span class="p">(</span><span class="n">SpamImageFile</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="p">[</span>
    <span class="s2">&quot;.spam&quot;</span><span class="p">,</span>
    <span class="s2">&quot;.spa&quot;</span><span class="p">,</span>  <span class="c1"># DOS version</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The format handler must always set the
<a class="reference internal" href="index.html#PIL.Image.Image.size" title="PIL.Image.Image.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.mode" title="PIL.Image.Image.mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mode</span></code></a>
attributes. If these are not set, the file cannot be opened. To
simplify the plugin, the calling code considers exceptions like
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SyntaxError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a>,
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EOFError</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/struct.html#struct.error" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">struct.error</span></code></a> as a failure to identify
the file.</p>
<p>Note that the image plugin must be explicitly registered using
<a class="reference internal" href="index.html#PIL.Image.register_open" title="PIL.Image.register_open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.register_open()</span></code></a>. Although not required, it is also a good
idea to register any extensions used by this format.</p>
<p>Once the plugin has been imported, it can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">SpamImagePlugin</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.spam&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="the-tile-attribute">
<h5>The <code class="docutils literal notranslate"><span class="pre">tile</span></code> attribute<a class="headerlink" href="#the-tile-attribute" title="Permalink to this headline">¶</a></h5>
<p>To be able to read the file as well as just identifying it, the <code class="docutils literal notranslate"><span class="pre">tile</span></code>
attribute must also be set. This attribute consists of a list of tile
descriptors, where each descriptor specifies how data should be loaded to a
given region in the image. In most cases, only a single descriptor is used,
covering the full image.</p>
<p>The tile descriptor is a 4-tuple with the following contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">decoder</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
</pre></div>
</div>
<p>The fields are used as follows:</p>
<dl class="simple">
<dt><strong>decoder</strong></dt><dd><p>Specifies which decoder to use. The <code class="docutils literal notranslate"><span class="pre">raw</span></code> decoder used here supports
uncompressed data, in a variety of pixel formats. For more information on
this decoder, see the description below.</p>
</dd>
<dt><strong>region</strong></dt><dd><p>A 4-tuple specifying where to store data in the image.</p>
</dd>
<dt><strong>offset</strong></dt><dd><p>Byte offset from the beginning of the file to image data.</p>
</dd>
<dt><strong>parameters</strong></dt><dd><p>Parameters to the decoder. The contents of this field depends on the
decoder specified by the first field in the tile descriptor tuple. If the
decoder doesn’t need any parameters, use <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> for this field.</p>
</dd>
</dl>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">tile</span></code> attribute contains a list of tile descriptors,
not just a single descriptor.</p>
</section>
</section>
<section id="decoders">
<h4>Decoders<a class="headerlink" href="#decoders" title="Permalink to this headline">¶</a></h4>
<section id="the-raw-decoder">
<h5>The raw decoder<a class="headerlink" href="#the-raw-decoder" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">raw</span></code> decoder is used to read uncompressed data from an image file. It
can be used with most uncompressed file formats, such as PPM, BMP, uncompressed
TIFF, and many others. To use the raw decoder with the
<a class="reference internal" href="index.html#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.frombytes()</span></code></a> function, use the following syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span>
    <span class="n">mode</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span>
    <span class="n">raw</span> <span class="n">mode</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="n">orientation</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>When used in a tile descriptor, the parameter field should look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">raw</span> <span class="n">mode</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="n">orientation</span><span class="p">)</span>
</pre></div>
</div>
<p>The fields are used as follows:</p>
<dl class="simple">
<dt><strong>raw mode</strong></dt><dd><p>The pixel layout used in the file, and is used to properly convert data to
PIL’s internal layout. For a summary of the available formats, see the
table below.</p>
</dd>
<dt><strong>stride</strong></dt><dd><p>The distance in bytes between two consecutive lines in the image. If 0, the
image is assumed to be packed (no padding between lines). If omitted, the
stride defaults to 0.</p>
</dd>
<dt><strong>orientation</strong></dt><dd><p>Whether the first line in the image is the top line on the screen (1), or
the bottom line (-1). If omitted, the orientation defaults to 1.</p>
</dd>
</dl>
<p>The <strong>raw mode</strong> field is used to determine how the data should be unpacked to
match PIL’s internal pixel layout. PIL supports a large set of raw modes; for a
complete list, see the table in the <code class="file docutils literal notranslate"><span class="pre">Unpack.c</span></code> module. The following
table describes some commonly used <strong>raw modes</strong>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>mode</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><div class="line-block">
<div class="line">1-bit bilevel, stored with the leftmost pixel in the most</div>
<div class="line">significant bit. 0 means black, 1 means white.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1;I</span></code></p></td>
<td><div class="line-block">
<div class="line">1-bit inverted bilevel, stored with the leftmost pixel in the</div>
<div class="line">most significant bit. 0 means white, 1 means black.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1;R</span></code></p></td>
<td><div class="line-block">
<div class="line">1-bit reversed bilevel, stored with the leftmost pixel in the</div>
<div class="line">least significant bit. 0 means black, 1 means white.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">L</span></code></p></td>
<td><p>8-bit greyscale. 0 means black, 255 means white.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">L;I</span></code></p></td>
<td><p>8-bit inverted greyscale. 0 means white, 255 means black.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">P</span></code></p></td>
<td><p>8-bit palette-mapped image.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RGB</span></code></p></td>
<td><p>24-bit true colour, stored as (red, green, blue).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BGR</span></code></p></td>
<td><p>24-bit true colour, stored as (blue, green, red).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RGBX</span></code></p></td>
<td><div class="line-block">
<div class="line">24-bit true colour, stored as (red, green, blue, pad). The pad</div>
<div class="line">pixels may vary.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RGB;L</span></code></p></td>
<td><div class="line-block">
<div class="line">24-bit true colour, line interleaved (first all red pixels, then</div>
<div class="line">all green pixels, finally all blue pixels).</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Note that for the most common cases, the raw mode is simply the same as the mode.</p>
<p>The Python Imaging Library supports many other decoders, including JPEG, PNG,
and PackBits. For details, see the <code class="file docutils literal notranslate"><span class="pre">decode.c</span></code> source file, and the
standard plugin implementations provided with the library.</p>
</section>
<section id="decoding-floating-point-data">
<h5>Decoding floating point data<a class="headerlink" href="#decoding-floating-point-data" title="Permalink to this headline">¶</a></h5>
<p>PIL provides some special mechanisms to allow you to load a wide variety of
formats into a mode <code class="docutils literal notranslate"><span class="pre">F</span></code> (floating point) image memory.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">raw</span></code> decoder to read images where data is packed in any
standard machine data type, using one of the following raw modes:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>mode</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F</span></code></p></td>
<td><p>32-bit native floating point.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;8</span></code></p></td>
<td><p>8-bit unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;8S</span></code></p></td>
<td><p>8-bit signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;16</span></code></p></td>
<td><p>16-bit little endian unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;16S</span></code></p></td>
<td><p>16-bit little endian signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;16B</span></code></p></td>
<td><p>16-bit big endian unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;16BS</span></code></p></td>
<td><p>16-bit big endian signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;16N</span></code></p></td>
<td><p>16-bit native unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;16NS</span></code></p></td>
<td><p>16-bit native signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;32</span></code></p></td>
<td><p>32-bit little endian unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;32S</span></code></p></td>
<td><p>32-bit little endian signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;32B</span></code></p></td>
<td><p>32-bit big endian unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;32BS</span></code></p></td>
<td><p>32-bit big endian signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;32N</span></code></p></td>
<td><p>32-bit native unsigned integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;32NS</span></code></p></td>
<td><p>32-bit native signed integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;32F</span></code></p></td>
<td><p>32-bit little endian floating point.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;32BF</span></code></p></td>
<td><p>32-bit big endian floating point.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;32NF</span></code></p></td>
<td><p>32-bit native floating point.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;64F</span></code></p></td>
<td><p>64-bit little endian floating point.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">F;64BF</span></code></p></td>
<td><p>64-bit big endian floating point.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">F;64NF</span></code></p></td>
<td><p>64-bit native floating point.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-bit-decoder">
<h5>The bit decoder<a class="headerlink" href="#the-bit-decoder" title="Permalink to this headline">¶</a></h5>
<p>If the raw decoder cannot handle your format, PIL also provides a special “bit”
decoder that can be used to read various packed formats into a floating point
image memory.</p>
<p>To use the bit decoder with the <a class="reference internal" href="index.html#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.frombytes()</span></code></a> function, use
the following syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span>
    <span class="n">mode</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;bit&quot;</span><span class="p">,</span>
    <span class="n">bits</span><span class="p">,</span> <span class="n">pad</span><span class="p">,</span> <span class="n">fill</span><span class="p">,</span> <span class="n">sign</span><span class="p">,</span> <span class="n">orientation</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>When used in a tile descriptor, the parameter field should look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="n">pad</span><span class="p">,</span> <span class="n">fill</span><span class="p">,</span> <span class="n">sign</span><span class="p">,</span> <span class="n">orientation</span><span class="p">)</span>
</pre></div>
</div>
<p>The fields are used as follows:</p>
<dl>
<dt><strong>bits</strong></dt><dd><p>Number of bits per pixel (2-32). No default.</p>
</dd>
<dt><strong>pad</strong></dt><dd><p>Padding between lines, in bits. This is either 0 if there is no padding, or
8 if lines are padded to full bytes. If omitted, the pad value defaults to
8.</p>
</dd>
<dt><strong>fill</strong></dt><dd><p>Controls how data are added to, and stored from, the decoder bit buffer.</p>
</dd>
<dt><strong>fill=0</strong></dt><dd><p>Add bytes to the LSB end of the decoder buffer; store pixels from the MSB
end.</p>
</dd>
<dt><strong>fill=1</strong></dt><dd><p>Add bytes to the MSB end of the decoder buffer; store pixels from the MSB
end.</p>
</dd>
<dt><strong>fill=2</strong></dt><dd><p>Add bytes to the LSB end of the decoder buffer; store pixels from the LSB
end.</p>
</dd>
<dt><strong>fill=3</strong></dt><dd><p>Add bytes to the MSB end of the decoder buffer; store pixels from the LSB
end.</p>
<p>If omitted, the fill order defaults to 0.</p>
</dd>
<dt><strong>sign</strong></dt><dd><p>If non-zero, bit fields are sign extended. If zero or omitted, bit fields
are unsigned.</p>
</dd>
<dt><strong>orientation</strong></dt><dd><p>Whether the first line in the image is the top line on the screen (1), or
the bottom line (-1). If omitted, the orientation defaults to 1.</p>
</dd>
</dl>
</section>
</section>
<section id="writing-your-own-file-decoder-in-c">
<span id="file-decoders"></span><h4>Writing Your Own File Decoder in C<a class="headerlink" href="#writing-your-own-file-decoder-in-c" title="Permalink to this headline">¶</a></h4>
<p>There are 3 stages in a file decoder’s lifetime:</p>
<ol class="arabic simple">
<li><p>Setup: Pillow looks for a function in the decoder registry, falling
back to a function named <code class="docutils literal notranslate"><span class="pre">[decodername]_decoder</span></code> on the internal
core image object.  That function is called with the <code class="docutils literal notranslate"><span class="pre">args</span></code> tuple
from the <code class="docutils literal notranslate"><span class="pre">tile</span></code> setup in the <code class="docutils literal notranslate"><span class="pre">_open</span></code> method.</p></li>
<li><p>Decoding: The decoder’s decode function is repeatedly called with
chunks of image data.</p></li>
<li><p>Cleanup: If the decoder has registered a cleanup function, it will
be called at the end of the decoding process, even if there was an
exception raised.</p></li>
</ol>
<section id="setup">
<h5>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h5>
<p>The current conventions are that the decoder setup function is named
<code class="docutils literal notranslate"><span class="pre">PyImaging_[Decodername]DecoderNew</span></code> and defined in <code class="docutils literal notranslate"><span class="pre">decode.c</span></code>. The
python binding for it is named <code class="docutils literal notranslate"><span class="pre">[decodername]_decoder</span></code> and is setup
from within the <code class="docutils literal notranslate"><span class="pre">_imaging.c</span></code> file in the codecs section of the
function array.</p>
<p>The setup function needs to call <code class="docutils literal notranslate"><span class="pre">PyImaging_DecoderNew</span></code> and at the
very least, set the <code class="docutils literal notranslate"><span class="pre">decode</span></code> function pointer. The fields of
interest in this object are:</p>
<dl>
<dt><strong>decode</strong></dt><dd><p>Function pointer to the decode function, which has access to
<code class="docutils literal notranslate"><span class="pre">im</span></code>, <code class="docutils literal notranslate"><span class="pre">state</span></code>, and the buffer of data to be added to the image.</p>
</dd>
<dt><strong>cleanup</strong></dt><dd><p>Function pointer to the cleanup function, has access to <code class="docutils literal notranslate"><span class="pre">state</span></code>.</p>
</dd>
<dt><strong>im</strong></dt><dd><p>The target image, will be set by Pillow.</p>
</dd>
<dt><strong>state</strong></dt><dd><p>An ImagingCodecStateInstance, will be set by Pillow. The <code class="docutils literal notranslate"><span class="pre">context</span></code>
member is an opaque struct that can be used by the decoder to store
any format specific state or options.</p>
</dd>
<dt><strong>pulls_fd</strong></dt><dd><p><strong>EXPERIMENTAL</strong> – <strong>WARNING</strong>, interface may change. If set to 1,
<code class="docutils literal notranslate"><span class="pre">state-&gt;fd</span></code> will be a pointer to the Python file like object.  The
decoder may use the functions in <code class="docutils literal notranslate"><span class="pre">codec_fd.c</span></code> to read directly
from the file like object rather than have the data pushed through a
buffer.  Note that this implementation may be refactored until this
warning is removed.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.3.0.</span></p>
</div>
</dd>
</dl>
</section>
<section id="decoding">
<h5>Decoding<a class="headerlink" href="#decoding" title="Permalink to this headline">¶</a></h5>
<p>The decode function is called with the target (core) image, the
decoder state structure, and a buffer of data to be decoded.</p>
<p><strong>Experimental</strong> – If <code class="docutils literal notranslate"><span class="pre">pulls_fd</span></code> is set, then the decode function
is called once, with an empty buffer. It is the decoder’s
responsibility to decode the entire tile in that one call.  The rest of
this section only applies if <code class="docutils literal notranslate"><span class="pre">pulls_fd</span></code> is not set.</p>
<p>It is the decoder’s responsibility to pull as much data as possible
out of the buffer and return the number of bytes consumed. The next
call to the decoder will include the previous unconsumed tail. The
decoder function will be called multiple times as the data is read
from the file like object.</p>
<p>If an error occurs, set <code class="docutils literal notranslate"><span class="pre">state-&gt;errcode</span></code> and return -1.</p>
<p>Return -1 on success, without setting the errcode.</p>
</section>
<section id="cleanup">
<h5>Cleanup<a class="headerlink" href="#cleanup" title="Permalink to this headline">¶</a></h5>
<p>The cleanup function is called after the decoder returns a negative
value, or if there is a read error from the file. This function should
free any allocated memory and release any resources from external
libraries.</p>
</section>
</section>
<section id="writing-your-own-file-decoder-in-python">
<span id="file-decoders-py"></span><h4>Writing Your Own File Decoder in Python<a class="headerlink" href="#writing-your-own-file-decoder-in-python" title="Permalink to this headline">¶</a></h4>
<p>Python file decoders should derive from
<a class="reference internal" href="index.html#PIL.ImageFile.PyDecoder" title="PIL.ImageFile.PyDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.PyDecoder</span></code></a> and should at least override the
decode method. File decoders should be registered using
<a class="reference internal" href="index.html#PIL.Image.register_decoder" title="PIL.Image.register_decoder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.register_decoder()</span></code></a>. As in the C implementation of
the file decoders, there are three stages in the lifetime of a
Python-based file decoder:</p>
<ol class="arabic simple">
<li><p>Setup: Pillow looks for the decoder in the registry, then
instantiates the class.</p></li>
<li><p>Decoding: The decoder instance’s <code class="docutils literal notranslate"><span class="pre">decode</span></code> method is repeatedly
called with a buffer of data to be interpreted.</p></li>
<li><p>Cleanup: The decoder instance’s <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> method is called.</p></li>
</ol>
</section>
</div>
</section>
</div>
</section>
<span id="document-reference/index"></span><section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-reference/Image"></span><span class="target" id="module-PIL.Image"></span><section id="image-module">
<h3><a class="reference internal" href="#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> Module<a class="headerlink" href="#image-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.Image" title="PIL.Image"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span></code></a> module provides a class with the same name which is
used to represent a PIL image. The module also provides a number of factory
functions, including functions to load images from files, and to create new
images.</p>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<section id="open-rotate-and-display-an-image-using-the-default-viewer">
<h5>Open, rotate, and display an image (using the default viewer)<a class="headerlink" href="#open-rotate-and-display-an-image-using-the-default-viewer" title="Permalink to this headline">¶</a></h5>
<p>The following script loads an image, rotates it 45 degrees, and displays it
using an external viewer (usually xv on Unix, and the Paint program on
Windows).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="create-thumbnails">
<h5>Create thumbnails<a class="headerlink" href="#create-thumbnails" title="Permalink to this headline">¶</a></h5>
<p>The following script creates nice thumbnails of all JPEG images in the
current directory preserving aspect ratios with 128x128 max resolution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">os</span>

<span class="n">size</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span>

<span class="k">for</span> <span class="n">infile</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.jpg&quot;</span><span class="p">):</span>
    <span class="n">file</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
        <span class="n">im</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file</span> <span class="o">+</span> <span class="s2">&quot;.thumbnail&quot;</span><span class="p">,</span> <span class="s2">&quot;JPEG&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.open">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens and identifies the given image file.</p>
<p>This is a lazy operation; this function identifies the file, but
the file remains open and the actual image data is not read from
the file until you try to process the data (or call the
<a class="reference internal" href="#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> method).  See
<a class="reference internal" href="#PIL.Image.new" title="PIL.Image.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a>. See <a class="reference internal" href="index.html#file-handling"><span class="std std-ref">File Handling in Pillow</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fp</strong> – A filename (string), pathlib.Path object or a file object.
The file object must implement <code class="docutils literal notranslate"><span class="pre">file.read</span></code>,
<code class="docutils literal notranslate"><span class="pre">file.seek</span></code>, and <code class="docutils literal notranslate"><span class="pre">file.tell</span></code> methods,
and be opened in binary mode.</p></li>
<li><p><strong>mode</strong> – The mode.  If given, this argument must be “r”.</p></li>
<li><p><strong>formats</strong> – A list or tuple of formats to attempt to load the file in.
This can be used to restrict the set of formats checked.
Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to try all supported formats. You can print the set of
available formats by running <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">PIL</span></code> or using
the <a class="reference internal" href="index.html#PIL.features.pilinfo" title="PIL.features.pilinfo"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.pilinfo()</span></code></a> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.9)"><strong>FileNotFoundError</strong></a> – If the file cannot be found.</p></li>
<li><p><a class="reference internal" href="index.html#PIL.UnidentifiedImageError" title="PIL.UnidentifiedImageError"><strong>PIL.UnidentifiedImageError</strong></a> – If the image cannot be opened and
identified.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">mode</span></code> is not “r”, or if a <code class="docutils literal notranslate"><span class="pre">StringIO</span></code>
instance is used for <code class="docutils literal notranslate"><span class="pre">fp</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.9)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">formats</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, a list or a tuple.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To protect against potential DOS attacks caused by “<a class="reference external" href="https://en.wikipedia.org/wiki/Zip_bomb">decompression bombs</a>” (i.e. malicious files
which decompress into a huge amount of data and are designed to crash or cause disruption by using up
a lot of memory), Pillow will issue a <code class="docutils literal notranslate"><span class="pre">DecompressionBombWarning</span></code> if the number of pixels in an
image is over a certain limit, <a class="reference internal" href="#PIL.Image.MAX_IMAGE_PIXELS" title="PIL.Image.MAX_IMAGE_PIXELS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.MAX_IMAGE_PIXELS</span></code></a>.</p>
<p>This threshold can be changed by setting <a class="reference internal" href="#PIL.Image.MAX_IMAGE_PIXELS" title="PIL.Image.MAX_IMAGE_PIXELS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.MAX_IMAGE_PIXELS</span></code></a>. It can be disabled
by setting <code class="docutils literal notranslate"><span class="pre">Image.MAX_IMAGE_PIXELS</span> <span class="pre">=</span> <span class="pre">None</span></code>.</p>
<p>If desired, the warning can be turned into an error with
<code class="docutils literal notranslate"><span class="pre">warnings.simplefilter('error',</span> <span class="pre">Image.DecompressionBombWarning)</span></code> or suppressed entirely with
<code class="docutils literal notranslate"><span class="pre">warnings.simplefilter('ignore',</span> <span class="pre">Image.DecompressionBombWarning)</span></code>. See also
<a class="reference external" href="https://docs.python.org/3/library/logging.html#integration-with-the-warnings-module">the logging documentation</a> to have warnings output to the logging facility instead of stderr.</p>
<p>If the number of pixels is greater than twice <a class="reference internal" href="#PIL.Image.MAX_IMAGE_PIXELS" title="PIL.Image.MAX_IMAGE_PIXELS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.MAX_IMAGE_PIXELS</span></code></a>, then a
<code class="docutils literal notranslate"><span class="pre">DecompressionBombError</span></code> will be raised instead.</p>
</div>
</dd></dl>

<section id="image-processing">
<h5>Image processing<a class="headerlink" href="#image-processing" title="Permalink to this headline">¶</a></h5>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.alpha_composite">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">alpha_composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#alpha_composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.alpha_composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Alpha composite im2 over im1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im1</strong> – The first image. Must have mode RGBA.</p></li>
<li><p><strong>im2</strong> – The second image.  Must have mode RGBA, and the same size as
the first image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.blend">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">blend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#blend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.blend" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new image by interpolating between two input images, using
a constant alpha.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">image1</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="n">image2</span> <span class="o">*</span> <span class="n">alpha</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im1</strong> – The first image.</p></li>
<li><p><strong>im2</strong> – The second image.  Must have the same mode and size as
the first image.</p></li>
<li><p><strong>alpha</strong> – The interpolation alpha factor.  If alpha is 0.0, a
copy of the first image is returned. If alpha is 1.0, a copy of
the second image is returned. There are no restrictions on the
alpha value. If necessary, the result is clipped to fit into
the allowed output range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.composite">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Create composite image by blending images using a transparency mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image1</strong> – The first image.</p></li>
<li><p><strong>image2</strong> – The second image.  Must have the same mode and
size as the first image.</p></li>
<li><p><strong>mask</strong> – A mask image.  This image can have mode
“1”, “L”, or “RGBA”, and must have the same size as the
other two images.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.eval">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the function (which should take one argument) to each pixel
in the given image. If the image has more than one band, the same
function is applied to each band. Note that the function is
evaluated once for each possible pixel value, so you cannot use
random components or other generators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The input image.</p></li>
<li><p><strong>function</strong> – A function object, taking one integer argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.merge">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bands</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge a set of single band images into a new multiband image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The mode to use for the output image. See:
<a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
<li><p><strong>bands</strong> – A sequence containing one single-band image for
each band in the output image.  All bands must have the
same size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="constructing-images">
<h5>Constructing images<a class="headerlink" href="#constructing-images" title="Permalink to this headline">¶</a></h5>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.new">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.new" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new image with the given mode and size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The mode to use for the new image. See:
<a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
<li><p><strong>size</strong> – A 2-tuple, containing (width, height) in pixels.</p></li>
<li><p><strong>color</strong> – What color to use for the image.  Default is black.
If given, this should be a single integer or floating point value
for single-band modes, and a tuple for multi-band modes (one value
per band).  When creating RGB images, you can also use color
strings as supported by the ImageColor module.  If the color is
None, the image is not initialised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.fromarray">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">fromarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#fromarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.fromarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an image memory from an object exporting the array interface
(using the buffer protocol).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">obj</span></code> is not contiguous, then the <code class="docutils literal notranslate"><span class="pre">tobytes</span></code> method is called
and <a class="reference internal" href="#PIL.Image.frombuffer" title="PIL.Image.frombuffer"><code class="xref py py-func docutils literal notranslate"><span class="pre">frombuffer()</span></code></a> is used.</p>
<p>If you have an image in NumPy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;hopper.jpg&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
<p>Then this can be used to convert it to a Pillow image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Object with array interface</p></li>
<li><p><strong>mode</strong> – Mode to use (will be determined from type if None)
See: <a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image object.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.6.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.frombytes">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">frombytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#frombytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.frombytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of an image memory from pixel data in a buffer.</p>
<p>In its simplest form, this function takes three arguments
(mode, size, and unpacked pixel data).</p>
<p>You can also use any pixel decoder supported by PIL.  For more
information on available decoders, see the section
<a class="reference internal" href="index.html#file-decoders"><span class="std std-ref">Writing Your Own File Decoder</span></a>.</p>
<p>Note that this function decodes pixel data only, not entire images.
If you have an entire image in a string, wrap it in a
<a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a> object, and use <a class="reference internal" href="#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> to load
it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The image mode. See: <a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
<li><p><strong>size</strong> – The image size.</p></li>
<li><p><strong>data</strong> – A byte buffer containing raw data for the given mode.</p></li>
<li><p><strong>decoder_name</strong> – What decoder to use.</p></li>
<li><p><strong>args</strong> – Additional parameters for the given decoder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.frombuffer">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">frombuffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#frombuffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.frombuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an image memory referencing pixel data in a byte buffer.</p>
<p>This function is similar to <a class="reference internal" href="#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">frombytes()</span></code></a>, but uses data
in the byte buffer, where possible.  This means that changes to the
original buffer object are reflected in this image).  Not all modes can
share memory; supported modes include “L”, “RGBX”, “RGBA”, and “CMYK”.</p>
<p>Note that this function decodes pixel data only, not entire images.
If you have an entire image file in a string, wrap it in a
<a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a> object, and use <a class="reference internal" href="#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> to load it.</p>
<p>In the current version, the default parameters used for the “raw” decoder
differs from that used for <a class="reference internal" href="#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">frombytes()</span></code></a>.  This is a
bug, and will probably be fixed in a future release.  The current release
issues a warning if you do this; to disable the warning, you should provide
the full set of parameters.  See below for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The image mode. See: <a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
<li><p><strong>size</strong> – The image size.</p></li>
<li><p><strong>data</strong> – A bytes or other buffer object containing raw
data for the given mode.</p></li>
<li><p><strong>decoder_name</strong> – What decoder to use.</p></li>
<li><p><strong>args</strong> – <p>Additional parameters for the given decoder.  For the
default encoder (“raw”), it’s recommended that you provide the
full set of parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">frombuffer</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4.</span></p>
</div>
</dd></dl>

</section>
<section id="generating-images">
<h5>Generating images<a class="headerlink" href="#generating-images" title="Permalink to this headline">¶</a></h5>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.effect_mandelbrot">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">effect_mandelbrot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#effect_mandelbrot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.effect_mandelbrot" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a Mandelbrot set covering the given extent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – The requested size in pixels, as a 2-tuple:
(width, height).</p></li>
<li><p><strong>extent</strong> – The extent to cover, as a 4-tuple:
(x0, y0, x1, y2).</p></li>
<li><p><strong>quality</strong> – Quality.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.effect_noise">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">effect_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#effect_noise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.effect_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Gaussian noise centered around 128.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – The requested size in pixels, as a 2-tuple:
(width, height).</p></li>
<li><p><strong>sigma</strong> – Standard deviation of noise.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.linear_gradient">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">linear_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#linear_gradient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.linear_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 256x256 linear gradient from black to white, top to bottom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> – Input mode.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.radial_gradient">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">radial_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#radial_gradient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.radial_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 256x256 radial gradient from black to white, centre to edge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> – Input mode.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="registering-plugins">
<h5>Registering plugins<a class="headerlink" href="#registering-plugins" title="Permalink to this headline">¶</a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These functions are for use by plugin authors. Application authors can
ignore them.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_open">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an image file plugin.  This function should not be used
in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>factory</strong> – An image file factory method.</p></li>
<li><p><strong>accept</strong> – An optional function that can be used to quickly
reject images having another format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_mime">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_mime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mimetype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_mime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_mime" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image MIME type.  This function should not be used
in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>mimetype</strong> – The image MIME type for this format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_save">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">driver</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image save function.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>driver</strong> – A function to save images in this format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_save_all">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_save_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">driver</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_save_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_save_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image function to save all the frames
of a multiframe format.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>driver</strong> – A function to save images in this format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_extension">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_extension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image extension.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>extension</strong> – An extension used for this format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_extensions">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_extensions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extensions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_extensions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers image extensions.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – An image format identifier.</p></li>
<li><p><strong>extensions</strong> – A list of extensions used for this format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.registered_extensions">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">registered_extensions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#registered_extensions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.registered_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing all file extensions belonging
to registered plugins</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_decoder">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_decoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_decoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image decoder.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the decoder</p></li>
<li><p><strong>decoder</strong> – A callable(mode, args) that returns an
ImageFile.PyDecoder object</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.1.0.</span></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Image.register_encoder">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">register_encoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#register_encoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.register_encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an image encoder.  This function should not be
used in application code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the encoder</p></li>
<li><p><strong>encoder</strong> – A callable(mode, args) that returns an
ImageFile.PyEncoder object</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.1.0.</span></p>
</div>
</dd></dl>

</section>
</section>
<section id="the-image-class">
<h4>The Image Class<a class="headerlink" href="#the-image-class" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.Image.Image">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">Image</span></span><a class="reference internal" href="_modules/PIL/Image.html#Image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents an image object.  To create
<a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> objects, use the appropriate factory
functions.  There’s hardly ever any reason to call the Image constructor
directly.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a></p></li>
<li><p><a class="reference internal" href="#PIL.Image.new" title="PIL.Image.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a></p></li>
<li><p><a class="reference internal" href="#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">frombytes()</span></code></a></p></li>
</ul>
</dd></dl>

<p>An instance of the <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class has the following
methods. Unless otherwise stated, all methods return a new instance of the
<a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class, holding the resulting image.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.alpha_composite">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">alpha_composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.alpha_composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.alpha_composite" title="Permalink to this definition">¶</a></dt>
<dd><p>‘In-place’ analog of Image.alpha_composite. Composites an image
onto this image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – image to composite over this one</p></li>
<li><p><strong>dest</strong> – Optional 2 tuple (left, top) specifying the upper
left corner in this (destination) image.</p></li>
<li><p><strong>source</strong> – Optional 2 (left, top) tuple for the upper left
corner in the overlay source image, or 4 tuple (left, top, right,
bottom) for the bounds of the source rectangle</p></li>
</ul>
</dd>
</dl>
<p>Performance Note: Not currently implemented in-place in the core layer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.convert">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dither</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a converted copy of this image. For the “P” mode, this
method translates pixels through the palette.  If mode is
omitted, a mode is chosen so that all information in the image
and the palette can be represented without a palette.</p>
<p>The current version supports all possible conversions between
“L”, “RGB” and “CMYK.” The <code class="docutils literal notranslate"><span class="pre">matrix</span></code> argument only supports “L”
and “RGB”.</p>
<p>When translating a color image to greyscale (mode “L”),
the library uses the ITU-R 601-2 luma transform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="n">R</span> <span class="o">*</span> <span class="mi">299</span><span class="o">/</span><span class="mi">1000</span> <span class="o">+</span> <span class="n">G</span> <span class="o">*</span> <span class="mi">587</span><span class="o">/</span><span class="mi">1000</span> <span class="o">+</span> <span class="n">B</span> <span class="o">*</span> <span class="mi">114</span><span class="o">/</span><span class="mi">1000</span>
</pre></div>
</div>
<p>The default method of converting a greyscale (“L”) or “RGB”
image into a bilevel (mode “1”) image uses Floyd-Steinberg
dither to approximate the original image luminosity levels. If
dither is <a class="reference internal" href="#PIL.Image.NONE" title="PIL.Image.NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">NONE</span></code></a>, all values larger than 127 are set to 255 (white),
all other values to 0 (black). To use other thresholds, use the
<a class="reference internal" href="#PIL.Image.Image.point" title="PIL.Image.Image.point"><code class="xref py py-meth docutils literal notranslate"><span class="pre">point()</span></code></a> method.</p>
<p>When converting from “RGBA” to “P” without a <code class="docutils literal notranslate"><span class="pre">matrix</span></code> argument,
this passes the operation to <a class="reference internal" href="#PIL.Image.Image.quantize" title="PIL.Image.Image.quantize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">quantize()</span></code></a>,
and <code class="docutils literal notranslate"><span class="pre">dither</span></code> and <code class="docutils literal notranslate"><span class="pre">palette</span></code> are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The requested mode. See: <a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>.</p></li>
<li><p><strong>matrix</strong> – An optional conversion matrix.  If given, this
should be 4- or 12-tuple containing floating point values.</p></li>
<li><p><strong>dither</strong> – Dithering method, used when converting from
mode “RGB” to “P” or from “RGB” or “L” to “1”.
Available methods are <a class="reference internal" href="#PIL.Image.NONE" title="PIL.Image.NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">NONE</span></code></a> or <a class="reference internal" href="#PIL.Image.FLOYDSTEINBERG" title="PIL.Image.FLOYDSTEINBERG"><code class="xref py py-data docutils literal notranslate"><span class="pre">FLOYDSTEINBERG</span></code></a> (default).
Note that this is not used when <code class="docutils literal notranslate"><span class="pre">matrix</span></code> is supplied.</p></li>
<li><p><strong>palette</strong> – Palette to use when converting from mode “RGB”
to “P”.  Available palettes are <a class="reference internal" href="#PIL.Image.WEB" title="PIL.Image.WEB"><code class="xref py py-data docutils literal notranslate"><span class="pre">WEB</span></code></a> or <a class="reference internal" href="#PIL.Image.ADAPTIVE" title="PIL.Image.ADAPTIVE"><code class="xref py py-data docutils literal notranslate"><span class="pre">ADAPTIVE</span></code></a>.</p></li>
<li><p><strong>colors</strong> – Number of colors to use for the <a class="reference internal" href="#PIL.Image.ADAPTIVE" title="PIL.Image.ADAPTIVE"><code class="xref py py-data docutils literal notranslate"><span class="pre">ADAPTIVE</span></code></a> palette.
Defaults to 256.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<p>The following example converts an RGB image (linearly calibrated according to
ITU-R 709, using the D65 luminant) to the CIE XYZ color space:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rgb2xyz</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mf">0.412453</span><span class="p">,</span> <span class="mf">0.357580</span><span class="p">,</span> <span class="mf">0.180423</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.212671</span><span class="p">,</span> <span class="mf">0.715160</span><span class="p">,</span> <span class="mf">0.072169</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.019334</span><span class="p">,</span> <span class="mf">0.119193</span><span class="p">,</span> <span class="mf">0.950227</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="n">rgb2xyz</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.copy">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies this image. Use this method if you wish to paste things
into an image, but still retain the original.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.crop">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a rectangular region from this image. The box is a
4-tuple defining the left, upper, right, and lower pixel
coordinate. See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
<p>Note: Prior to Pillow 3.4.0, this was a lazy operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>box</strong> – The crop rectangle, as a (left, upper, right, lower)-tuple.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<p>This crops the input image with the provided coordinates:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="c1"># The crop method from the Image module takes four coordinates as input.</span>
    <span class="c1"># The right can also be represented as (left+width)</span>
    <span class="c1"># and lower can be represented as (upper+height).</span>
    <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">lower</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

    <span class="c1"># Here the image &quot;im&quot; is cropped and assigned to new variable im_crop</span>
    <span class="n">im_crop</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">upper</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">lower</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.draft">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">draft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.draft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.draft" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the image file loader so it returns a version of the
image that as closely as possible matches the given mode and
size. For example, you can use this method to convert a color
JPEG to greyscale while loading it.</p>
<p>If any changes are made, returns a tuple with the chosen <code class="docutils literal notranslate"><span class="pre">mode</span></code> and
<code class="docutils literal notranslate"><span class="pre">box</span></code> with coordinates of the original image within the altered one.</p>
<p>Note that this method modifies the <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object
in place. If the image has already been loaded, this method has no
effect.</p>
<p>Note: This method is not implemented for most images. It is
currently implemented only for JPEG and MPO images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The requested mode.</p></li>
<li><p><strong>size</strong> – The requested size.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.effect_spread">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">effect_spread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.effect_spread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.effect_spread" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly spread pixels in an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>distance</strong> – Distance to spread pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.entropy">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">entropy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.entropy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.entropy" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates and returns the entropy for the image.</p>
<p>A bilevel image (mode “1”) is treated as a greyscale (“L”)
image by this method.</p>
<p>If a mask is provided, the method employs the histogram for
those parts of the image where the mask image is non-zero.
The mask image must have the same size as the image, and be
either a bi-level image (mode “1”) or a greyscale image (“L”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> – An optional mask.</p></li>
<li><p><strong>extrema</strong> – An optional tuple of manually-specified extrema.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A float value representing the image entropy</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.filter">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters this image using the given filter.  For a list of
available filters, see the <a class="reference internal" href="index.html#module-PIL.ImageFilter" title="PIL.ImageFilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFilter</span></code></a> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filter</strong> – Filter kernel.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<p>This blurs the input image using a filter from the <code class="docutils literal notranslate"><span class="pre">ImageFilter</span></code> module:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageFilter</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="c1"># Blur the input image using the filter ImageFilter.BLUR</span>
    <span class="n">im_blurred</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">BLUR</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.frombytes">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">frombytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.frombytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.frombytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads this image with pixel data from a bytes object.</p>
<p>This method is similar to the <a class="reference internal" href="#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">frombytes()</span></code></a> function,
but loads data into this image instead of creating a new image object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getbands">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getbands</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getbands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getbands" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the name of each band in this image.
For example, <code class="docutils literal notranslate"><span class="pre">getbands</span></code> on an RGB image returns (“R”, “G”, “B”).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing band names.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<p>This helps to get the bands of the input image:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">getbands</span><span class="p">())</span>  <span class="c1"># Returns (&#39;R&#39;, &#39;G&#39;, &#39;B&#39;)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getbbox">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getbbox</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getbbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getbbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the bounding box of the non-zero regions in the
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The bounding box is returned as a 4-tuple defining the
left, upper, right, and lower pixel coordinate. See
<a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>. If the image is completely empty, this
method returns None.</p>
</dd>
</dl>
</dd></dl>

<p>This helps to get the bounding box coordinates of the input image:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">getbbox</span><span class="p">())</span>
    <span class="c1"># Returns four coordinates in the format (left, upper, right, lower)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getchannel">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getchannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getchannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getchannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an image containing a single channel of the source image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>channel</strong> – What channel to return. Could be index
(0 for “R” channel of “RGB”) or channel name
(“A” for alpha channel of “RGBA”).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image in “L” mode.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.3.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getcolors">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getcolors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxcolors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getcolors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getcolors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of colors used in this image.</p>
<p>The colors will be in the image’s mode. For example, an RGB image will
return a tuple of (red, green, blue) color values, and a P image will
return the index of the color in the palette.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>maxcolors</strong> – Maximum number of colors.  If this number is
exceeded, this method returns None.  The default limit is
256 colors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An unsorted list of (count, pixel) values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getdata">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contents of this image as a sequence object
containing pixel values.  The sequence object is flattened, so
that values for line one follow directly after the values of
line zero, and so on.</p>
<p>Note that the sequence object returned by this method is an
internal PIL data type, which only supports certain sequence
operations.  To convert it to an ordinary sequence (e.g. for
printing), use <code class="docutils literal notranslate"><span class="pre">list(im.getdata())</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>band</strong> – What band to return.  The default is to return
all bands.  To return a single band, pass in the index
value (e.g. 0 to get the “R” band from an “RGB” image).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sequence-like object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getexif">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getexif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getexif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getexif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getextrema">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getextrema</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getextrema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getextrema" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the the minimum and maximum pixel values for each band in
the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>For a single-band image, a 2-tuple containing the
minimum and maximum pixel value.  For a multi-band image,
a tuple containing one 2-tuple for each band.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getpalette">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getpalette</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getpalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getpalette" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the image palette as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of color values [r, g, b, …], or None if the
image has no palette.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getpixel">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getpixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getpixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getpixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixel value at a given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xy</strong> – The coordinate, given as (x, y). See
<a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The pixel value.  If the image is a multi-layer image,
this method returns a tuple.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.getprojection">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">getprojection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.getprojection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.getprojection" title="Permalink to this definition">¶</a></dt>
<dd><p>Get projection to x and y axes</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Two sequences, indicating where there are non-zero
pixels along the X-axis and the Y-axis, respectively.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.histogram">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.histogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a histogram for the image. The histogram is returned as
a list of pixel counts, one for each pixel value in the source
image. If the image has more than one band, the histograms for
all bands are concatenated (for example, the histogram for an
“RGB” image contains 768 values).</p>
<p>A bilevel image (mode “1”) is treated as a greyscale (“L”) image
by this method.</p>
<p>If a mask is provided, the method returns a histogram for those
parts of the image where the mask image is non-zero. The mask
image must have the same size as the image, and be either a
bi-level image (mode “1”) or a greyscale image (“L”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> – An optional mask.</p></li>
<li><p><strong>extrema</strong> – An optional tuple of manually-specified extrema.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list containing pixel counts.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.paste">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">paste</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.paste" title="Permalink to this definition">¶</a></dt>
<dd><p>Pastes another image into this image. The box argument is either
a 2-tuple giving the upper left corner, a 4-tuple defining the
left, upper, right, and lower pixel coordinate, or None (same as
(0, 0)). See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>. If a 4-tuple is given, the size
of the pasted image must match the size of the region.</p>
<p>If the modes don’t match, the pasted image is converted to the mode of
this image (see the <a class="reference internal" href="#PIL.Image.Image.convert" title="PIL.Image.Image.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert()</span></code></a> method for
details).</p>
<p>Instead of an image, the source can be a integer or tuple
containing pixel values.  The method then fills the region
with the given color.  When creating RGB images, you can
also use color strings as supported by the ImageColor module.</p>
<p>If a mask is given, this method updates only the regions
indicated by the mask.  You can use either “1”, “L” or “RGBA”
images (in the latter case, the alpha band is used as mask).
Where the mask is 255, the given image is copied as is.  Where
the mask is 0, the current value is preserved.  Intermediate
values will mix the two images together, including their alpha
channels if they have them.</p>
<p>See <a class="reference internal" href="#PIL.Image.Image.alpha_composite" title="PIL.Image.Image.alpha_composite"><code class="xref py py-meth docutils literal notranslate"><span class="pre">alpha_composite()</span></code></a> if you want to
combine images with respect to their alpha channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – Source image or pixel value (integer or tuple).</p></li>
<li><p><strong>box</strong> – <p>An optional 4-tuple giving the region to paste into.
If a 2-tuple is used instead, it’s treated as the upper left
corner.  If omitted or None, the source is pasted into the
upper left corner.</p>
<p>If an image is given as the second argument and there is no
third, the box defaults to (0, 0), and the second argument
is interpreted as a mask image.</p>
</p></li>
<li><p><strong>mask</strong> – An optional mask image.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.point">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps this image through a lookup table or function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lut</strong> – <p>A lookup table, containing 256 (or 65536 if
self.mode==”I” and mode == “L”) values per band in the
image.  A function can be used instead, it should take a
single argument. The function is called once for each
possible pixel value, and the resulting table is applied to
all bands of the image.</p>
<p>It may also be an <a class="reference internal" href="#PIL.Image.ImagePointHandler" title="PIL.Image.ImagePointHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImagePointHandler</span></code></a>
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ImagePointHandler</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="c1"># Return result</span>
</pre></div>
</div>
</p></li>
<li><p><strong>mode</strong> – Output mode (default is same as input).  In the
current version, this can only be used if the source image
has mode “L” or “P”, and the output has mode “1” or the
source image mode is “I” and the output mode is “L”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.putalpha">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">putalpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.putalpha"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.putalpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds or replaces the alpha layer in this image.  If the image
does not have an alpha layer, it’s converted to “LA” or “RGBA”.
The new layer must be either “L” or “1”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alpha</strong> – The new alpha layer.  This can either be an “L” or “1”
image having the same size as this image, or an integer or
other color value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.putdata">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">putdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.putdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.putdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies pixel data to this image.  This method copies data from a
sequence object into the image, starting at the upper left
corner (0, 0), and continuing until either the image or the
sequence ends.  The scale and offset values are used to adjust
the sequence values: <strong>pixel = value*scale + offset</strong>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – A sequence object.</p></li>
<li><p><strong>scale</strong> – An optional scale value.  The default is 1.0.</p></li>
<li><p><strong>offset</strong> – An optional offset value.  The default is 0.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.putpalette">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">putpalette</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rawmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RGB'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.putpalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.putpalette" title="Permalink to this definition">¶</a></dt>
<dd><p>Attaches a palette to this image.  The image must be a “P”, “PA”, “L”
or “LA” image.</p>
<p>The palette sequence must contain at most 768 integer values, or 1024
integer values if alpha is included. Each group of values represents
the red, green, blue (and alpha if included) values for the
corresponding pixel index. Instead of an integer sequence, you can use
an 8-bit string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – A palette sequence (either a list or a string).</p></li>
<li><p><strong>rawmode</strong> – The raw mode of the palette.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.putpixel">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">putpixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.putpixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.putpixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the pixel at the given position. The color is given as
a single numerical value for single-band images, and a tuple for
multi-band images. In addition to this, RGB and RGBA tuples are
accepted for P images.</p>
<p>Note that this method is relatively slow.  For more extensive changes,
use <a class="reference internal" href="#PIL.Image.Image.paste" title="PIL.Image.Image.paste"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paste()</span></code></a> or the <a class="reference internal" href="index.html#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a>
module instead.</p>
<p>See:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#PIL.Image.Image.paste" title="PIL.Image.Image.paste"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paste()</span></code></a></p></li>
<li><p><a class="reference internal" href="#PIL.Image.Image.putdata" title="PIL.Image.Image.putdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">putdata()</span></code></a></p></li>
<li><p><a class="reference internal" href="index.html#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The pixel coordinate, given as (x, y). See
<a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p></li>
<li><p><strong>value</strong> – The pixel value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.quantize">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">quantize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kmeans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dither</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.quantize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.quantize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the image to ‘P’ mode with the specified number
of colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colors</strong> – The desired number of colors, &lt;= 256</p></li>
<li><p><strong>method</strong> – <p><a class="reference internal" href="#PIL.Image.MEDIANCUT" title="PIL.Image.MEDIANCUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">MEDIANCUT</span></code></a> (median cut),
<a class="reference internal" href="#PIL.Image.MAXCOVERAGE" title="PIL.Image.MAXCOVERAGE"><code class="xref py py-data docutils literal notranslate"><span class="pre">MAXCOVERAGE</span></code></a> (maximum coverage),
<a class="reference internal" href="#PIL.Image.FASTOCTREE" title="PIL.Image.FASTOCTREE"><code class="xref py py-data docutils literal notranslate"><span class="pre">FASTOCTREE</span></code></a> (fast octree),
<a class="reference internal" href="#PIL.Image.LIBIMAGEQUANT" title="PIL.Image.LIBIMAGEQUANT"><code class="xref py py-data docutils literal notranslate"><span class="pre">LIBIMAGEQUANT</span></code></a> (libimagequant; check support using
<a class="reference internal" href="index.html#PIL.features.check_feature" title="PIL.features.check_feature"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.check_feature()</span></code></a>
with <code class="docutils literal notranslate"><span class="pre">feature=&quot;libimagequant&quot;</span></code>).</p>
<p>By default, <a class="reference internal" href="#PIL.Image.MEDIANCUT" title="PIL.Image.MEDIANCUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">MEDIANCUT</span></code></a> will be used.</p>
<p>The exception to this is RGBA images. <a class="reference internal" href="#PIL.Image.MEDIANCUT" title="PIL.Image.MEDIANCUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">MEDIANCUT</span></code></a> and
<a class="reference internal" href="#PIL.Image.MAXCOVERAGE" title="PIL.Image.MAXCOVERAGE"><code class="xref py py-data docutils literal notranslate"><span class="pre">MAXCOVERAGE</span></code></a> do not support RGBA images, so
<a class="reference internal" href="#PIL.Image.FASTOCTREE" title="PIL.Image.FASTOCTREE"><code class="xref py py-data docutils literal notranslate"><span class="pre">FASTOCTREE</span></code></a> is used by default instead.</p>
</p></li>
<li><p><strong>kmeans</strong> – Integer</p></li>
<li><p><strong>palette</strong> – Quantize to the palette of given
<a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code></a>.</p></li>
<li><p><strong>dither</strong> – Dithering method, used when converting from
mode “RGB” to “P” or from “RGB” or “L” to “1”.
Available methods are <a class="reference internal" href="#PIL.Image.NONE" title="PIL.Image.NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">NONE</span></code></a> or <a class="reference internal" href="#PIL.Image.FLOYDSTEINBERG" title="PIL.Image.FLOYDSTEINBERG"><code class="xref py py-data docutils literal notranslate"><span class="pre">FLOYDSTEINBERG</span></code></a> (default).
Default: 1 (legacy setting)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.reduce">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.reduce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the image reduced <code class="docutils literal notranslate"><span class="pre">factor</span></code> times.
If the size of the image is not dividable by <code class="docutils literal notranslate"><span class="pre">factor</span></code>,
the resulting size will be rounded up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>factor</strong> – A greater than 0 integer or tuple of two integers
for width and height separately.</p></li>
<li><p><strong>box</strong> – An optional 4-tuple of ints providing
the source image region to be reduced.
The values must be within <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">width,</span> <span class="pre">height)</span></code> rectangle.
If omitted or <code class="docutils literal notranslate"><span class="pre">None</span></code>, the entire source is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.remap_palette">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">remap_palette</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.remap_palette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.remap_palette" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrites the image to reorder the palette.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest_map</strong> – A list of indexes into the original palette.
e.g. <code class="docutils literal notranslate"><span class="pre">[1,0]</span></code> would swap a two item palette, and <code class="docutils literal notranslate"><span class="pre">list(range(256))</span></code>
is the identity transform.</p></li>
<li><p><strong>source_palette</strong> – Bytes or None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.resize">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reducing_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.resize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a resized copy of this image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – The requested size in pixels, as a 2-tuple:
(width, height).</p></li>
<li><p><strong>resample</strong> – An optional resampling filter.  This can be
one of <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.BOX" title="PIL.Image.BOX"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BOX</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BILINEAR</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.HAMMING" title="PIL.Image.HAMMING"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.HAMMING</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a> or <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.LANCZOS</span></code></a>.
If the image has mode “1” or “P”, it is always set to
<a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>.
If the image mode specifies a number of bits, such as “I;16”, then the
default filter is <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>.
Otherwise, the default filter is <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>.
See: <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>box</strong> – An optional 4-tuple of floats providing
the source image region to be scaled.
The values must be within (0, 0, width, height) rectangle.
If omitted or None, the entire source is used.</p></li>
<li><p><strong>reducing_gap</strong> – Apply optimization by resizing the image
in two steps. First, reducing the image by integer times
using <a class="reference internal" href="#PIL.Image.Image.reduce" title="PIL.Image.Image.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce()</span></code></a>.
Second, resizing using regular resampling. The last step
changes size no less than by <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> times.
<code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> may be None (no first step is performed)
or should be greater than 1.0. The bigger <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>,
the closer the result to the fair resampling.
The smaller <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>, the faster resizing.
With <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> greater or equal to 3.0, the result is
indistinguishable from fair resampling in most cases.
The default value is None (no optimization).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<p>This resizes the given image from <code class="docutils literal notranslate"><span class="pre">(width,</span> <span class="pre">height)</span></code> to <code class="docutils literal notranslate"><span class="pre">(width/2,</span> <span class="pre">height/2)</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="c1"># Provide the target width and height of the image</span>
    <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">im_resized</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.rotate">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a rotated copy of this image.  This method returns a
copy of this image, rotated the given number of degrees counter
clockwise around its centre.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> – In degrees counter clockwise.</p></li>
<li><p><strong>resample</strong> – An optional resampling filter.  This can be
one of <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a> (use nearest neighbour),
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BILINEAR</span></code></a> (linear interpolation in a 2x2
environment), or <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>
(cubic spline interpolation in a 4x4 environment).
If omitted, or if the image has mode “1” or “P”, it is
set to <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>. See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>expand</strong> – Optional expansion flag.  If true, expands the output
image to make it large enough to hold the entire rotated image.
If false or omitted, make the output image the same size as the
input image.  Note that the expand flag assumes rotation around
the center and no translation.</p></li>
<li><p><strong>center</strong> – Optional center of rotation (a 2-tuple).  Origin is
the upper left corner.  Default is the center of the image.</p></li>
<li><p><strong>translate</strong> – An optional post-rotate translation (a 2-tuple).</p></li>
<li><p><strong>fillcolor</strong> – An optional color for area outside the rotated image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<p>This rotates the input image by <code class="docutils literal notranslate"><span class="pre">theta</span></code> degrees counter clockwise:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="c1"># Rotate the image by 60 degrees counter clockwise</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="c1"># Angle is in degrees counter clockwise</span>
    <span class="n">im_rotated</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="n">theta</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.save">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves this image under the given filename.  If no format is
specified, the format to use is determined from the filename
extension, if possible.</p>
<p>Keyword options can be used to provide additional instructions
to the writer. If a writer doesn’t recognise an option, it is
silently ignored. The available options are described in the
<a class="reference internal" href="index.html#document-handbook/image-file-formats"><span class="doc">image format documentation</span></a> for each writer.</p>
<p>You can use a file object instead of a filename. In this case,
you must always specify the format. The file object must
implement the <code class="docutils literal notranslate"><span class="pre">seek</span></code>, <code class="docutils literal notranslate"><span class="pre">tell</span></code>, and <code class="docutils literal notranslate"><span class="pre">write</span></code>
methods, and be opened in binary mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fp</strong> – A filename (string), pathlib.Path object or file object.</p></li>
<li><p><strong>format</strong> – Optional format override.  If omitted, the
format to use is determined from the filename extension.
If a file object was used instead of a filename, this
parameter should always be used.</p></li>
<li><p><strong>params</strong> – Extra parameters to the image writer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the output format could not be determined
from the file name.  Use the format option to solve this.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the file could not be written.  The file
may have been created, and may contain partial data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.seek">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.show">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays this image. This method is mainly intended for debugging purposes.</p>
<p>This method calls <a class="reference internal" href="index.html#PIL.ImageShow.show" title="PIL.ImageShow.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.ImageShow.show()</span></code></a> internally. You can use
<a class="reference internal" href="index.html#PIL.ImageShow.register" title="PIL.ImageShow.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.ImageShow.register()</span></code></a> to override its default behaviour.</p>
<p>The image is first saved to a temporary file. By default, it will be in
PNG format.</p>
<p>On Unix, the image is then opened using the <strong>display</strong>, <strong>eog</strong> or
<strong>xv</strong> utility, depending on which one can be found.</p>
<p>On macOS, the image is opened with the native Preview application.</p>
<p>On Windows, the image is opened with the standard PNG display utility.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> – Optional title to use for the image window, where possible.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.split">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split this image into individual bands. This method returns a
tuple of individual image bands from an image. For example,
splitting an “RGB” image creates three new images each
containing a copy of one of the original bands (red, green,
blue).</p>
<p>If you need only one band, <a class="reference internal" href="#PIL.Image.Image.getchannel" title="PIL.Image.Image.getchannel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getchannel()</span></code></a>
method can be more convenient and faster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing bands.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.tell">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.thumbnail">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">thumbnail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reducing_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.thumbnail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.thumbnail" title="Permalink to this definition">¶</a></dt>
<dd><p>Make this image into a thumbnail.  This method modifies the
image to contain a thumbnail version of itself, no larger than
the given size.  This method calculates an appropriate thumbnail
size to preserve the aspect of the image, calls the
<a class="reference internal" href="#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> method to configure the file reader
(where applicable), and finally resizes the image.</p>
<p>Note that this function modifies the <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>
object in place.  If you need to use the full resolution image as well,
apply this method to a <a class="reference internal" href="#PIL.Image.Image.copy" title="PIL.Image.Image.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy()</span></code></a> of the original
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – Requested size.</p></li>
<li><p><strong>resample</strong> – Optional resampling filter.  This can be one
of <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.BOX" title="PIL.Image.BOX"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BOX</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BILINEAR</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.HAMMING" title="PIL.Image.HAMMING"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.HAMMING</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a> or <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.LANCZOS</span></code></a>.
If omitted, it defaults to <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>.
(was <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a> prior to version 2.5.0).
See: <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>reducing_gap</strong> – Apply optimization by resizing the image
in two steps. First, reducing the image by integer times
using <a class="reference internal" href="#PIL.Image.Image.reduce" title="PIL.Image.Image.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce()</span></code></a> or
<a class="reference internal" href="#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> for JPEG images.
Second, resizing using regular resampling. The last step
changes size no less than by <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> times.
<code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> may be None (no first step is performed)
or should be greater than 1.0. The bigger <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>,
the closer the result to the fair resampling.
The smaller <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>, the faster resizing.
With <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> greater or equal to 3.0, the result is
indistinguishable from fair resampling in most cases.
The default value is 2.0 (very close to fair resampling
while still being faster in many cases).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.tobitmap">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">tobitmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'image'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.tobitmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.tobitmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the image converted to an X11 bitmap.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method only works for mode “1” images.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – The name prefix to use for the bitmap variables.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing an X11 bitmap.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the mode is not “1”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.tobytes">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoder_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.tobytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.tobytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return image as a bytes object.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method returns the raw image data from the internal
storage.  For compressed image data (e.g. PNG, JPEG) use
<a class="reference internal" href="#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>, with a BytesIO parameter for in-memory
data.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>encoder_name</strong> – What encoder to use.  The default is to
use the standard “raw” encoder.</p></li>
<li><p><strong>args</strong> – Extra arguments to the encoder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.transform">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms this image.  This method creates a new image with the
given size, and the same mode as the original, and copies data
to the new image using the given transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – The output size.</p></li>
<li><p><strong>method</strong> – <p>The transformation method.  This is one of
<a class="reference internal" href="#PIL.Image.EXTENT" title="PIL.Image.EXTENT"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.EXTENT</span></code></a> (cut out a rectangular subregion),
<a class="reference internal" href="#PIL.Image.AFFINE" title="PIL.Image.AFFINE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.AFFINE</span></code></a> (affine transform),
<a class="reference internal" href="#PIL.Image.PERSPECTIVE" title="PIL.Image.PERSPECTIVE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.PERSPECTIVE</span></code></a> (perspective transform),
<a class="reference internal" href="#PIL.Image.QUAD" title="PIL.Image.QUAD"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.QUAD</span></code></a> (map a quadrilateral to a rectangle), or
<a class="reference internal" href="#PIL.Image.MESH" title="PIL.Image.MESH"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.MESH</span></code></a> (map a number of source quadrilaterals
in one operation).</p>
<p>It may also be an <a class="reference internal" href="#PIL.Image.ImageTransformHandler" title="PIL.Image.ImageTransformHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageTransformHandler</span></code></a>
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">ImageTransformHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">resample</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># Return result</span>
</pre></div>
</div>
<p>It may also be an object with a <code class="docutils literal notranslate"><span class="pre">method.getdata</span></code> method
that returns a tuple supplying new <code class="docutils literal notranslate"><span class="pre">method</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code> values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">getdata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">EXTENT</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">method</span><span class="p">,</span> <span class="n">data</span>
</pre></div>
</div>
</p></li>
<li><p><strong>data</strong> – Extra data to the transformation method.</p></li>
<li><p><strong>resample</strong> – Optional resampling filter.  It can be one of
<a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a> (use nearest neighbour),
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BILINEAR</span></code></a> (linear interpolation in a 2x2
environment), or <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a> (cubic spline
interpolation in a 4x4 environment). If omitted, or if the image
has mode “1” or “P”, it is set to <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>.
See: <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>fill</strong> – If <code class="docutils literal notranslate"><span class="pre">method</span></code> is an
<a class="reference internal" href="#PIL.Image.ImageTransformHandler" title="PIL.Image.ImageTransformHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageTransformHandler</span></code></a> object, this is one of
the arguments passed to it. Otherwise, it is unused.</p></li>
<li><p><strong>fillcolor</strong> – Optional fill color for the area outside the
transform in the output image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.transpose">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose image (flip or rotate in 90 degree steps)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>method</strong> – One of <a class="reference internal" href="#PIL.Image.FLIP_LEFT_RIGHT" title="PIL.Image.FLIP_LEFT_RIGHT"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.FLIP_LEFT_RIGHT</span></code></a>,
<a class="reference internal" href="#PIL.Image.FLIP_TOP_BOTTOM" title="PIL.Image.FLIP_TOP_BOTTOM"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.FLIP_TOP_BOTTOM</span></code></a>, <a class="reference internal" href="#PIL.Image.ROTATE_90" title="PIL.Image.ROTATE_90"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.ROTATE_90</span></code></a>,
<a class="reference internal" href="#PIL.Image.ROTATE_180" title="PIL.Image.ROTATE_180"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.ROTATE_180</span></code></a>, <a class="reference internal" href="#PIL.Image.ROTATE_270" title="PIL.Image.ROTATE_270"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.ROTATE_270</span></code></a>,
<a class="reference internal" href="#PIL.Image.TRANSPOSE" title="PIL.Image.TRANSPOSE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.TRANSPOSE</span></code></a> or <a class="reference internal" href="#PIL.Image.TRANSVERSE" title="PIL.Image.TRANSVERSE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.TRANSVERSE</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a flipped or rotated copy of this image.</p>
</dd>
</dl>
</dd></dl>

<p>This flips the input image by using the <a class="reference internal" href="#PIL.Image.FLIP_LEFT_RIGHT" title="PIL.Image.FLIP_LEFT_RIGHT"><code class="xref py py-data docutils literal notranslate"><span class="pre">FLIP_LEFT_RIGHT</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="c1"># Flip the image from left to right</span>
    <span class="n">im_flipped</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_LEFT_RIGHT</span><span class="p">)</span>
    <span class="c1"># To flip the image from top to bottom,</span>
    <span class="c1"># use the method &quot;Image.FLIP_TOP_BOTTOM&quot;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.verify">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the contents of a file. For data read from a file, this
method attempts to determine if the file is broken, without
actually decoding the image data.  If this method finds any
problems, it raises suitable exceptions.  If you need to load
the image after using this method, you must reopen the image
file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.load">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates storage for the image and loads the pixel data.  In
normal cases, you don’t need to call this method, since the
Image class automatically loads an opened image when it is
accessed for the first time.</p>
<p>If the file associated with the image was opened by Pillow, then this
method will close it. The exception to this is if the image has
multiple frames, in which case the file will be left open for seek
operations. See <a class="reference internal" href="index.html#file-handling"><span class="std std-ref">File Handling in Pillow</span></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An image access object.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="index.html#pixelaccess"><span class="std std-ref">PixelAccess Class</span></a> or <a class="reference internal" href="index.html#module-PIL.PyAccess" title="PIL.PyAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.PyAccess</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Image.close">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Image.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Image.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the file pointer, if possible.</p>
<p>This operation will destroy the image core and release its memory.
The image data will be unusable afterward.</p>
<p>This function is required to close images that have multiple frames or
have not had their file read and closed by the
<a class="reference internal" href="#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> method. See <a class="reference internal" href="index.html#file-handling"><span class="std std-ref">File Handling in Pillow</span></a> for
more information.</p>
</dd></dl>

</section>
<section id="image-attributes">
<h4>Image Attributes<a class="headerlink" href="#image-attributes" title="Permalink to this headline">¶</a></h4>
<p>Instances of the <a class="reference internal" href="#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> class have the following attributes:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.filename">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">filename</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.Image.Image.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename or path of the source file. Only images created with the
factory function <code class="docutils literal notranslate"><span class="pre">open</span></code> have a filename attribute. If the input is a
file like object, the filename attribute is set to an empty string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.format">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">format</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.Image.Image.format" title="Permalink to this definition">¶</a></dt>
<dd><p>The file format of the source file. For images created by the library
itself (via a factory function, or by running a method on an existing
image), this attribute is set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.mode">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.Image.Image.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Image mode. This is a string specifying the pixel format used by the image.
Typical values are “1”, “L”, “RGB”, or “CMYK.” See
<a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a> for a full list.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.size">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.Image.Image.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Image size, in pixels. The size is given as a 2-tuple (width, height).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.width">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.Image.Image.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Image width, in pixels.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.height">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.Image.Image.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Image height, in pixels.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.palette">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">palette</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="index.html#PIL.ImagePalette.ImagePalette" title="PIL.ImagePalette.ImagePalette"><span class="pre">PIL.ImagePalette.ImagePalette</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.Image.Image.palette" title="Permalink to this definition">¶</a></dt>
<dd><p>Colour palette table, if any. If mode is “P” or “PA”, this should be an
instance of the <a class="reference internal" href="index.html#PIL.ImagePalette.ImagePalette" title="PIL.ImagePalette.ImagePalette"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImagePalette</span></code></a> class.
Otherwise, it should be set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.info">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">info</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.Image.Image.info" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary holding data associated with the image. This dictionary is
used by file handlers to pass on various non-image information read from
the file. See documentation for the various file handlers for details.</p>
<p>Most methods ignore the dictionary when returning new images; since the
keys are not standardized, it’s not possible for a method to know if the
operation affects the dictionary. If you need the information later on,
keep a reference to the info dictionary returned from the open method.</p>
<p>Unless noted elsewhere, this dictionary does not affect saving files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.is_animated">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">is_animated</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></em><a class="headerlink" href="#PIL.Image.Image.is_animated" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if this image has more than one frame, or <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<p>This attribute is only defined by image plugins that support animated images.
Plugins may leave this attribute undefined if they don’t support loading
animated images, even if the given format supports animated images.</p>
<p>Given that this attribute is not present for all images use
<code class="docutils literal notranslate"><span class="pre">getattr(image,</span> <span class="pre">&quot;is_animated&quot;,</span> <span class="pre">False)</span></code> to check if Pillow is aware of multiple
frames in an image regardless of its format.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a>, <a class="reference internal" href="#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-func docutils literal notranslate"><span class="pre">seek()</span></code></a> and <a class="reference internal" href="#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-func docutils literal notranslate"><span class="pre">tell()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Image.n_frames">
<span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">n_frames</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.Image.Image.n_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of frames in this image.</p>
<p>This attribute is only defined by image plugins that support animated images.
Plugins may leave this attribute undefined if they don’t support loading
animated images, even if the given format supports animated images.</p>
<p>Given that this attribute is not present for all images use
<code class="docutils literal notranslate"><span class="pre">getattr(image,</span> <span class="pre">&quot;n_frames&quot;,</span> <span class="pre">1)</span></code> to check the number of frames that Pillow is
aware of in an image regardless of its format.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#PIL.Image.Image.is_animated" title="PIL.Image.Image.is_animated"><code class="xref py py-attr docutils literal notranslate"><span class="pre">is_animated</span></code></a>, <a class="reference internal" href="#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-func docutils literal notranslate"><span class="pre">seek()</span></code></a> and <a class="reference internal" href="#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-func docutils literal notranslate"><span class="pre">tell()</span></code></a></p>
</div>
</dd></dl>

</section>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.Image.Exif">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">Exif</span></span><a class="reference internal" href="_modules/PIL/Image.html#Exif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Exif" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Image.Exif.endian">
<span class="sig-name descname"><span class="pre">endian</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#PIL.Image.Exif.endian" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Exif.get_ifd">
<span class="sig-name descname"><span class="pre">get_ifd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Exif.get_ifd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Exif.get_ifd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Exif.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Exif.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Exif.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Exif.load_from_fp">
<span class="sig-name descname"><span class="pre">load_from_fp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Exif.load_from_fp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Exif.load_from_fp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Image.Exif.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Image.html#Exif.tobytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.Exif.tobytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.Image.ImagePointHandler">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ImagePointHandler</span></span><a class="reference internal" href="_modules/PIL/Image.html#ImagePointHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.ImagePointHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a mixin by point transforms
(for use with <a class="reference internal" href="#PIL.Image.Image.point" title="PIL.Image.Image.point"><code class="xref py py-meth docutils literal notranslate"><span class="pre">point()</span></code></a>)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.Image.ImageTransformHandler">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ImageTransformHandler</span></span><a class="reference internal" href="_modules/PIL/Image.html#ImageTransformHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Image.ImageTransformHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a mixin by geometry transforms
(for use with <a class="reference internal" href="#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a>)</p>
</dd></dl>

</section>
<section id="constants">
<h4>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h4>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.NONE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">NONE</span></span><a class="headerlink" href="#PIL.Image.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.MAX_IMAGE_PIXELS">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">MAX_IMAGE_PIXELS</span></span><a class="headerlink" href="#PIL.Image.MAX_IMAGE_PIXELS" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to 89,478,485, approximately 0.25GB for a 24-bit (3 bpp) image.
See <a class="reference internal" href="#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> for more information about how this is used.</p>
</dd></dl>

<section id="transpose-methods">
<h5>Transpose methods<a class="headerlink" href="#transpose-methods" title="Permalink to this headline">¶</a></h5>
<p>Used to specify the <a class="reference internal" href="#PIL.Image.Image.transpose" title="PIL.Image.Image.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Image.transpose()</span></code></a> method to use.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.FLIP_LEFT_RIGHT">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">FLIP_LEFT_RIGHT</span></span><a class="headerlink" href="#PIL.Image.FLIP_LEFT_RIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.FLIP_TOP_BOTTOM">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">FLIP_TOP_BOTTOM</span></span><a class="headerlink" href="#PIL.Image.FLIP_TOP_BOTTOM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.ROTATE_90">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ROTATE_90</span></span><a class="headerlink" href="#PIL.Image.ROTATE_90" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.ROTATE_180">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ROTATE_180</span></span><a class="headerlink" href="#PIL.Image.ROTATE_180" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.ROTATE_270">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ROTATE_270</span></span><a class="headerlink" href="#PIL.Image.ROTATE_270" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.TRANSPOSE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">TRANSPOSE</span></span><a class="headerlink" href="#PIL.Image.TRANSPOSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.TRANSVERSE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">TRANSVERSE</span></span><a class="headerlink" href="#PIL.Image.TRANSVERSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="transform-methods">
<h5>Transform methods<a class="headerlink" href="#transform-methods" title="Permalink to this headline">¶</a></h5>
<p>Used to specify the <a class="reference internal" href="#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Image.transform()</span></code></a> method to use.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.AFFINE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">AFFINE</span></span><a class="headerlink" href="#PIL.Image.AFFINE" title="Permalink to this definition">¶</a></dt>
<dd><p>Affine transform</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.EXTENT">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">EXTENT</span></span><a class="headerlink" href="#PIL.Image.EXTENT" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut out a rectangular subregion</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.PERSPECTIVE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">PERSPECTIVE</span></span><a class="headerlink" href="#PIL.Image.PERSPECTIVE" title="Permalink to this definition">¶</a></dt>
<dd><p>Perspective transform</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.QUAD">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">QUAD</span></span><a class="headerlink" href="#PIL.Image.QUAD" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a quadrilateral to a rectangle</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.MESH">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">MESH</span></span><a class="headerlink" href="#PIL.Image.MESH" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a number of source quadrilaterals in one operation</p>
</dd></dl>

</section>
<section id="resampling-filters">
<h5>Resampling filters<a class="headerlink" href="#resampling-filters" title="Permalink to this headline">¶</a></h5>
<p>See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a> for details.</p>
<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">NEAREST</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BOX</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BILINEAR</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">HAMMING</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">BICUBIC</span></span></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">LANCZOS</span></span></dt>
<dd></dd></dl>

<p>Some filters are also available under the following names for backwards compatibility:</p>
<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">NEAREST</span></em></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.LINEAR">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">LINEAR</span></span><em class="property"> <span class="pre">=</span> <span class="pre">BILINEAR</span></em><a class="headerlink" href="#PIL.Image.LINEAR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.CUBIC">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">CUBIC</span></span><em class="property"> <span class="pre">=</span> <span class="pre">BICUBIC</span></em><a class="headerlink" href="#PIL.Image.CUBIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.ANTIALIAS">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ANTIALIAS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">LANCZOS</span></em><a class="headerlink" href="#PIL.Image.ANTIALIAS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="dither-modes">
<h5>Dither modes<a class="headerlink" href="#dither-modes" title="Permalink to this headline">¶</a></h5>
<p>Used to specify the dithering method to use for the
<a class="reference internal" href="#PIL.Image.Image.convert" title="PIL.Image.Image.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert()</span></code></a> and <a class="reference internal" href="#PIL.Image.Image.quantize" title="PIL.Image.Image.quantize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">quantize()</span></code></a> methods.</p>
<dl class="py data">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">NONE</span></span></dt>
<dd><p>No dither</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.FLOYDSTEINBERG">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">FLOYDSTEINBERG</span></span><a class="headerlink" href="#PIL.Image.FLOYDSTEINBERG" title="Permalink to this definition">¶</a></dt>
<dd><p>Floyd-Steinberg dither</p>
</dd></dl>

</section>
<section id="palettes">
<h5>Palettes<a class="headerlink" href="#palettes" title="Permalink to this headline">¶</a></h5>
<p>Used to specify the pallete to use for the <a class="reference internal" href="#PIL.Image.Image.convert" title="PIL.Image.Image.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert()</span></code></a> method.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.WEB">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">WEB</span></span><a class="headerlink" href="#PIL.Image.WEB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.ADAPTIVE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">ADAPTIVE</span></span><a class="headerlink" href="#PIL.Image.ADAPTIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="quantization-methods">
<h5>Quantization methods<a class="headerlink" href="#quantization-methods" title="Permalink to this headline">¶</a></h5>
<p>Used to specify the quantization method to use for the <a class="reference internal" href="#PIL.Image.Image.quantize" title="PIL.Image.Image.quantize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">quantize()</span></code></a> method.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.MEDIANCUT">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">MEDIANCUT</span></span><a class="headerlink" href="#PIL.Image.MEDIANCUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Median cut. Default method, except for RGBA images. This method does not support
RGBA images.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.MAXCOVERAGE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">MAXCOVERAGE</span></span><a class="headerlink" href="#PIL.Image.MAXCOVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum coverage. This method does not support RGBA images.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.FASTOCTREE">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">FASTOCTREE</span></span><a class="headerlink" href="#PIL.Image.FASTOCTREE" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast octree. Default method for RGBA images.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.Image.LIBIMAGEQUANT">
<span class="sig-prename descclassname"><span class="pre">PIL.Image.</span></span><span class="sig-name descname"><span class="pre">LIBIMAGEQUANT</span></span><a class="headerlink" href="#PIL.Image.LIBIMAGEQUANT" title="Permalink to this definition">¶</a></dt>
<dd><p>libimagequant</p>
<p>Check support using <a class="reference internal" href="index.html#PIL.features.check_feature" title="PIL.features.check_feature"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.check_feature()</span></code></a>
with <code class="docutils literal notranslate"><span class="pre">feature=&quot;libimagequant&quot;</span></code>.</p>
</dd></dl>

</section>
</section>
</section>
<span id="document-reference/ImageChops"></span><span class="target" id="module-PIL.ImageChops"></span><section id="imagechops-channel-operations-module">
<h3><a class="reference internal" href="#module-PIL.ImageChops" title="PIL.ImageChops"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageChops</span></code></a> (“Channel Operations”) Module<a class="headerlink" href="#imagechops-channel-operations-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageChops" title="PIL.ImageChops"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageChops</span></code></a> module contains a number of arithmetical image
operations, called channel operations (“chops”). These can be used for various
purposes, including special effects, image compositions, algorithmic painting,
and more.</p>
<p>For more pre-made operations, see <a class="reference internal" href="index.html#module-PIL.ImageOps" title="PIL.ImageOps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageOps</span></code></a>.</p>
<p>At this time, most channel operations are only implemented for 8-bit images
(e.g. “L” and “RGB”).</p>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<p>Most channel operations take one or two image arguments and returns a new
image. Unless otherwise noted, the result of a channel operation is always
clipped to the range 0 to MAX (which is 255 for all modes supported by the
operations in this module).</p>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.add">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds two images, dividing the result by scale and adding the
offset. If omitted, scale defaults to 1.0, and offset to 0.0.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="o">+</span> <span class="n">image2</span><span class="p">)</span> <span class="o">/</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.add_modulo">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">add_modulo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#add_modulo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.add_modulo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add two images, without clipping the result.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="o">+</span> <span class="n">image2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.blend">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">blend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#blend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.blend" title="Permalink to this definition">¶</a></dt>
<dd><p>Blend images using constant transparency weight. Alias for
<a class="reference internal" href="index.html#PIL.Image.blend" title="PIL.Image.blend"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.blend()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.composite">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">composite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#composite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.composite" title="Permalink to this definition">¶</a></dt>
<dd><p>Create composite using transparency mask. Alias for
<a class="reference internal" href="index.html#PIL.Image.composite" title="PIL.Image.composite"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.composite()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.constant">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill a channel with a given grey level.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.darker">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">darker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#darker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.darker" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the two images, pixel by pixel, and returns a new image containing
the darker values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.difference">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">difference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#difference"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute value of the pixel-by-pixel difference between the two
images.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">image1</span> <span class="o">-</span> <span class="n">image2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.duplicate">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">duplicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#duplicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.duplicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy a channel. Alias for <a class="reference internal" href="index.html#PIL.Image.Image.copy" title="PIL.Image.Image.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.copy()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.invert">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">invert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#invert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert an image (channel).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">MAX</span> <span class="o">-</span> <span class="n">image</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.lighter">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">lighter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#lighter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.lighter" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the two images, pixel by pixel, and returns a new image containing
the lighter values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.logical_and">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">logical_and</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#logical_and"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.logical_and" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical AND between two images.</p>
<p>Both of the images must have mode “1”. If you would like to perform a
logical AND on an image with a mode other than “1”, try
<a class="reference internal" href="#PIL.ImageChops.multiply" title="PIL.ImageChops.multiply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiply()</span></code></a> instead, using a black-and-white mask
as the second image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="ow">and</span> <span class="n">image2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.logical_or">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">logical_or</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#logical_or"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.logical_or" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical OR between two images.</p>
<p>Both of the images must have mode “1”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="ow">or</span> <span class="n">image2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.logical_xor">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">logical_xor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#logical_xor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.logical_xor" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical XOR between two images.</p>
<p>Both of the images must have mode “1”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="nb">bool</span><span class="p">(</span><span class="n">image1</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">image2</span><span class="p">))</span> <span class="o">%</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.multiply">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">multiply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#multiply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Superimposes two images on top of each other.</p>
<p>If you multiply an image with a solid black image, the result is black. If
you multiply with a solid white image, the image is unaffected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">image1</span> <span class="o">*</span> <span class="n">image2</span> <span class="o">/</span> <span class="n">MAX</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.soft_light">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">soft_light</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#soft_light"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.soft_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Superimposes two images on top of each other using the Soft Light algorithm</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.hard_light">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">hard_light</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#hard_light"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.hard_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Superimposes two images on top of each other using the Hard Light algorithm</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.overlay">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Superimposes two images on top of each other using the Overlay algorithm</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.offset">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xoffset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the image where data has been offset by the given
distances. Data wraps around the edges. If <code class="docutils literal notranslate"><span class="pre">yoffset</span></code> is omitted, it
is assumed to be equal to <code class="docutils literal notranslate"><span class="pre">xoffset</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xoffset</strong> – The horizontal distance.</p></li>
<li><p><strong>yoffset</strong> – The vertical distance.  If omitted, both
distances are set to the same value.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.screen">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">screen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#screen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.screen" title="Permalink to this definition">¶</a></dt>
<dd><p>Superimposes two inverted images on top of each other.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">MAX</span> <span class="o">-</span> <span class="p">((</span><span class="n">MAX</span> <span class="o">-</span> <span class="n">image1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX</span> <span class="o">-</span> <span class="n">image2</span><span class="p">)</span> <span class="o">/</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.subtract">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">subtract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#subtract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.subtract" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts two images, dividing the result by scale and adding the offset.
If omitted, scale defaults to 1.0, and offset to 0.0.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="o">-</span> <span class="n">image2</span><span class="p">)</span> <span class="o">/</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageChops.subtract_modulo">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageChops.</span></span><span class="sig-name descname"><span class="pre">subtract_modulo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageChops.html#subtract_modulo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageChops.subtract_modulo" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract two images, without clipping the result.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">((</span><span class="n">image1</span> <span class="o">-</span> <span class="n">image2</span><span class="p">)</span> <span class="o">%</span> <span class="n">MAX</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageCms"></span><span class="target" id="module-PIL.ImageCms"></span><section id="imagecms-module">
<h3><a class="reference internal" href="#module-PIL.ImageCms" title="PIL.ImageCms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageCms</span></code></a> Module<a class="headerlink" href="#imagecms-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageCms" title="PIL.ImageCms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageCms</span></code></a> module provides color profile management
support using the LittleCMS2 color management engine, based on Kevin
Cazabon’s PyCMS library.</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageCms.ImageCmsTransform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">ImageCmsTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proof_intent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#ImageCmsTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.ImageCmsTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform.  This can be used with the procedural API, or with the standard
<a class="reference internal" href="index.html#PIL.Image.Image.point" title="PIL.Image.Image.point"><code class="xref py py-func docutils literal notranslate"><span class="pre">point()</span></code></a> method.</p>
<p>Will return the output profile in the <code class="docutils literal notranslate"><span class="pre">output.info['icc_profile']</span></code>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="PIL.ImageCms.PyCMSError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">PyCMSError</span></span><a class="reference internal" href="_modules/PIL/ImageCms.html#PyCMSError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.PyCMSError" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Exception class.
This is used for all errors in the pyCMS API.</p>
</dd></dl>

<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.applyTransform">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">applyTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inPlace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#applyTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.applyTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Applies a transform to a given image.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">im.mode</span> <span class="pre">!=</span> <span class="pre">transform.inMode</span></code>, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inPlace</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">transform.inMode</span> <span class="pre">!=</span> <span class="pre">transform.outMode</span></code>, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">im.mode</span></code>, <code class="docutils literal notranslate"><span class="pre">transform.inMode</span></code> or <code class="docutils literal notranslate"><span class="pre">transform.outMode</span></code> is not
supported by pyCMSdll or the profiles you used for the transform, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while the transform is being applied,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>This function applies a pre-calculated transform (from
ImageCms.buildTransform() or ImageCms.buildTransformFromOpenProfiles())
to an image. The transform can be used for multiple images, saving
considerable calculation time if doing the same conversion multiple times.</p>
<p>If you want to modify im in-place instead of receiving a new image as
the return value, set <code class="docutils literal notranslate"><span class="pre">inPlace</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  This can only be done if
<code class="docutils literal notranslate"><span class="pre">transform.inMode</span></code> and <code class="docutils literal notranslate"><span class="pre">transform.outMode</span></code> are the same, because we can’t
change the mode in-place (the buffer sizes for some modes are
different).  The default behavior is to return a new <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>
object of the same dimensions in mode <code class="docutils literal notranslate"><span class="pre">transform.outMode</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – An <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object, and im.mode must be the same
as the <code class="docutils literal notranslate"><span class="pre">inMode</span></code> supported by the transform.</p></li>
<li><p><strong>transform</strong> – A valid CmsTransform class object</p></li>
<li><p><strong>inPlace</strong> – Bool.  If <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">im</span></code> is modified in place and <code class="docutils literal notranslate"><span class="pre">None</span></code> is
returned, if <code class="docutils literal notranslate"><span class="pre">False</span></code>, a new <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object with the
transform applied is returned (and <code class="docutils literal notranslate"><span class="pre">im</span></code> is not changed). The default is
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either <code class="docutils literal notranslate"><span class="pre">None</span></code>, or a new <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object,
depending on the value of <code class="docutils literal notranslate"><span class="pre">inPlace</span></code>. The profile will be returned in
the image’s <code class="docutils literal notranslate"><span class="pre">info['icc_profile']</span></code>.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.buildProofTransform">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">buildProofTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proofProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proofRenderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16384</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#buildProofTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.buildProofTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Builds an ICC transform mapping from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code> to the
<code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>, but tries to simulate the result that would be
obtained on the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device.</p>
<p>If the input, output, or proof profiles specified are not valid
filenames, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If an error occurs during creation of the transform,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inMode</span></code> or <code class="docutils literal notranslate"><span class="pre">outMode</span></code> are not a mode supported by the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>
(or by pyCMS), a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>This function builds and returns an ICC transform from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code>
to the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>, but tries to simulate the result that would be
obtained on the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device using <code class="docutils literal notranslate"><span class="pre">renderingIntent</span></code> and
<code class="docutils literal notranslate"><span class="pre">proofRenderingIntent</span></code> to determine what to do with out-of-gamut
colors.  This is known as “soft-proofing”.  It will ONLY work for
converting images that are in <code class="docutils literal notranslate"><span class="pre">inMode</span></code> to images that are in outMode
color format (PIL mode, i.e. “RGB”, “RGBA”, “CMYK”, etc.).</p>
<p>Usage of the resulting transform object is exactly the same as with
ImageCms.buildTransform().</p>
<p>Proof profiling is generally used when using an output device to get a
good idea of what the final printed/displayed image would look like on
the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device when it’s quicker and easier to use the
output device for judging color.  Generally, this means that the
output device is a monitor, or a dye-sub printer (etc.), and the simulated
device is something more expensive, complicated, or time consuming
(making it difficult to make a real print for color judgement purposes).</p>
<p>Soft-proofing basically functions by adjusting the colors on the
output device to match the colors of the device being simulated. However,
when the simulated device has a much wider gamut than the output
device, you may obtain marginal results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputProfile</strong> – String, as a valid filename path to the ICC input
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>outputProfile</strong> – String, as a valid filename path to the ICC output
(monitor, usually) profile you wish to use for this transform, or a
profile object</p></li>
<li><p><strong>proofProfile</strong> – String, as a valid filename path to the ICC proof
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>inMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>outMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>renderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent you
wish to use for the input-&gt;proof (simulated) transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>proofRenderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent
you wish to use for proof-&gt;output transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>flags</strong> – Integer (0-…) specifying additional flags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsTransform class object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.buildProofTransformFromOpenProfiles">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">buildProofTransformFromOpenProfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proofProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proofRenderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16384</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageCms.buildProofTransformFromOpenProfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Builds an ICC transform mapping from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code> to the
<code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>, but tries to simulate the result that would be
obtained on the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device.</p>
<p>If the input, output, or proof profiles specified are not valid
filenames, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If an error occurs during creation of the transform,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inMode</span></code> or <code class="docutils literal notranslate"><span class="pre">outMode</span></code> are not a mode supported by the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>
(or by pyCMS), a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>This function builds and returns an ICC transform from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code>
to the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>, but tries to simulate the result that would be
obtained on the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device using <code class="docutils literal notranslate"><span class="pre">renderingIntent</span></code> and
<code class="docutils literal notranslate"><span class="pre">proofRenderingIntent</span></code> to determine what to do with out-of-gamut
colors.  This is known as “soft-proofing”.  It will ONLY work for
converting images that are in <code class="docutils literal notranslate"><span class="pre">inMode</span></code> to images that are in outMode
color format (PIL mode, i.e. “RGB”, “RGBA”, “CMYK”, etc.).</p>
<p>Usage of the resulting transform object is exactly the same as with
ImageCms.buildTransform().</p>
<p>Proof profiling is generally used when using an output device to get a
good idea of what the final printed/displayed image would look like on
the <code class="docutils literal notranslate"><span class="pre">proofProfile</span></code> device when it’s quicker and easier to use the
output device for judging color.  Generally, this means that the
output device is a monitor, or a dye-sub printer (etc.), and the simulated
device is something more expensive, complicated, or time consuming
(making it difficult to make a real print for color judgement purposes).</p>
<p>Soft-proofing basically functions by adjusting the colors on the
output device to match the colors of the device being simulated. However,
when the simulated device has a much wider gamut than the output
device, you may obtain marginal results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputProfile</strong> – String, as a valid filename path to the ICC input
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>outputProfile</strong> – String, as a valid filename path to the ICC output
(monitor, usually) profile you wish to use for this transform, or a
profile object</p></li>
<li><p><strong>proofProfile</strong> – String, as a valid filename path to the ICC proof
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>inMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>outMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>renderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent you
wish to use for the input-&gt;proof (simulated) transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>proofRenderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent
you wish to use for proof-&gt;output transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>flags</strong> – Integer (0-…) specifying additional flags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsTransform class object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.buildTransform">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">buildTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#buildTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.buildTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Builds an ICC transform mapping from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code> to the
<code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>. Use applyTransform to apply the transform to a given
image.</p>
<p>If the input or output profiles specified are not valid filenames, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised. If an error occurs during creation
of the transform, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inMode</span></code> or <code class="docutils literal notranslate"><span class="pre">outMode</span></code> are not a mode supported by the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>
(or by pyCMS), a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>This function builds and returns an ICC transform from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code>
to the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code> using the <code class="docutils literal notranslate"><span class="pre">renderingIntent</span></code> to determine what to do
with out-of-gamut colors.  It will ONLY work for converting images that
are in <code class="docutils literal notranslate"><span class="pre">inMode</span></code> to images that are in <code class="docutils literal notranslate"><span class="pre">outMode</span></code> color format (PIL mode,
i.e. “RGB”, “RGBA”, “CMYK”, etc.).</p>
<p>Building the transform is a fair part of the overhead in
ImageCms.profileToProfile(), so if you’re planning on converting multiple
images using the same input/output settings, this can save you time.
Once you have a transform object, it can be used with
ImageCms.applyProfile() to convert images without the need to re-compute
the lookup table for the transform.</p>
<p>The reason pyCMS returns a class object rather than a handle directly
to the transform is that it needs to keep track of the PIL input/output
modes that the transform is meant for.  These attributes are stored in
the <code class="docutils literal notranslate"><span class="pre">inMode</span></code> and <code class="docutils literal notranslate"><span class="pre">outMode</span></code> attributes of the object (which can be
manually overridden if you really want to, but I don’t know of any
time that would be of use, or would even work).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputProfile</strong> – String, as a valid filename path to the ICC input
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>outputProfile</strong> – String, as a valid filename path to the ICC output
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>inMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>outMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>renderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent you
wish to use for the transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>flags</strong> – Integer (0-…) specifying additional flags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsTransform class object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.buildTransformFromOpenProfiles">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">buildTransformFromOpenProfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outMode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageCms.buildTransformFromOpenProfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Builds an ICC transform mapping from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code> to the
<code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>. Use applyTransform to apply the transform to a given
image.</p>
<p>If the input or output profiles specified are not valid filenames, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised. If an error occurs during creation
of the transform, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inMode</span></code> or <code class="docutils literal notranslate"><span class="pre">outMode</span></code> are not a mode supported by the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>
(or by pyCMS), a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>This function builds and returns an ICC transform from the <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code>
to the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code> using the <code class="docutils literal notranslate"><span class="pre">renderingIntent</span></code> to determine what to do
with out-of-gamut colors.  It will ONLY work for converting images that
are in <code class="docutils literal notranslate"><span class="pre">inMode</span></code> to images that are in <code class="docutils literal notranslate"><span class="pre">outMode</span></code> color format (PIL mode,
i.e. “RGB”, “RGBA”, “CMYK”, etc.).</p>
<p>Building the transform is a fair part of the overhead in
ImageCms.profileToProfile(), so if you’re planning on converting multiple
images using the same input/output settings, this can save you time.
Once you have a transform object, it can be used with
ImageCms.applyProfile() to convert images without the need to re-compute
the lookup table for the transform.</p>
<p>The reason pyCMS returns a class object rather than a handle directly
to the transform is that it needs to keep track of the PIL input/output
modes that the transform is meant for.  These attributes are stored in
the <code class="docutils literal notranslate"><span class="pre">inMode</span></code> and <code class="docutils literal notranslate"><span class="pre">outMode</span></code> attributes of the object (which can be
manually overridden if you really want to, but I don’t know of any
time that would be of use, or would even work).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputProfile</strong> – String, as a valid filename path to the ICC input
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>outputProfile</strong> – String, as a valid filename path to the ICC output
profile you wish to use for this transform, or a profile object</p></li>
<li><p><strong>inMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>outMode</strong> – String, as a valid PIL mode that the appropriate profile
also supports (i.e. “RGB”, “RGBA”, “CMYK”, etc.)</p></li>
<li><p><strong>renderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent you
wish to use for the transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>flags</strong> – Integer (0-…) specifying additional flags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsTransform class object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.createProfile">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">createProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colorSpace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorTemp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#createProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.createProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Creates a profile.</p>
<p>If colorSpace not in <code class="docutils literal notranslate"><span class="pre">[&quot;LAB&quot;,</span> <span class="pre">&quot;XYZ&quot;,</span> <span class="pre">&quot;sRGB&quot;]</span></code>,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If using LAB and <code class="docutils literal notranslate"><span class="pre">colorTemp</span></code> is not a positive integer,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while creating the profile,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to create common profiles on-the-fly instead of
having to supply a profile on disk and knowing the path to it.  It
returns a normal CmsProfile object that can be passed to
ImageCms.buildTransformFromOpenProfiles() to create a transform to apply
to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colorSpace</strong> – String, the color space of the profile you wish to
create.
Currently only “LAB”, “XYZ”, and “sRGB” are supported.</p></li>
<li><p><strong>colorTemp</strong> – Positive integer for the white point for the profile, in
degrees Kelvin (i.e. 5000, 6500, 9600, etc.).  The default is for D50
illuminant if omitted (5000k).  colorTemp is ONLY applied to LAB
profiles, and is ignored for XYZ and sRGB.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsProfile class object</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getDefaultIntent">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getDefaultIntent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getDefaultIntent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getDefaultIntent" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the default intent name for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the default intent, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to determine the default (and usually best optimized)
rendering intent for this profile.  Most profiles support multiple
rendering intents, but are intended mostly for one type of conversion.
If you wish to use a different intent than returned, use
ImageCms.isIntentSupported() to verify it will work first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Integer 0-3 specifying the default rendering intent for this
profile.</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<dl class="simple">
<dt>see the pyCMS documentation for details on rendering intents and what</dt><dd><p>they do.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getOpenProfile">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getOpenProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profileFilename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getOpenProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getOpenProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Opens an ICC profile file.</p>
<p>The PyCMSProfile object can be passed back into pyCMS for use in creating
transforms and such (as in ImageCms.buildTransformFromOpenProfiles()).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profileFilename</span></code> is not a valid filename for an ICC profile,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profileFilename</strong> – String, as a valid filename path to the ICC profile
you wish to open, or a file-like object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CmsProfile class object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileCopyright">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileCopyright</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileCopyright"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileCopyright" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the copyright for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the copyright tag,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the information stored in the profile’s
copyright tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal profile information stored in
an ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileDescription">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileDescription</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileDescription"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the description for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the description tag,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the information stored in the profile’s
description tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal profile information stored in an
ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileInfo">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the internal product information for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the info tag,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the information stored in the profile’s
info tag.  This often contains details about the profile, and how it
was created, as supplied by the creator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal profile information stored in
an ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileManufacturer">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileManufacturer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileManufacturer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileManufacturer" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the manufacturer for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the manufacturer tag, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the information stored in the profile’s
manufacturer tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal profile information stored in
an ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileModel">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileModel" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the model for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>If an error occurs while trying to obtain the model tag,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the information stored in the profile’s
model tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal profile information stored in
an ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.getProfileName">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">getProfileName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#getProfileName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.getProfileName" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Gets the internal product name for the given profile.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">profile</span></code> isn’t a valid CmsProfile object or filename to a profile,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised If an error occurs while trying
to obtain the name tag, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> is raised.</p>
<p>Use this function to obtain the INTERNAL name of the profile (stored
in an ICC tag in the profile itself), usually the one used when the
profile was originally created.  Sometimes this tag also contains
additional information supplied by the creator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the internal name of the profile as stored
in an ICC tag.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.get_display_profile">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">get_display_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#get_display_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.get_display_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>(experimental) Fetches the profile for the current display device.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code> if the profile is not known.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.isIntentSupported">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">isIntentSupported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#isIntentSupported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.isIntentSupported" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Checks if a given intent is supported.</p>
<p>Use this function to verify that you can use your desired
<code class="docutils literal notranslate"><span class="pre">intent</span></code> with <code class="docutils literal notranslate"><span class="pre">profile</span></code>, and that <code class="docutils literal notranslate"><span class="pre">profile</span></code> can be used for the
input/output/proof profile as you desire.</p>
<p>Some profiles are created specifically for one “direction”, can cannot
be used for others. Some profiles can only be used for certain
rendering intents, so it’s best to either verify this before trying
to create a transform with them (using this function), or catch the
potential <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> that will occur if they don’t
support the modes you select.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>profile</strong> – EITHER a valid CmsProfile object, OR a string of the
filename of an ICC profile.</p></li>
<li><p><strong>intent</strong> – <p>Integer (0-3) specifying the rendering intent you wish to
use with this profile</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<dl class="simple">
<dt>see the pyCMS documentation for details on rendering intents and what</dt><dd><p>they do.</p>
</dd>
</dl>
</p></li>
<li><p><strong>direction</strong> – <p>Integer specifying if the profile is to be used for
input, output, or proof</p>
<blockquote>
<div><p>INPUT  = 0 (or use ImageCms.DIRECTION_INPUT)
OUTPUT = 1 (or use ImageCms.DIRECTION_OUTPUT)
PROOF  = 2 (or use ImageCms.DIRECTION_PROOF)</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 if the intent/direction are supported, -1 if they are not.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.profileToProfile">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">profileToProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputProfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderingIntent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputMode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inPlace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#profileToProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.profileToProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Applies an ICC transformation to a given image, mapping from
<code class="docutils literal notranslate"><span class="pre">inputProfile</span></code> to <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>.</p>
<p>If the input or output profiles specified are not valid filenames, a
<a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.  If <code class="docutils literal notranslate"><span class="pre">inPlace</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and
<code class="docutils literal notranslate"><span class="pre">outputMode</span> <span class="pre">!=</span> <span class="pre">im.mode</span></code>, a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.
If an error occurs during application of the profiles,
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.
If <code class="docutils literal notranslate"><span class="pre">outputMode</span></code> is not a mode supported by the <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code> (or by pyCMS),
a <a class="reference internal" href="#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PyCMSError</span></code></a> will be raised.</p>
<p>This function applies an ICC transformation to im from <code class="docutils literal notranslate"><span class="pre">inputProfile</span></code>’s
color space to <code class="docutils literal notranslate"><span class="pre">outputProfile</span></code>’s color space using the specified rendering
intent to decide how to handle out-of-gamut colors.</p>
<p><code class="docutils literal notranslate"><span class="pre">outputMode</span></code> can be used to specify that a color mode conversion is to
be done using these profiles, but the specified profiles must be able
to handle that mode.  I.e., if converting im from RGB to CMYK using
profiles, the input profile must handle RGB data, and the output
profile must handle CMYK data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – An open <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object (i.e. Image.new(…)
or Image.open(…), etc.)</p></li>
<li><p><strong>inputProfile</strong> – String, as a valid filename path to the ICC input
profile you wish to use for this image, or a profile object</p></li>
<li><p><strong>outputProfile</strong> – String, as a valid filename path to the ICC output
profile you wish to use for this image, or a profile object</p></li>
<li><p><strong>renderingIntent</strong> – <p>Integer (0-3) specifying the rendering intent you
wish to use for the transform</p>
<blockquote>
<div><p>ImageCms.INTENT_PERCEPTUAL            = 0 (DEFAULT)
ImageCms.INTENT_RELATIVE_COLORIMETRIC = 1
ImageCms.INTENT_SATURATION            = 2
ImageCms.INTENT_ABSOLUTE_COLORIMETRIC = 3</p>
</div></blockquote>
<p>see the pyCMS documentation for details on rendering intents and what
they do.</p>
</p></li>
<li><p><strong>outputMode</strong> – A valid PIL mode for the output image (i.e. “RGB”,
“CMYK”, etc.).  Note: if rendering the image “inPlace”, outputMode
MUST be the same mode as the input, or omitted completely.  If
omitted, the outputMode will be the same as the mode of the input
image (im.mode)</p></li>
<li><p><strong>inPlace</strong> – Boolean.  If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the original image is modified in-place,
and <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.  If <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), a new
<a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object is returned with the transform applied.</p></li>
<li><p><strong>flags</strong> – Integer (0-…) specifying additional flags</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either None or a new <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object, depending on
the value of <code class="docutils literal notranslate"><span class="pre">inPlace</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="index.html#PIL.ImageCms.PyCMSError" title="PIL.ImageCms.PyCMSError"><strong>PyCMSError</strong></a> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageCms.versions">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageCms.html#versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageCms.versions" title="Permalink to this definition">¶</a></dt>
<dd><p>(pyCMS) Fetches versions.</p>
</dd></dl>

</section>
<section id="cmsprofile">
<h4>CmsProfile<a class="headerlink" href="#cmsprofile" title="Permalink to this headline">¶</a></h4>
<p>The ICC color profiles are wrapped in an instance of the class
<a class="reference internal" href="#PIL.ImageCms.CmsProfile" title="PIL.ImageCms.CmsProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CmsProfile</span></code></a>.  The specification ICC.1:2010 contains more
information about the meaning of the values in ICC profiles.</p>
<p>For convenience, all XYZ-values are also given as xyY-values (so they
can be easily displayed in a chromaticity diagram, for example).</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageCms.</span></span><span class="sig-name descname"><span class="pre">CmsProfile</span></span><a class="headerlink" href="#PIL.ImageCms.CmsProfile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.creation_date">
<span class="sig-name descname"><span class="pre">creation_date</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><span class="pre">datetime.datetime</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.creation_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Date and time this profile was first created (see 7.2.1 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version number of the ICC standard that this profile follows
(e.g. <code class="docutils literal notranslate"><span class="pre">2.0</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.icc_version">
<span class="sig-name descname"><span class="pre">icc_version</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.icc_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <code class="docutils literal notranslate"><span class="pre">version</span></code>, but in encoded format (see 7.2.4 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.device_class">
<span class="sig-name descname"><span class="pre">device_class</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.device_class" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string identifying the profile class.  One of
<code class="docutils literal notranslate"><span class="pre">scnr</span></code>, <code class="docutils literal notranslate"><span class="pre">mntr</span></code>, <code class="docutils literal notranslate"><span class="pre">prtr</span></code>, <code class="docutils literal notranslate"><span class="pre">link</span></code>, <code class="docutils literal notranslate"><span class="pre">spac</span></code>, <code class="docutils literal notranslate"><span class="pre">abst</span></code>,
<code class="docutils literal notranslate"><span class="pre">nmcl</span></code> (see 7.2.5 of ICC.1:2010 for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.xcolor_space">
<span class="sig-name descname"><span class="pre">xcolor_space</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.xcolor_space" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the color
space, e.g. <code class="docutils literal notranslate"><span class="pre">XYZ␣</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB␣</span></code> or <code class="docutils literal notranslate"><span class="pre">CMYK</span></code> (see 7.2.6 of
ICC.1:2010 for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.connection_space">
<span class="sig-name descname"><span class="pre">connection_space</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.connection_space" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the color
space on the B-side of the transform (see 7.2.7 of ICC.1:2010 for
details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.header_flags">
<span class="sig-name descname"><span class="pre">header_flags</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.header_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>The encoded header flags of the profile (see 7.2.11 of ICC.1:2010
for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.header_manufacturer">
<span class="sig-name descname"><span class="pre">header_manufacturer</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.header_manufacturer" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the device
manufacturer, which shall match the signature contained in the
appropriate section of the ICC signature registry found at
www.color.org (see 7.2.12 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.header_model">
<span class="sig-name descname"><span class="pre">header_model</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.header_model" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the device
model, which shall match the signature contained in the
appropriate section of the ICC signature registry found at
www.color.org (see 7.2.13 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.attributes">
<span class="sig-name descname"><span class="pre">attributes</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Flags used to identify attributes unique to the particular device
setup for which the profile is applicable (see 7.2.14 of
ICC.1:2010 for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.rendering_intent">
<span class="sig-name descname"><span class="pre">rendering_intent</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.rendering_intent" title="Permalink to this definition">¶</a></dt>
<dd><p>The rendering intent to use when combining this profile with
another profile (usually overridden at run-time, but provided here
for DeviceLink and embedded source profiles, see 7.2.15 of ICC.1:2010).</p>
<p>One of <code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_ABSOLUTE_COLORIMETRIC</span></code>, <code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_PERCEPTUAL</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_RELATIVE_COLORIMETRIC</span></code> and <code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_SATURATION</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.profile_id">
<span class="sig-name descname"><span class="pre">profile_id</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.profile_id" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence of 16 bytes identifying the profile (via a specially
constructed MD5 sum), or 16 binary zeroes if the profile ID has
not been calculated (see 7.2.18 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.copyright">
<span class="sig-name descname"><span class="pre">copyright</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.copyright" title="Permalink to this definition">¶</a></dt>
<dd><p>The text copyright information for the profile (see 9.2.21 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.manufacturer">
<span class="sig-name descname"><span class="pre">manufacturer</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.manufacturer" title="Permalink to this definition">¶</a></dt>
<dd><p>The (English) display string for the device manufacturer (see
9.2.22 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The (English) display string for the device model of the device
for which this profile is created (see 9.2.23 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.profile_description">
<span class="sig-name descname"><span class="pre">profile_description</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.profile_description" title="Permalink to this definition">¶</a></dt>
<dd><p>The (English) display string for the profile description (see
9.2.41 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.target">
<span class="sig-name descname"><span class="pre">target</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.target" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the registered characterization data set, or the
measurement data for a characterization target (see 9.2.14 of
ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.red_colorant">
<span class="sig-name descname"><span class="pre">red_colorant</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.red_colorant" title="Permalink to this definition">¶</a></dt>
<dd><p>The first column in the matrix used in matrix/TRC transforms (see 9.2.44 of ICC.1:2010).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.green_colorant">
<span class="sig-name descname"><span class="pre">green_colorant</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.green_colorant" title="Permalink to this definition">¶</a></dt>
<dd><p>The second column in the matrix used in matrix/TRC transforms (see 9.2.30 of ICC.1:2010).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.blue_colorant">
<span class="sig-name descname"><span class="pre">blue_colorant</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.blue_colorant" title="Permalink to this definition">¶</a></dt>
<dd><p>The third column in the matrix used in matrix/TRC transforms (see 9.2.4 of ICC.1:2010).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.luminance">
<span class="sig-name descname"><span class="pre">luminance</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.luminance" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute luminance of emissive devices in candelas per square
metre as described by the Y channel (see 9.2.32 of ICC.1:2010).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.chromaticity">
<span class="sig-name descname"><span class="pre">chromaticity</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.chromaticity" title="Permalink to this definition">¶</a></dt>
<dd><p>The data of the phosphor/colorant chromaticity set used (red,
green and blue channels, see 9.2.16 of ICC.1:2010).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((x,</span> <span class="pre">y,</span> <span class="pre">Y),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.chromatic_adaption">
<span class="sig-name descname"><span class="pre">chromatic_adaption</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.chromatic_adaption" title="Permalink to this definition">¶</a></dt>
<dd><p>The chromatic adaption matrix converts a color measured using the
actual illumination conditions and relative to the actual adopted
white, to a color relative to the PCS adopted white, with
complete adaptation from the actual adopted white chromaticity to
the PCS adopted white chromaticity (see 9.2.15 of ICC.1:2010).</p>
<p>Two 3-tuples of floats are returned in a 2-tuple,
one in (X, Y, Z) space and one in (x, y, Y) space.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.colorant_table">
<span class="sig-name descname"><span class="pre">colorant_table</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.colorant_table" title="Permalink to this definition">¶</a></dt>
<dd><p>This tag identifies the colorants used in the profile by a unique
name and set of PCSXYZ or PCSLAB values (see 9.2.19 of
ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.colorant_table_out">
<span class="sig-name descname"><span class="pre">colorant_table_out</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.colorant_table_out" title="Permalink to this definition">¶</a></dt>
<dd><p>This tag identifies the colorants used in the profile by a unique
name and set of PCSLAB values (for DeviceLink profiles only, see
9.2.19 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.colorimetric_intent">
<span class="sig-name descname"><span class="pre">colorimetric_intent</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.colorimetric_intent" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the image
state of PCS colorimetry produced using the colorimetric intent
transforms (see 9.2.20 of ICC.1:2010 for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.perceptual_rendering_intent_gamut">
<span class="sig-name descname"><span class="pre">perceptual_rendering_intent_gamut</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.perceptual_rendering_intent_gamut" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the (one)
standard reference medium gamut (see 9.2.37 of ICC.1:2010 for
details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.saturation_rendering_intent_gamut">
<span class="sig-name descname"><span class="pre">saturation_rendering_intent_gamut</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.saturation_rendering_intent_gamut" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the (one)
standard reference medium gamut (see 9.2.37 of ICC.1:2010 for
details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.technology">
<span class="sig-name descname"><span class="pre">technology</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.technology" title="Permalink to this definition">¶</a></dt>
<dd><p>4-character string (padded with whitespace) identifying the device
technology (see 9.2.47 of ICC.1:2010 for details).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.media_black_point">
<span class="sig-name descname"><span class="pre">media_black_point</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.media_black_point" title="Permalink to this definition">¶</a></dt>
<dd><p>This tag specifies the media black point and is used for
generating absolute colorimetry.</p>
<p>This tag was available in ICC 3.2, but it is removed from
version 4.</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.media_white_point_temperature">
<span class="sig-name descname"><span class="pre">media_white_point_temperature</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.media_white_point_temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the white point temperature (see the LCMS documentation
for more information).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.viewing_condition">
<span class="sig-name descname"><span class="pre">viewing_condition</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.viewing_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>The (English) display string for the viewing conditions (see
9.2.48 of ICC.1:2010).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.screening_description">
<span class="sig-name descname"><span class="pre">screening_description</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.screening_description" title="Permalink to this definition">¶</a></dt>
<dd><p>The (English) display string for the screening conditions.</p>
<p>This tag was available in ICC 3.2, but it is removed from
version 4.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.red_primary">
<span class="sig-name descname"><span class="pre">red_primary</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.red_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>The XYZ-transformed of the RGB primary color red (1, 0, 0).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.green_primary">
<span class="sig-name descname"><span class="pre">green_primary</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.green_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>The XYZ-transformed of the RGB primary color green (0, 1, 0).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.blue_primary">
<span class="sig-name descname"><span class="pre">blue_primary</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.blue_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>The XYZ-transformed of the RGB primary color blue (0, 0, 1).</p>
<p>The value is in the format <code class="docutils literal notranslate"><span class="pre">((X,</span> <span class="pre">Y,</span> <span class="pre">Z),</span> <span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">Y))</span></code>, if available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.is_matrix_shaper">
<span class="sig-name descname"><span class="pre">is_matrix_shaper</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.is_matrix_shaper" title="Permalink to this definition">¶</a></dt>
<dd><p>True if this profile is implemented as a matrix shaper (see
documentation on LCMS).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.clut">
<span class="sig-name descname"><span class="pre">clut</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.clut" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of all supported intents and directions for
the CLUT model.</p>
<p>The dictionary is indexed by intents
(<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_ABSOLUTE_COLORIMETRIC</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_PERCEPTUAL</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_RELATIVE_COLORIMETRIC</span></code> and
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_SATURATION</span></code>).</p>
<p>The values are 3-tuples indexed by directions
(<code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_INPUT</span></code>, <code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_OUTPUT</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_PROOF</span></code>).</p>
<p>The elements of the tuple are booleans.  If the value is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
that intent is supported for that direction.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.intent_supported">
<span class="sig-name descname"><span class="pre">intent_supported</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#PIL.ImageCms.CmsProfile.intent_supported" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of all supported intents and directions.</p>
<p>The dictionary is indexed by intents
(<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_ABSOLUTE_COLORIMETRIC</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_PERCEPTUAL</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_RELATIVE_COLORIMETRIC</span></code> and
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_SATURATION</span></code>).</p>
<p>The values are 3-tuples indexed by directions
(<code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_INPUT</span></code>, <code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_OUTPUT</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_PROOF</span></code>).</p>
<p>The elements of the tuple are booleans.  If the value is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
that intent is supported for that direction.</p>
</dd></dl>

<p>There is one function defined on the class:</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageCms.CmsProfile.is_intent_supported">
<span class="sig-name descname"><span class="pre">is_intent_supported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageCms.CmsProfile.is_intent_supported" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if the intent is supported for the given direction.</p>
<p>Note that you can also get this information for all intents and directions
with <a class="reference internal" href="#PIL.ImageCms.CmsProfile.intent_supported" title="PIL.ImageCms.CmsProfile.intent_supported"><code class="xref py py-attr docutils literal notranslate"><span class="pre">intent_supported</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intent</strong> – One of <code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_ABSOLUTE_COLORIMETRIC</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_PERCEPTUAL</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_RELATIVE_COLORIMETRIC</span></code>
and <code class="docutils literal notranslate"><span class="pre">ImageCms.INTENT_SATURATION</span></code>.</p></li>
<li><p><strong>direction</strong> – One of <code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_INPUT</span></code>,
<code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_OUTPUT</span></code>
and <code class="docutils literal notranslate"><span class="pre">ImageCms.DIRECTION_PROOF</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Boolean if the intent and direction is supported.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-reference/ImageColor"></span><span class="target" id="module-PIL.ImageColor"></span><section id="imagecolor-module">
<h3><a class="reference internal" href="#module-PIL.ImageColor" title="PIL.ImageColor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageColor</span></code></a> Module<a class="headerlink" href="#imagecolor-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageColor" title="PIL.ImageColor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageColor</span></code></a> module contains color tables and converters from
CSS3-style color specifiers to RGB tuples. This module is used by
<a class="reference internal" href="index.html#PIL.Image.new" title="PIL.Image.new"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.new()</span></code></a> and the <a class="reference internal" href="index.html#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a> module, among
others.</p>
<section id="color-names">
<span id="id1"></span><h4>Color Names<a class="headerlink" href="#color-names" title="Permalink to this headline">¶</a></h4>
<p>The ImageColor module supports the following string formats:</p>
<ul class="simple">
<li><p>Hexadecimal color specifiers, given as <code class="docutils literal notranslate"><span class="pre">#rgb</span></code>, <code class="docutils literal notranslate"><span class="pre">#rgba</span></code>, <code class="docutils literal notranslate"><span class="pre">#rrggbb</span></code> or
<code class="docutils literal notranslate"><span class="pre">#rrggbbaa</span></code>, where <code class="docutils literal notranslate"><span class="pre">r</span></code> is red, <code class="docutils literal notranslate"><span class="pre">g</span></code> is green, <code class="docutils literal notranslate"><span class="pre">b</span></code> is blue and <code class="docutils literal notranslate"><span class="pre">a</span></code> is
alpha (also called ‘opacity’). For example, <code class="docutils literal notranslate"><span class="pre">#ff0000</span></code> specifies pure red,
and <code class="docutils literal notranslate"><span class="pre">#ff0000cc</span></code> specifies red with 80% opacity (<code class="docutils literal notranslate"><span class="pre">cc</span></code> is 204 in decimal
form, and 204 / 255 = 0.8).</p></li>
<li><p>RGB functions, given as <code class="docutils literal notranslate"><span class="pre">rgb(red,</span> <span class="pre">green,</span> <span class="pre">blue)</span></code> where the color values are
integers in the range 0 to 255. Alternatively, the color values can be given
as three percentages (0% to 100%). For example, <code class="docutils literal notranslate"><span class="pre">rgb(255,0,0)</span></code> and
<code class="docutils literal notranslate"><span class="pre">rgb(100%,0%,0%)</span></code> both specify pure red.</p></li>
<li><p>Hue-Saturation-Lightness (HSL) functions, given as <code class="docutils literal notranslate"><span class="pre">hsl(hue,</span> <span class="pre">saturation%,</span>
<span class="pre">lightness%)</span></code> where hue is the color given as an angle between 0 and 360
(red=0, green=120, blue=240), saturation is a value between 0% and 100%
(gray=0%, full color=100%), and lightness is a value between 0% and 100%
(black=0%, normal=50%, white=100%). For example, <code class="docutils literal notranslate"><span class="pre">hsl(0,100%,50%)</span></code> is pure
red.</p></li>
<li><p>Hue-Saturation-Value (HSV) functions, given as <code class="docutils literal notranslate"><span class="pre">hsv(hue,</span> <span class="pre">saturation%,</span>
<span class="pre">value%)</span></code> where hue and saturation are the same as HSL, and value is between
0% and 100% (black=0%, normal=100%). For example, <code class="docutils literal notranslate"><span class="pre">hsv(0,100%,100%)</span></code> is
pure red. This format is also known as Hue-Saturation-Brightness (HSB), and
can be given as <code class="docutils literal notranslate"><span class="pre">hsb(hue,</span> <span class="pre">saturation%,</span> <span class="pre">brightness%)</span></code>, where each of the
values are used as they are in HSV.</p></li>
<li><p>Common HTML color names. The <a class="reference internal" href="#module-PIL.ImageColor" title="PIL.ImageColor"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageColor</span></code></a> module provides some
140 standard color names, based on the colors supported by the X Window
system and most web browsers. color names are case insensitive. For example,
<code class="docutils literal notranslate"><span class="pre">red</span></code> and <code class="docutils literal notranslate"><span class="pre">Red</span></code> both specify pure red.</p></li>
</ul>
</section>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageColor.getrgb">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageColor.</span></span><span class="sig-name descname"><span class="pre">getrgb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageColor.html#getrgb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageColor.getrgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a color string to an RGB tuple. If the string cannot be parsed,
this function raises a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> exception.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageColor.getcolor">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageColor.</span></span><span class="sig-name descname"><span class="pre">getcolor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageColor.html#getcolor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageColor.getcolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#PIL.ImageColor.getrgb" title="PIL.ImageColor.getrgb"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrgb()</span></code></a>, but converts the RGB value to a
greyscale value if the mode is not color or a palette image. If the string
cannot be parsed, this function raises a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> exception.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4.</span></p>
</div>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageDraw"></span><span class="target" id="module-PIL.ImageDraw"></span><section id="imagedraw-module">
<h3><a class="reference internal" href="#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a> Module<a class="headerlink" href="#imagedraw-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a> module provides simple 2D graphics for
<a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> objects.  You can use this module to create new
images, annotate or retouch existing images, and to generate graphics on the
fly for web use.</p>
<p>For a more advanced drawing library for PIL, see the <a class="reference external" href="https://github.com/pytroll/aggdraw">aggdraw module</a>.</p>
<section id="example-draw-a-gray-cross-over-an-image">
<h4>Example: Draw a gray cross over an image<a class="headerlink" href="#example-draw-a-gray-cross-over-an-image" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>

    <span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
    <span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
    <span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>

    <span class="c1"># write to stdout</span>
    <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="s2">&quot;PNG&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="concepts">
<h4>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h4>
<section id="coordinates">
<h5>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h5>
<p>The graphics interface uses the same coordinate system as PIL itself, with (0,
0) in the upper left corner. Any pixels drawn outside of the image bounds will
be discarded.</p>
</section>
<section id="colors">
<h5>Colors<a class="headerlink" href="#colors" title="Permalink to this headline">¶</a></h5>
<p>To specify colors, you can use numbers or tuples just as you would use with
<a class="reference internal" href="index.html#PIL.Image.new" title="PIL.Image.new"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.new()</span></code></a> or <a class="reference internal" href="index.html#PIL.Image.Image.putpixel" title="PIL.Image.Image.putpixel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.putpixel()</span></code></a>. For “1”,
“L”, and “I” images, use integers. For “RGB” images, use a 3-tuple containing
integer values. For “F” images, use integer or floating point values.</p>
<p>For palette images (mode “P”), use integers as color indexes. In 1.1.4 and
later, you can also use RGB 3-tuples or color names (see below). The drawing
layer will automatically assign color indexes, as long as you don’t draw with
more than 256 colors.</p>
</section>
<section id="color-names">
<h5>Color Names<a class="headerlink" href="#color-names" title="Permalink to this headline">¶</a></h5>
<p>See <a class="reference internal" href="index.html#color-names"><span class="std std-ref">Color Names</span></a> for the color names supported by Pillow.</p>
</section>
<section id="fonts">
<h5>Fonts<a class="headerlink" href="#fonts" title="Permalink to this headline">¶</a></h5>
<p>PIL can use bitmap fonts or OpenType/TrueType fonts.</p>
<p>Bitmap fonts are stored in PIL’s own format, where each font typically consists
of two files, one named .pil and the other usually named .pbm. The former
contains font metrics, the latter raster data.</p>
<p>To load a bitmap font, use the load functions in the <a class="reference internal" href="index.html#module-PIL.ImageFont" title="PIL.ImageFont"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFont</span></code></a>
module.</p>
<p>To load a OpenType/TrueType font, use the truetype function in the
<a class="reference internal" href="index.html#module-PIL.ImageFont" title="PIL.ImageFont"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFont</span></code></a> module. Note that this function depends on third-party
libraries, and may not available in all PIL builds.</p>
</section>
</section>
<section id="example-draw-partial-opacity-text">
<h4>Example: Draw Partial Opacity Text<a class="headerlink" href="#example-draw-partial-opacity-text" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>
<span class="c1"># get an image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;Pillow/Tests/images/hopper.png&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">base</span><span class="p">:</span>

    <span class="c1"># make a blank image for the text, initialized to transparent text color</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="n">base</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

    <span class="c1"># get a font</span>
    <span class="n">fnt</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;Pillow/Tests/fonts/FreeMono.ttf&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
    <span class="c1"># get a drawing context</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

    <span class="c1"># draw text, half opacity</span>
    <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">fnt</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">128</span><span class="p">))</span>
    <span class="c1"># draw text, full opacity</span>
    <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">fnt</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>

    <span class="n">out</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">alpha_composite</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>

    <span class="n">out</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="example-draw-multiline-text">
<h4>Example: Draw Multiline Text<a class="headerlink" href="#example-draw-multiline-text" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>

<span class="c1"># create an image</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>

<span class="c1"># get a font</span>
<span class="n">fnt</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;Pillow/Tests/fonts/FreeMono.ttf&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="c1"># get a drawing context</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>

<span class="c1"># draw multiline text</span>
<span class="n">d</span><span class="o">.</span><span class="n">multiline_text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;Hello</span><span class="se">\n</span><span class="s2">World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">fnt</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="n">out</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.Draw">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw.</span></span><span class="sig-name descname"><span class="pre">Draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#Draw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.Draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object that can be used to draw in the given image.</p>
<p>Note that the image will be modified in place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – The image to draw in.</p></li>
<li><p><strong>mode</strong> – Optional mode to use for color values.  For RGB
images, this argument can be RGB or RGBA (to blend the
drawing into the image).  For all other modes, this argument
must be the same as the image mode.  If omitted, the mode
defaults to the mode of the image.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h4>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.getfont">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">getfont</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.getfont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.getfont" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current default font.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An image font.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.arc">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.arc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.arc" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws an arc (a portion of a circle outline) between the start and end
angles, inside the given bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of <code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span>
<span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>, where <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">&gt;=</span> <span class="pre">x0</span></code> and <code class="docutils literal notranslate"><span class="pre">y1</span> <span class="pre">&gt;=</span>
<span class="pre">y0</span></code>.</p></li>
<li><p><strong>start</strong> – Starting angle, in degrees. Angles are measured from 3
o’clock, increasing clockwise.</p></li>
<li><p><strong>end</strong> – Ending angle, in degrees.</p></li>
<li><p><strong>fill</strong> – Color to use for the arc.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.bitmap">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">bitmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bitmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.bitmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.bitmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a bitmap (mask) at the given position, using the current fill color
for the non-zero portions. The bitmap should be a valid transparency mask
(mode “1”) or matte (mode “L” or “RGBA”).</p>
<p>This is equivalent to doing <code class="docutils literal notranslate"><span class="pre">image.paste(xy,</span> <span class="pre">color,</span> <span class="pre">bitmap)</span></code>.</p>
<p>To paste pixel data into an image, use the
<a class="reference internal" href="index.html#PIL.Image.Image.paste" title="PIL.Image.Image.paste"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paste()</span></code></a> method on the image itself.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.chord">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">chord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.chord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.chord" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.arc" title="PIL.ImageDraw.ImageDraw.arc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arc()</span></code></a>, but connects the end points
with a straight line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of <code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span>
<span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>, where <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">&gt;=</span> <span class="pre">x0</span></code> and <code class="docutils literal notranslate"><span class="pre">y1</span> <span class="pre">&gt;=</span>
<span class="pre">y0</span></code>.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.ellipse">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws an ellipse inside the given bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of either
<code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span> <span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>, where <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">&gt;=</span> <span class="pre">x0</span></code>
and <code class="docutils literal notranslate"><span class="pre">y1</span> <span class="pre">&gt;=</span> <span class="pre">y0</span></code>.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.line">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.line" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a line between the coordinates in the <code class="docutils literal notranslate"><span class="pre">xy</span></code> list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Sequence of either 2-tuples like <code class="docutils literal notranslate"><span class="pre">[(x,</span> <span class="pre">y),</span> <span class="pre">(x,</span> <span class="pre">y),</span> <span class="pre">...]</span></code> or
numeric values like <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">...]</span></code>.</p></li>
<li><p><strong>fill</strong> – Color to use for the line.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option was broken until version 1.1.6.</p>
</div>
</p></li>
<li><p><strong>joint</strong> – <p>Joint type between a sequence of lines. It can be <code class="docutils literal notranslate"><span class="pre">&quot;curve&quot;</span></code>, for rounded edges, or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.pieslice">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">pieslice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.pieslice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.pieslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as arc, but also draws straight lines between the end points and the
center of the bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of <code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span>
<span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>, where <code class="docutils literal notranslate"><span class="pre">x1</span> <span class="pre">&gt;=</span> <span class="pre">x0</span></code> and <code class="docutils literal notranslate"><span class="pre">y1</span> <span class="pre">&gt;=</span>
<span class="pre">y0</span></code>.</p></li>
<li><p><strong>start</strong> – Starting angle, in degrees. Angles are measured from 3
o’clock, increasing clockwise.</p></li>
<li><p><strong>end</strong> – Ending angle, in degrees.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.point">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws points (individual pixels) at the given coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Sequence of either 2-tuples like <code class="docutils literal notranslate"><span class="pre">[(x,</span> <span class="pre">y),</span> <span class="pre">(x,</span> <span class="pre">y),</span> <span class="pre">...]</span></code> or
numeric values like <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">...]</span></code>.</p></li>
<li><p><strong>fill</strong> – Color to use for the point.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.polygon">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a polygon.</p>
<p>The polygon outline consists of straight lines between the given
coordinates, plus a straight line between the last and the first
coordinate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Sequence of either 2-tuples like <code class="docutils literal notranslate"><span class="pre">[(x,</span> <span class="pre">y),</span> <span class="pre">(x,</span> <span class="pre">y),</span> <span class="pre">...]</span></code> or
numeric values like <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">...]</span></code>.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.regular_polygon">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">regular_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounding_circle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sides</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.regular_polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.regular_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a regular polygon inscribed in <code class="docutils literal notranslate"><span class="pre">bounding_circle</span></code>,
with <code class="docutils literal notranslate"><span class="pre">n_sides</span></code>, and rotation of <code class="docutils literal notranslate"><span class="pre">rotation</span></code> degrees.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounding_circle</strong> – The bounding circle is a tuple defined
by a point and radius.
(e.g. <code class="docutils literal notranslate"><span class="pre">bounding_circle=(x,</span> <span class="pre">y,</span> <span class="pre">r)</span></code> or <code class="docutils literal notranslate"><span class="pre">((x,</span> <span class="pre">y),</span> <span class="pre">r)</span></code>).
The polygon is inscribed in this circle.</p></li>
<li><p><strong>n_sides</strong> – Number of sides
(e.g. <code class="docutils literal notranslate"><span class="pre">n_sides=3</span></code> for a triangle, <code class="docutils literal notranslate"><span class="pre">6</span></code> for a hexagon).</p></li>
<li><p><strong>rotation</strong> – Apply an arbitrary rotation to the polygon
(e.g. <code class="docutils literal notranslate"><span class="pre">rotation=90</span></code>, applies a 90 degree rotation).</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.rectangle">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.rectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.rectangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a rectangle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of either
<code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span> <span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>. The second point
is just outside the drawn rectangle.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>width</strong> – <p>The line width, in pixels.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.rounded_rectangle">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">rounded_rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.rounded_rectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.rounded_rectangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a rounded rectangle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – Two points to define the bounding box. Sequence of either
<code class="docutils literal notranslate"><span class="pre">[(x0,</span> <span class="pre">y0),</span> <span class="pre">(x1,</span> <span class="pre">y1)]</span></code> or <code class="docutils literal notranslate"><span class="pre">[x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1]</span></code>. The second point
is just outside the drawn rectangle.</p></li>
<li><p><strong>radius</strong> – Radius of the corners.</p></li>
<li><p><strong>outline</strong> – Color to use for the outline.</p></li>
<li><p><strong>fill</strong> – Color to use for the fill.</p></li>
<li><p><strong>width</strong> – The line width, in pixels.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.2.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.shape">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.shape" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
<p>Draw a shape.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.text">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the string at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The anchor coordinates of the text.</p></li>
<li><p><strong>text</strong> – String to be drawn. If it contains any newline characters,
the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_text()</span></code></a>.</p></li>
<li><p><strong>fill</strong> – Color to use for the text.</p></li>
<li><p><strong>font</strong> – An <a class="reference internal" href="index.html#PIL.ImageFont.ImageFont" title="PIL.ImageFont.ImageFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFont</span></code></a> instance.</p></li>
<li><p><strong>anchor</strong> – <p>The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values. This parameter is
ignored for non-TrueType fonts.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter was present in earlier versions
of Pillow, but implemented only in version 8.0.0.</p>
</div>
</div></blockquote>
</p></li>
<li><p><strong>spacing</strong> – If the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_text()</span></code></a>,
the number of pixels between lines.</p></li>
<li><p><strong>align</strong> – If the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_text()</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">&quot;left&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code>. Determines the relative alignment of lines.
Use the <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter to specify the alignment to <code class="docutils literal notranslate"><span class="pre">xy</span></code>.</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_fill</strong> – <p>Color to use for the text stroke. If not given, will default to
the <code class="docutils literal notranslate"><span class="pre">fill</span></code> parameter.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>embedded_color</strong> – <p>Whether to use font embedded color glyphs (COLR, CBDT, SBIX).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.multiline_text">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">multiline_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.multiline_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.multiline_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the string at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The anchor coordinates of the text.</p></li>
<li><p><strong>text</strong> – String to be drawn.</p></li>
<li><p><strong>fill</strong> – Color to use for the text.</p></li>
<li><p><strong>font</strong> – An <a class="reference internal" href="index.html#PIL.ImageFont.ImageFont" title="PIL.ImageFont.ImageFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFont</span></code></a> instance.</p></li>
<li><p><strong>anchor</strong> – <p>The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values. This parameter is
ignored for non-TrueType fonts.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This parameter was present in earlier versions
of Pillow, but implemented only in version 8.0.0.</p>
</div>
</div></blockquote>
</p></li>
<li><p><strong>spacing</strong> – The number of pixels between lines.</p></li>
<li><p><strong>align</strong> – <code class="docutils literal notranslate"><span class="pre">&quot;left&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code>. Determines the relative alignment of lines.
Use the <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter to specify the alignment to <code class="docutils literal notranslate"><span class="pre">xy</span></code>.</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_fill</strong> – <dl class="simple">
<dt>Color to use for the text stroke. If not given, will default to</dt><dd><p>the <code class="docutils literal notranslate"><span class="pre">fill</span></code> parameter.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>embedded_color</strong> – <p>Whether to use font embedded color glyphs (COLR, CBDT, SBIX).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.textsize">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">textsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.textsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.textsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the given string, in pixels.</p>
<p>Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textlength" title="PIL.ImageDraw.ImageDraw.textlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textlength()</span></code></a> to measure the offset of following text with
1/64 pixel precision.
Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textbbox" title="PIL.ImageDraw.ImageDraw.textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textbbox()</span></code></a> to get the exact bounding box based on an anchor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For historical reasons this function measures text height from
the ascender line instead of the top, see <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a>.
If you wish to measure text height from the top, it is recommended
to use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textbbox" title="PIL.ImageDraw.ImageDraw.textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textbbox()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">anchor='lt'</span></code> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to be measured. If it contains any newline characters,
the text is passed on to <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textsize" title="PIL.ImageDraw.ImageDraw.multiline_textsize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textsize()</span></code></a>.</p></li>
<li><p><strong>font</strong> – An <a class="reference internal" href="index.html#PIL.ImageFont.ImageFont" title="PIL.ImageFont.ImageFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFont</span></code></a> instance.</p></li>
<li><p><strong>spacing</strong> – If the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textsize" title="PIL.ImageDraw.ImageDraw.multiline_textsize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textsize()</span></code></a>,
the number of pixels between lines.</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.multiline_textsize">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">multiline_textsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.multiline_textsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.multiline_textsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the given string, in pixels.</p>
<p>Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textlength" title="PIL.ImageDraw.ImageDraw.textlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textlength()</span></code></a> to measure the offset of following text with
1/64 pixel precision.
Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textbbox" title="PIL.ImageDraw.ImageDraw.textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textbbox()</span></code></a> to get the exact bounding box based on an anchor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For historical reasons this function measures text height as the
distance between the top ascender line and bottom descender line,
not the top and bottom of the text, see <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a>.
If you wish to measure text height from the top to the bottom of text,
it is recommended to use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="PIL.ImageDraw.ImageDraw.multiline_textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textbbox()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to be measured.</p></li>
<li><p><strong>font</strong> – An <a class="reference internal" href="index.html#PIL.ImageFont.ImageFont" title="PIL.ImageFont.ImageFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFont</span></code></a> instance.</p></li>
<li><p><strong>spacing</strong> – The number of pixels between lines.</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.textlength">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">textlength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.textlength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.textlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns length (in pixels with 1/64 precision) of given text when rendered
in font with provided direction, features, and language.</p>
<p>This is the amount by which following text should be offset.
Text bounding box may extend past the length in some fonts,
e.g. when using italics or accents.</p>
<p>The result is returned as a float; it is a whole number if using basic layout.</p>
<p>Note that the sum of two lengths may not equal the length of a concatenated
string due to kerning. If you need to adjust for kerning, include the following
character and subtract its length.</p>
<p>For example, instead of</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># not adjusted for kerning</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>  <span class="c1"># may fail</span>
</pre></div>
</div>
<p>use</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;HelloW&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span> <span class="o">-</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;W&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>  <span class="c1"># adjusted for kerning</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># adjusted for kerning</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>  <span class="c1"># True</span>
</pre></div>
</div>
<p>or disable kerning with (requires libraqm)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># kerning is disabled, no need to adjust</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>  <span class="c1"># True</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to be measured. May not contain any newline characters.</p></li>
<li><p><strong>font</strong> – An <a class="reference internal" href="index.html#PIL.ImageFont.ImageFont" title="PIL.ImageFont.ImageFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFont</span></code></a> instance.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p></li>
<li><p><strong>language</strong> – Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p></li>
<li><p><strong>embedded_color</strong> – Whether to use font embedded color glyphs (COLR, CBDT, SBIX).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.textbbox">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">textbbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.textbbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.textbbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns bounding box (in pixels) of given text relative to given anchor
when rendered in font with provided direction, features, and language.
Only supported for TrueType fonts.</p>
<p>Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textlength" title="PIL.ImageDraw.ImageDraw.textlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textlength()</span></code></a> to get the offset of following text with
1/64 pixel precision. The bounding box includes extra margins for
some fonts, e.g. italics or accents.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The anchor coordinates of the text.</p></li>
<li><p><strong>text</strong> – Text to be measured. If it contains any newline characters,
the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="PIL.ImageDraw.ImageDraw.multiline_textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textbbox()</span></code></a>.</p></li>
<li><p><strong>font</strong> – A <a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont" title="PIL.ImageFont.FreeTypeFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">FreeTypeFont</span></code></a> instance.</p></li>
<li><p><strong>anchor</strong> – The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values. This parameter is
ignored for non-TrueType fonts.</p></li>
<li><p><strong>spacing</strong> – If the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="PIL.ImageDraw.ImageDraw.multiline_textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textbbox()</span></code></a>,
the number of pixels between lines.</p></li>
<li><p><strong>align</strong> – If the text is passed on to
<a class="reference internal" href="#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="PIL.ImageDraw.ImageDraw.multiline_textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multiline_textbbox()</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">&quot;left&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code>. Determines the relative alignment of lines.
Use the <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter to specify the alignment to <code class="docutils literal notranslate"><span class="pre">xy</span></code>.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p></li>
<li><p><strong>language</strong> – Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p></li>
<li><p><strong>stroke_width</strong> – The width of the text stroke.</p></li>
<li><p><strong>embedded_color</strong> – Whether to use font embedded color glyphs (COLR, CBDT, SBIX).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.ImageDraw.multiline_textbbox">
<span class="sig-prename descclassname"><span class="pre">ImageDraw.</span></span><span class="sig-name descname"><span class="pre">multiline_textbbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#ImageDraw.multiline_textbbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns bounding box (in pixels) of given text relative to given anchor
when rendered in font with provided direction, features, and language.
Only supported for TrueType fonts.</p>
<p>Use <a class="reference internal" href="#PIL.ImageDraw.ImageDraw.textlength" title="PIL.ImageDraw.ImageDraw.textlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">textlength()</span></code></a> to get the offset of following text with
1/64 pixel precision. The bounding box includes extra margins for
some fonts, e.g. italics or accents.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The anchor coordinates of the text.</p></li>
<li><p><strong>text</strong> – Text to be measured.</p></li>
<li><p><strong>font</strong> – A <a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont" title="PIL.ImageFont.FreeTypeFont"><code class="xref py py-class docutils literal notranslate"><span class="pre">FreeTypeFont</span></code></a> instance.</p></li>
<li><p><strong>anchor</strong> – The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values. This parameter is
ignored for non-TrueType fonts.</p></li>
<li><p><strong>spacing</strong> – The number of pixels between lines.</p></li>
<li><p><strong>align</strong> – <code class="docutils literal notranslate"><span class="pre">&quot;left&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code>. Determines the relative alignment of lines.
Use the <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter to specify the alignment to <code class="docutils literal notranslate"><span class="pre">xy</span></code>.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be <code class="docutils literal notranslate"><span class="pre">&quot;rtl&quot;</span></code> (right to
left), <code class="docutils literal notranslate"><span class="pre">&quot;ltr&quot;</span></code> (left to right) or <code class="docutils literal notranslate"><span class="pre">&quot;ttb&quot;</span></code> (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example <code class="docutils literal notranslate"><span class="pre">&quot;dlig&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;ss01&quot;</span></code>, but can be also
used to turn off default font features, for
example <code class="docutils literal notranslate"><span class="pre">&quot;-liga&quot;</span></code> to disable ligatures or <code class="docutils literal notranslate"><span class="pre">&quot;-kern&quot;</span></code>
to disable kerning.  To get all supported
features, see <a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">OpenType docs</a>.
Requires libraqm.</p></li>
<li><p><strong>language</strong> – Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>.
Requires libraqm.</p></li>
<li><p><strong>stroke_width</strong> – The width of the text stroke.</p></li>
<li><p><strong>embedded_color</strong> – Whether to use font embedded color glyphs (COLR, CBDT, SBIX).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.getdraw">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw.</span></span><span class="sig-name descname"><span class="pre">getdraw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#getdraw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.getdraw" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
<p>A more advanced 2D drawing interface for PIL images,
based on the WCK interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – The image to draw in.</p></li>
<li><p><strong>hints</strong> – An optional list of hints.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A (drawing context, drawing resource factory) tuple.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw.floodfill">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw.</span></span><span class="sig-name descname"><span class="pre">floodfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw.html#floodfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw.floodfill" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
<p>Fills a bounded region with a given color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – Target image.</p></li>
<li><p><strong>xy</strong> – Seed position (a 2-item coordinate tuple).</p></li>
<li><p><strong>value</strong> – Fill color.</p></li>
<li><p><strong>border</strong> – Optional border value.  If given, the region consists of
pixels with a color different from the border color.  If not given,
the region consists of pixels having the same color as the seed
pixel.</p></li>
<li><p><strong>thresh</strong> – Optional threshold value which specifies a maximum
tolerable difference of a pixel value from the ‘background’ in
order for it to be replaced. Useful for filling regions of non-
homogeneous, but similar, colors.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageEnhance"></span><span class="target" id="module-PIL.ImageEnhance"></span><section id="imageenhance-module">
<h3><a class="reference internal" href="#module-PIL.ImageEnhance" title="PIL.ImageEnhance"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageEnhance</span></code></a> Module<a class="headerlink" href="#imageenhance-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageEnhance" title="PIL.ImageEnhance"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageEnhance</span></code></a> module contains a number of classes that can be used
for image enhancement.</p>
<section id="example-vary-the-sharpness-of-an-image">
<h4>Example: Vary the sharpness of an image<a class="headerlink" href="#example-vary-the-sharpness-of-an-image" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageEnhance</span>

<span class="n">enhancer</span> <span class="o">=</span> <span class="n">ImageEnhance</span><span class="o">.</span><span class="n">Sharpness</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">factor</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mf">4.0</span>
    <span class="n">enhancer</span><span class="o">.</span><span class="n">enhance</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sharpness </span><span class="si">{</span><span class="n">factor</span><span class="si">:</span><span class="s2">f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Also see the <code class="file docutils literal notranslate"><span class="pre">enhancer.py</span></code> demo program in the <code class="file docutils literal notranslate"><span class="pre">Scripts/</span></code>
directory.</p>
</section>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<p>All enhancement classes implement a common interface, containing a single
method:</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageEnhance._Enhance">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageEnhance.</span></span><span class="sig-name descname"><span class="pre">_Enhance</span></span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#_Enhance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance._Enhance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageEnhance._Enhance.enhance">
<span class="sig-name descname"><span class="pre">enhance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#_Enhance.enhance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance._Enhance.enhance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an enhanced image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> – A floating point value controlling the enhancement.
Factor 1.0 always returns a copy of the original image,
lower factors mean less color (brightness, contrast,
etc), and higher values more. There are no restrictions
on this value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageEnhance.Color">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageEnhance.</span></span><span class="sig-name descname"><span class="pre">Color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#Color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance.Color" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust image color balance.</p>
<p>This class can be used to adjust the colour balance of an image, in
a manner similar to the controls on a colour TV set. An enhancement
factor of 0.0 gives a black and white image. A factor of 1.0 gives
the original image.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageEnhance.Contrast">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageEnhance.</span></span><span class="sig-name descname"><span class="pre">Contrast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#Contrast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance.Contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust image contrast.</p>
<p>This class can be used to control the contrast of an image, similar
to the contrast control on a TV set. An enhancement factor of 0.0
gives a solid grey image. A factor of 1.0 gives the original image.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageEnhance.Brightness">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageEnhance.</span></span><span class="sig-name descname"><span class="pre">Brightness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#Brightness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance.Brightness" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust image brightness.</p>
<p>This class can be used to control the brightness of an image.  An
enhancement factor of 0.0 gives a black image. A factor of 1.0 gives the
original image.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageEnhance.Sharpness">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageEnhance.</span></span><span class="sig-name descname"><span class="pre">Sharpness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageEnhance.html#Sharpness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageEnhance.Sharpness" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust image sharpness.</p>
<p>This class can be used to adjust the sharpness of an image. An
enhancement factor of 0.0 gives a blurred image, a factor of 1.0 gives the
original image, and a factor of 2.0 gives a sharpened image.</p>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageFile"></span><span class="target" id="module-PIL.ImageFile"></span><section id="imagefile-module">
<h3><a class="reference internal" href="#module-PIL.ImageFile" title="PIL.ImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFile</span></code></a> Module<a class="headerlink" href="#imagefile-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageFile" title="PIL.ImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFile</span></code></a> module provides support functions for the image open
and save functions.</p>
<p>In addition, it provides a <a class="reference internal" href="#PIL.ImageFile.Parser" title="PIL.ImageFile.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a> class which can be used to decode
an image piece by piece (e.g. while receiving it over a network connection).
This class implements the same consumer interface as the standard <strong>sgmllib</strong>
and <strong>xmllib</strong> modules.</p>
<section id="example-parse-an-image">
<h4>Example: Parse an image<a class="headerlink" href="#example-parse-an-image" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFile</span>

<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;hopper.pgm&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">ImageFile</span><span class="o">.</span><span class="n">Parser</span><span class="p">()</span>

<span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">p</span><span class="o">.</span><span class="n">feed</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">im</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;copy.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFile.Parser">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">Parser</span></span><a class="reference internal" href="_modules/PIL/ImageFile.html#Parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Incremental image parser.  This class implements the standard
feed/close consumer interface.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.Parser.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#Parser.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.Parser.close" title="Permalink to this definition">¶</a></dt>
<dd><p>(Consumer) Close the stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An image object.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the parser failed to parse the image file either
because it cannot be identified or cannot be
decoded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.Parser.feed">
<span class="sig-name descname"><span class="pre">feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#Parser.feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.Parser.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>(Consumer) Feed data to the parser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – A string buffer.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the parser failed to parse the image file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.Parser.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#Parser.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.Parser.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>(Consumer) Reset the parser.  Note that you can only call this
method immediately after you’ve created a parser; parser
instances cannot be reused.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">PyDecoder</span></span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Python implementation of a format decoder. Override this class and
add the decoding logic in the <a class="reference internal" href="#PIL.ImageFile.PyDecoder.decode" title="PIL.ImageFile.PyDecoder.decode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">decode()</span></code></a> method.</p>
<p>See <a class="reference internal" href="index.html#file-decoders-py"><span class="std std-ref">Writing Your Own File Decoder in Python</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to perform decoder specific cleanup</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to perform the decoding process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer</strong> – A bytes object with the data to be decoded.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of <code class="docutils literal notranslate"><span class="pre">(bytes</span> <span class="pre">consumed,</span> <span class="pre">errcode)</span></code>.
If finished with decoding return &lt;0 for the bytes consumed.
Err codes are from <a class="reference internal" href="#PIL.ImageFile.ERRORS" title="PIL.ImageFile.ERRORS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFile.ERRORS</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to perform decoder specific initialization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – Array of args items from the tile entry</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.set_as_raw">
<span class="sig-name descname"><span class="pre">set_as_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rawmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.set_as_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.set_as_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to set the internal image from a stream of raw data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Bytes to be set</p></li>
<li><p><strong>rawmode</strong> – The rawmode to be used for the decoder.
If not specified, it will default to the mode of the image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.setfd">
<span class="sig-name descname"><span class="pre">setfd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.setfd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.setfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Called from ImageFile to set the python file-like object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fd</strong> – A python file-like object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.PyDecoder.setimage">
<span class="sig-name descname"><span class="pre">setimage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#PyDecoder.setimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.PyDecoder.setimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Called from ImageFile to set the core output image for the decoder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – A core image object</p></li>
<li><p><strong>extents</strong> – a 4 tuple of (x0, y0, x1, y1) defining the rectangle
for this tile</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">ImageFile</span></span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code></a></p>
<p>Base class for image file format handlers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.tile">
<span class="sig-name descname"><span class="pre">tile</span></span><a class="headerlink" href="#PIL.ImageFile.ImageFile.tile" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of tile descriptors, or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.get_format_mimetype">
<span class="sig-name descname"><span class="pre">get_format_mimetype</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile.get_format_mimetype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile.get_format_mimetype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Check file integrity</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.load_prepare">
<span class="sig-name descname"><span class="pre">load_prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile.load_prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile.load_prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.ImageFile.load_end">
<span class="sig-name descname"><span class="pre">load_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#ImageFile.load_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.ImageFile.load_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFile.StubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">StubImageFile</span></span><a class="reference internal" href="_modules/PIL/ImageFile.html#StubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.StubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>Base class for stub image loaders.</p>
<p>A stub loader is an image loader that can identify files of a
certain format, but relies on external code to load the file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFile.StubImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFile.html#StubImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFile.StubImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

</dd></dl>

</section>
<section id="constants">
<h4>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h4>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.ImageFile.LOAD_TRUNCATED_IMAGES">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">LOAD_TRUNCATED_IMAGES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#PIL.ImageFile.LOAD_TRUNCATED_IMAGES" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not to load truncated image files. User code may change this.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.ImageFile.ERRORS">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFile.</span></span><span class="sig-name descname"><span class="pre">ERRORS</span></span><a class="headerlink" href="#PIL.ImageFile.ERRORS" title="Permalink to this definition">¶</a></dt>
<dd><p>Dict of known error codes returned from <a class="reference internal" href="#PIL.ImageFile.PyDecoder.decode" title="PIL.ImageFile.PyDecoder.decode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PyDecoder.decode()</span></code></a>.</p>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageFilter"></span><span class="target" id="module-PIL.ImageFilter"></span><section id="imagefilter-module">
<h3><a class="reference internal" href="#module-PIL.ImageFilter" title="PIL.ImageFilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFilter</span></code></a> Module<a class="headerlink" href="#imagefilter-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageFilter" title="PIL.ImageFilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFilter</span></code></a> module contains definitions for a pre-defined set of
filters, which can be be used with the <a class="reference internal" href="index.html#PIL.Image.Image.filter" title="PIL.Image.Image.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Image.filter()</span></code></a> method.</p>
<section id="example-filter-an-image">
<h4>Example: Filter an image<a class="headerlink" href="#example-filter-an-image" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFilter</span>

<span class="n">im1</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">BLUR</span><span class="p">)</span>

<span class="n">im2</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">MinFilter</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="n">im3</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">MinFilter</span><span class="p">)</span>  <span class="c1"># same as MinFilter(3)</span>
</pre></div>
</div>
</section>
<section id="filters">
<h4>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h4>
<p>The current version of the library provides the following set of predefined
image enhancement filters:</p>
<ul class="simple">
<li><p><strong>BLUR</strong></p></li>
<li><p><strong>CONTOUR</strong></p></li>
<li><p><strong>DETAIL</strong></p></li>
<li><p><strong>EDGE_ENHANCE</strong></p></li>
<li><p><strong>EDGE_ENHANCE_MORE</strong></p></li>
<li><p><strong>EMBOSS</strong></p></li>
<li><p><strong>FIND_EDGES</strong></p></li>
<li><p><strong>SHARPEN</strong></p></li>
<li><p><strong>SMOOTH</strong></p></li>
<li><p><strong>SMOOTH_MORE</strong></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.Color3DLUT">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">Color3DLUT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#Color3DLUT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.Color3DLUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Three-dimensional color lookup table.</p>
<p>Transforms 3-channel pixels using the values of the channels as coordinates
in the 3D lookup table and interpolating the nearest elements.</p>
<p>This method allows you to apply almost any color transformation
in constant time by using pre-calculated decimated tables.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.2.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – Size of the table. One int or tuple of (int, int, int).
Minimal size in any dimension is 2, maximum is 65.</p></li>
<li><p><strong>table</strong> – Flat lookup table. A list of <code class="docutils literal notranslate"><span class="pre">channels</span> <span class="pre">*</span> <span class="pre">size**3</span></code>
float elements or a list of <code class="docutils literal notranslate"><span class="pre">size**3</span></code> channels-sized
tuples with floats. Channels are changed first,
then first dimension, then second, then third.
Value 0.0 corresponds lowest value of output, 1.0 highest.</p></li>
<li><p><strong>channels</strong> – Number of channels in the table. Could be 3 or 4.
Default is 3.</p></li>
<li><p><strong>target_mode</strong> – A mode for the result image. Should have not less
than <code class="docutils literal notranslate"><span class="pre">channels</span></code> channels. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which means that mode wouldn’t be changed.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFilter.Color3DLUT.generate">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#Color3DLUT.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.Color3DLUT.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates new LUT using provided callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – Size of the table. Passed to the constructor.</p></li>
<li><p><strong>callback</strong> – Function with three parameters which correspond
three color channels. Will be called <code class="docutils literal notranslate"><span class="pre">size**3</span></code>
times with values from 0.0 to 1.0 and should return
a tuple with <code class="docutils literal notranslate"><span class="pre">channels</span></code> elements.</p></li>
<li><p><strong>channels</strong> – The number of channels which should return callback.</p></li>
<li><p><strong>target_mode</strong> – Passed to the constructor of the resulting
lookup table.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFilter.Color3DLUT.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_normals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#Color3DLUT.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.Color3DLUT.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the table values using provided callback and returns
a new LUT with altered values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callback</strong> – A function which takes old lookup table values
and returns a new set of values. The number
of arguments which function should take is
<code class="docutils literal notranslate"><span class="pre">self.channels</span></code> or <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">+</span> <span class="pre">self.channels</span></code>
if <code class="docutils literal notranslate"><span class="pre">with_normals</span></code> flag is set.
Should return a tuple of <code class="docutils literal notranslate"><span class="pre">self.channels</span></code> or
<code class="docutils literal notranslate"><span class="pre">channels</span></code> elements if it is set.</p></li>
<li><p><strong>with_normals</strong> – If true, <code class="docutils literal notranslate"><span class="pre">callback</span></code> will be called with
coordinates in the color cube as the first
three arguments. Otherwise, <code class="docutils literal notranslate"><span class="pre">callback</span></code>
will be called only with actual color values.</p></li>
<li><p><strong>channels</strong> – The number of channels in the resulting lookup table.</p></li>
<li><p><strong>target_mode</strong> – Passed to the constructor of the resulting
lookup table.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.BoxBlur">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">BoxBlur</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#BoxBlur"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.BoxBlur" title="Permalink to this definition">¶</a></dt>
<dd><p>Blurs the image by setting each pixel to the average value of the pixels
in a square box extending radius pixels in each direction.
Supports float radius of arbitrary size. Uses an optimized implementation
which runs in linear time relative to the size of the image
for any radius value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>radius</strong> – Size of the box in one direction. Radius 0 does not blur,
returns an identical image. Radius 1 takes 1 pixel
in each direction, i.e. 9 pixels in total.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.GaussianBlur">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">GaussianBlur</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#GaussianBlur"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.GaussianBlur" title="Permalink to this definition">¶</a></dt>
<dd><p>Blurs the image with a sequence of extended box filters, which
approximates a Gaussian kernel. For details on accuracy see
&lt;<a class="reference external" href="https://www.mia.uni-saarland.de/Publications/gwosdek-ssvm11.pdf">https://www.mia.uni-saarland.de/Publications/gwosdek-ssvm11.pdf</a>&gt;</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>radius</strong> – Standard deviation of the Gaussian kernel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.UnsharpMask">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">UnsharpMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">150</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#UnsharpMask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.UnsharpMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsharp mask filter.</p>
<p>See Wikipedia’s entry on <a class="reference external" href="https://en.wikipedia.org/wiki/Unsharp_masking#Digital_unsharp_masking">digital unsharp masking</a> for an explanation of
the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> – Blur Radius</p></li>
<li><p><strong>percent</strong> – Unsharp strength, in percent</p></li>
<li><p><strong>threshold</strong> – Threshold controls the minimum brightness change that
will be sharpened</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.Kernel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">Kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#Kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.Kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a convolution kernel.  The current version only
supports 3x3 and 5x5 integer and floating point kernels.</p>
<p>In the current version, kernels can only be applied to
“L” and “RGB” images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – Kernel size, given as (width, height). In the current
version, this must be (3,3) or (5,5).</p></li>
<li><p><strong>kernel</strong> – A sequence containing kernel weights.</p></li>
<li><p><strong>scale</strong> – Scale factor. If given, the result for each pixel is
divided by this value.  The default is the sum of the
kernel weights.</p></li>
<li><p><strong>offset</strong> – Offset. If given, this value is added to the result,
after it has been divided by the scale factor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.RankFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">RankFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#RankFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.RankFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a rank filter.  The rank filter sorts all pixels in
a window of the given size, and returns the <code class="docutils literal notranslate"><span class="pre">rank</span></code>’th value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – The kernel size, in pixels.</p></li>
<li><p><strong>rank</strong> – What pixel value to pick.  Use 0 for a min filter,
<code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">*</span> <span class="pre">size</span> <span class="pre">/</span> <span class="pre">2</span></code> for a median filter, <code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">*</span> <span class="pre">size</span> <span class="pre">-</span> <span class="pre">1</span></code>
for a max filter, etc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.MedianFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">MedianFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#MedianFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.MedianFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a median filter. Picks the median pixel value in a window with the
given size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – The kernel size, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.MinFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">MinFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#MinFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.MinFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a min filter.  Picks the lowest pixel value in a window with the
given size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – The kernel size, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.MaxFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">MaxFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#MaxFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.MaxFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a max filter.  Picks the largest pixel value in a window with the
given size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – The kernel size, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.ModeFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">ModeFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFilter.html#ModeFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.ModeFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mode filter. Picks the most frequent pixel value in a box with the
given size.  Pixel values that occur only once or twice are ignored; if no
pixel value occurs more than twice, the original pixel value is preserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – The kernel size, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.Filter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">Filter</span></span><a class="reference internal" href="_modules/PIL/ImageFilter.html#Filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract mixin used for filtering images
(for use with <a class="reference internal" href="index.html#PIL.Image.Image.filter" title="PIL.Image.Image.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter()</span></code></a>).</p>
<p>Implementors must provide the following method:</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFilter.Filter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageFilter.Filter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a filter to a single-band image, or a single band of an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A filtered copy of the image.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFilter.MultibandFilter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFilter.</span></span><span class="sig-name descname"><span class="pre">MultibandFilter</span></span><a class="reference internal" href="_modules/PIL/ImageFilter.html#MultibandFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFilter.MultibandFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract mixin used for filtering multi-band images
(for use with <a class="reference internal" href="index.html#PIL.Image.Image.filter" title="PIL.Image.Image.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter()</span></code></a>).</p>
<p>Implementors must provide the following method:</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFilter.MultibandFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageFilter.MultibandFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a filter to a multi-band image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A filtered copy of the image.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-reference/ImageFont"></span><span class="target" id="module-PIL.ImageFont"></span><section id="imagefont-module">
<h3><a class="reference internal" href="#module-PIL.ImageFont" title="PIL.ImageFont"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFont</span></code></a> Module<a class="headerlink" href="#imagefont-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageFont" title="PIL.ImageFont"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageFont</span></code></a> module defines a class with the same name. Instances of
this class store bitmap fonts, and are used with the
<a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.text()</span></code></a> method.</p>
<p>PIL uses its own font file format to store bitmap fonts, limited to 256 characters. You can use
<a class="reference external" href="https://github.com/python-pillow/pillow-scripts/blob/master/Scripts/pilfont.py">pilfont.py</a>
from <a class="reference external" href="https://pypi.org/project/pillow-scripts/">pillow-scripts</a> to convert BDF and
PCF font descriptors (X window font formats) to this format.</p>
<p>Starting with version 1.1.4, PIL can be configured to support TrueType and
OpenType fonts (as well as other font formats supported by the FreeType
library). For earlier versions, TrueType support is only available as part of
the imToolkit package.</p>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFont</span><span class="p">,</span> <span class="n">ImageDraw</span>

<span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="c1"># use a bitmap font</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;arial.pil&quot;</span><span class="p">)</span>

<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

<span class="c1"># use a truetype font</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;arial.ttf&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageFont.load">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a font file.  This function loads a font object from the given
bitmap font file, and returns the corresponding font object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – Name of font file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A font object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the file could not be read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageFont.load_path">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">load_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#load_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.load_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Load font file. Same as <a class="reference internal" href="#PIL.ImageFont.load" title="PIL.ImageFont.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, but searches for a
bitmap font along the Python path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – Name of font file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A font object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the file could not be read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageFont.truetype">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">truetype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#truetype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.truetype" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a TrueType or OpenType font from a file or file-like object,
and create a font object.
This function loads a font object from the given file or file-like
object, and creates a font object for a font of the given size.</p>
<p>Pillow uses FreeType to open font files. If you are opening many fonts
simultaneously on Windows, be aware that Windows limits the number of files
that can be open in C at once to 512. If you approach that limit, an
<code class="docutils literal notranslate"><span class="pre">OSError</span></code> may be thrown, reporting that FreeType “cannot open resource”.</p>
<p>This function requires the _imagingft service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>font</strong> – A filename or file-like object containing a TrueType font.
If the file is not found in this filename, the loader may also
search in other directories, such as the <code class="file docutils literal notranslate"><span class="pre">fonts/</span></code>
directory on Windows or <code class="file docutils literal notranslate"><span class="pre">/Library/Fonts/</span></code>,
<code class="file docutils literal notranslate"><span class="pre">/System/Library/Fonts/</span></code> and <code class="file docutils literal notranslate"><span class="pre">~/Library/Fonts/</span></code> on
macOS.</p></li>
<li><p><strong>size</strong> – The requested size, in points.</p></li>
<li><p><strong>index</strong> – Which font face to load (default is first available face).</p></li>
<li><p><strong>encoding</strong> – <p>Which font encoding to use (default is Unicode). Possible
encodings include (see the FreeType documentation for more
information):</p>
<ul>
<li><p>”unic” (Unicode)</p></li>
<li><p>”symb” (Microsoft Symbol)</p></li>
<li><p>”ADOB” (Adobe Standard)</p></li>
<li><p>”ADBE” (Adobe Expert)</p></li>
<li><p>”ADBC” (Adobe Custom)</p></li>
<li><p>”armn” (Apple Roman)</p></li>
<li><p>”sjis” (Shift JIS)</p></li>
<li><p>”gb  ” (PRC)</p></li>
<li><p>”big5”</p></li>
<li><p>”wans” (Extended Wansung)</p></li>
<li><p>”joha” (Johab)</p></li>
<li><p>”lat1” (Latin-1)</p></li>
</ul>
<p>This specifies the character set to use. It does not alter the
encoding of any text provided in subsequent operations.</p>
</p></li>
<li><p><strong>layout_engine</strong> – <p>Which layout engine to use, if available:
<a class="reference internal" href="#PIL.ImageFont.PIL.ImageFont.LAYOUT_BASIC" title="PIL.ImageFont.PIL.ImageFont.LAYOUT_BASIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFont.LAYOUT_BASIC</span></code></a> or <a class="reference internal" href="#PIL.ImageFont.PIL.ImageFont.LAYOUT_RAQM" title="PIL.ImageFont.PIL.ImageFont.LAYOUT_RAQM"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFont.LAYOUT_RAQM</span></code></a>.</p>
<p>You can check support for Raqm layout using
<a class="reference internal" href="index.html#PIL.features.check_feature" title="PIL.features.check_feature"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.check_feature()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">feature=&quot;raqm&quot;</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A font object.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the file could not be read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageFont.load_default">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">load_default</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#load_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.load_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a “better than nothing” default font.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A font object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFont.ImageFont">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">ImageFont</span></span><a class="reference internal" href="_modules/PIL/ImageFont.html#ImageFont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.ImageFont" title="Permalink to this definition">¶</a></dt>
<dd><p>PIL font wrapper</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.ImageFont.getmask">
<span class="sig-name descname"><span class="pre">getmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#ImageFont.getmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.ImageFont.getmask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a bitmap for the text.</p>
<p>If the font uses antialiasing, the bitmap should have mode <code class="docutils literal notranslate"><span class="pre">L</span></code> and use a
maximum value of 255. Otherwise, it should have mode <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to render.</p></li>
<li><p><strong>mode</strong> – <p>Used by some graphics drivers to indicate what mode the
driver prefers; if empty, the renderer may return either
mode. Note that the mode is always a string, to simplify
C-level implementations.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An internal PIL storage memory instance as defined by the
<a class="reference internal" href="index.html#module-PIL.Image.core" title="PIL.Image.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.Image.core</span></code></a> interface module.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.ImageFont.getsize">
<span class="sig-name descname"><span class="pre">getsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#ImageFont.getsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.ImageFont.getsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns width and height (in pixels) of given text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – Text to measure.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(width, height)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">FreeTypeFont</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont" title="Permalink to this definition">¶</a></dt>
<dd><p>FreeType font wrapper (requires _imagingft service)</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.font_variant">
<span class="sig-name descname"><span class="pre">font_variant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.font_variant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.font_variant" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a copy of this FreeTypeFont object,
using any specified arguments to override the settings.</p>
<p>Parameters are identical to the parameters used to initialize this
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A FreeTypeFont object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.get_variation_axes">
<span class="sig-name descname"><span class="pre">get_variation_axes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.get_variation_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.get_variation_axes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of the axes in a variation font.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the font is not a variation font.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.get_variation_names">
<span class="sig-name descname"><span class="pre">get_variation_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.get_variation_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.get_variation_names" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of the named styles in a variation font.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the font is not a variation font.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getbbox">
<span class="sig-name descname"><span class="pre">getbbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getbbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getbbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns bounding box (in pixels) of given text relative to given anchor
when rendered in font with provided direction, features, and language.</p>
<p>Use <a class="reference internal" href="#PIL.ImageFont.FreeTypeFont.getlength" title="PIL.ImageFont.FreeTypeFont.getlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlength()</span></code></a> to get the offset of following text with
1/64 pixel precision. The bounding box includes extra margins for
some fonts, e.g. italics or accents.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to render.</p></li>
<li><p><strong>mode</strong> – Used by some graphics drivers to indicate what mode the
driver prefers; if empty, the renderer may return either
mode. Note that the mode is always a string, to simplify
C-level implementations.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p></li>
<li><p><strong>language</strong> – Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p></li>
<li><p><strong>stroke_width</strong> – The width of the text stroke.</p></li>
<li><p><strong>anchor</strong> – The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">(left,</span> <span class="pre">top,</span> <span class="pre">right,</span> <span class="pre">bottom)</span></code> bounding box</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getlength">
<span class="sig-name descname"><span class="pre">getlength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getlength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns length (in pixels with 1/64 precision) of given text when rendered
in font with provided direction, features, and language.</p>
<p>This is the amount by which following text should be offset.
Text bounding box may extend past the length in some fonts,
e.g. when using italics or accents.</p>
<p>The result is returned as a float; it is a whole number if using basic layout.</p>
<p>Note that the sum of two lengths may not equal the length of a concatenated
string due to kerning. If you need to adjust for kerning, include the following
character and subtract its length.</p>
<p>For example, instead of</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># not adjusted for kerning</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">)</span>  <span class="c1"># may fail</span>
</pre></div>
</div>
<p>use</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;HelloW&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;W&quot;</span><span class="p">)</span>  <span class="c1"># adjusted for kerning</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">)</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># adjusted for kerning</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">font</span><span class="o">.</span><span class="n">getlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">)</span>  <span class="c1"># True</span>
</pre></div>
</div>
<p>or disable kerning with (requires libraqm)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>
<span class="n">world</span> <span class="o">=</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>
<span class="n">hello_world</span> <span class="o">=</span> <span class="n">hello</span> <span class="o">+</span> <span class="n">world</span>  <span class="c1"># kerning is disabled, no need to adjust</span>
<span class="k">assert</span> <span class="n">hello_world</span> <span class="o">==</span> <span class="n">draw</span><span class="o">.</span><span class="n">textlength</span><span class="p">(</span><span class="s2">&quot;HelloWorld&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-kern&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to measure.</p></li>
<li><p><strong>mode</strong> – Used by some graphics drivers to indicate what mode the
driver prefers; if empty, the renderer may return either
mode. Note that the mode is always a string, to simplify
C-level implementations.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Width for horizontal, height for vertical text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getmask">
<span class="sig-name descname"><span class="pre">getmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ink</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getmask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a bitmap for the text.</p>
<p>If the font uses antialiasing, the bitmap should have mode <code class="docutils literal notranslate"><span class="pre">L</span></code> and use a
maximum value of 255. If the font has embedded color data, the bitmap
should have mode <code class="docutils literal notranslate"><span class="pre">RGBA</span></code>. Otherwise, it should have mode <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to render.</p></li>
<li><p><strong>mode</strong> – <p>Used by some graphics drivers to indicate what mode the
driver prefers; if empty, the renderer may return either
mode. Note that the mode is always a string, to simplify
C-level implementations.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>anchor</strong> – <p>The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><strong>ink</strong> – <p>Foreground ink for rendering in RGBA mode.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An internal PIL storage memory instance as defined by the
<a class="reference internal" href="index.html#module-PIL.Image.core" title="PIL.Image.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.Image.core</span></code></a> interface module.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getmask2">
<span class="sig-name descname"><span class="pre">getmask2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">text</span></em>, <em class="sig-param"><span class="pre">mode=''</span></em>, <em class="sig-param"><span class="pre">fill=&lt;built-in</span> <span class="pre">function</span> <span class="pre">fill&gt;</span></em>, <em class="sig-param"><span class="pre">direction=None</span></em>, <em class="sig-param"><span class="pre">features=None</span></em>, <em class="sig-param"><span class="pre">language=None</span></em>, <em class="sig-param"><span class="pre">stroke_width=0</span></em>, <em class="sig-param"><span class="pre">anchor=None</span></em>, <em class="sig-param"><span class="pre">ink=0</span></em>, <em class="sig-param"><span class="pre">*args</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getmask2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getmask2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a bitmap for the text.</p>
<p>If the font uses antialiasing, the bitmap should have mode <code class="docutils literal notranslate"><span class="pre">L</span></code> and use a
maximum value of 255. If the font has embedded color data, the bitmap
should have mode <code class="docutils literal notranslate"><span class="pre">RGBA</span></code>. Otherwise, it should have mode <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to render.</p></li>
<li><p><strong>mode</strong> – <p>Used by some graphics drivers to indicate what mode the
driver prefers; if empty, the renderer may return either
mode. Note that the mode is always a string, to simplify
C-level implementations.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.5.</span></p>
</div>
</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>anchor</strong> – <p>The text anchor alignment. Determines the relative location of
the anchor to the text. The default alignment is top left.
See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for valid values.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><strong>ink</strong> – <p>Foreground ink for rendering in RGBA mode.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of an internal PIL storage memory instance as defined by the
<a class="reference internal" href="index.html#module-PIL.Image.core" title="PIL.Image.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.Image.core</span></code></a> interface module, and the text offset, the
gap between the starting coordinate and the first marking</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getmetrics">
<span class="sig-name descname"><span class="pre">getmetrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getmetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getmetrics" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of the font ascent (the distance from the baseline to
the highest outline point) and descent (the distance from the
baseline to the lowest outline point, a negative value)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getname">
<span class="sig-name descname"><span class="pre">getname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getname" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of the font family (e.g. Helvetica) and the font style
(e.g. Bold)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getoffset">
<span class="sig-name descname"><span class="pre">getoffset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getoffset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getoffset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the offset of given text. This is the gap between the
starting coordinate and the first marking. Note that this gap is
included in the result of <a class="reference internal" href="#PIL.ImageFont.FreeTypeFont.getsize" title="PIL.ImageFont.FreeTypeFont.getsize"><code class="xref py py-func docutils literal notranslate"><span class="pre">getsize()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – Text to measure.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of the x and y offset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getsize">
<span class="sig-name descname"><span class="pre">getsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns width and height (in pixels) of given text if rendered in font with
provided direction, features, and language.</p>
<p>Use <a class="reference internal" href="#PIL.ImageFont.FreeTypeFont.getlength" title="PIL.ImageFont.FreeTypeFont.getlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlength()</span></code></a> to measure the offset of following text with
1/64 pixel precision.
Use <a class="reference internal" href="#PIL.ImageFont.FreeTypeFont.getbbox" title="PIL.ImageFont.FreeTypeFont.getbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getbbox()</span></code></a> to get the exact bounding box based on an anchor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For historical reasons this function measures text height from
the ascender line instead of the top, see <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a>.
If you wish to measure text height from the top, it is recommended
to use the bottom value of <a class="reference internal" href="#PIL.ImageFont.FreeTypeFont.getbbox" title="PIL.ImageFont.FreeTypeFont.getbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getbbox()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">anchor='lt'</span></code> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to measure.</p></li>
<li><p><strong>direction</strong> – <p>Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>features</strong> – <p>A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.0.</span></p>
</div>
</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(width, height)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.getsize_multiline">
<span class="sig-name descname"><span class="pre">getsize_multiline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.getsize_multiline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.getsize_multiline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns width and height (in pixels) of given text if rendered in font
with provided direction, features, and language, while respecting
newline characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Text to measure.</p></li>
<li><p><strong>direction</strong> – Direction of the text. It can be ‘rtl’ (right to
left), ‘ltr’ (left to right) or ‘ttb’ (top to bottom).
Requires libraqm.</p></li>
<li><p><strong>spacing</strong> – The vertical gap between lines, defaulting to 4 pixels.</p></li>
<li><p><strong>features</strong> – A list of OpenType font features to be used during text
layout. This is usually used to turn on optional
font features that are not enabled by default,
for example ‘dlig’ or ‘ss01’, but can be also
used to turn off default font features for
example ‘-liga’ to disable ligatures or ‘-kern’
to disable kerning.  To get all supported
features, see
<a class="reference external" href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a>
Requires libraqm.</p></li>
<li><p><strong>language</strong> – <p>Language of the text. Different languages may use
different glyph shapes or ligatures. This parameter tells
the font which language the text is in, and to apply the
correct substitutions as appropriate, if available.
It should be a <a class="reference external" href="https://www.w3.org/International/articles/language-tags/">BCP 47 language code</a>
Requires libraqm.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.0.</span></p>
</div>
</p></li>
<li><p><strong>stroke_width</strong> – <p>The width of the text stroke.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(width, height)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.set_variation_by_axes">
<span class="sig-name descname"><span class="pre">set_variation_by_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.set_variation_by_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.set_variation_by_axes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axes</strong> – A list of values for each axis.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the font is not a variation font.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageFont.FreeTypeFont.set_variation_by_name">
<span class="sig-name descname"><span class="pre">set_variation_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#FreeTypeFont.set_variation_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.FreeTypeFont.set_variation_by_name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the style.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the font is not a variation font.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageFont.TransposedFont">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">TransposedFont</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageFont.html#TransposedFont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageFont.TransposedFont" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for writing rotated or mirrored text</p>
</dd></dl>

</section>
<section id="constants">
<h4>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h4>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.ImageFont.PIL.ImageFont.LAYOUT_BASIC">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">LAYOUT_BASIC</span></span><a class="headerlink" href="#PIL.ImageFont.PIL.ImageFont.LAYOUT_BASIC" title="Permalink to this definition">¶</a></dt>
<dd><p>Use basic text layout for TrueType font.
Advanced features such as text direction are not supported.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.ImageFont.PIL.ImageFont.LAYOUT_RAQM">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageFont.</span></span><span class="sig-name descname"><span class="pre">LAYOUT_RAQM</span></span><a class="headerlink" href="#PIL.ImageFont.PIL.ImageFont.LAYOUT_RAQM" title="Permalink to this definition">¶</a></dt>
<dd><p>Use Raqm text layout for TrueType font.
Advanced features are supported.</p>
<p>Requires Raqm, you can check support using
<a class="reference internal" href="index.html#PIL.features.check_feature" title="PIL.features.check_feature"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.check_feature()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">feature=&quot;raqm&quot;</span></code>.</p>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageGrab"></span><span class="target" id="module-PIL.ImageGrab"></span><section id="imagegrab-module">
<h3><a class="reference internal" href="#module-PIL.ImageGrab" title="PIL.ImageGrab"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageGrab</span></code></a> Module<a class="headerlink" href="#imagegrab-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageGrab" title="PIL.ImageGrab"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageGrab</span></code></a> module can be used to copy the contents of the screen
or the clipboard to a PIL image memory.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.3.</span></p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageGrab.grab">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageGrab.</span></span><span class="sig-name descname"><span class="pre">grab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_layered_windows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_screens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdisplay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageGrab.html#grab"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageGrab.grab" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a snapshot of the screen. The pixels inside the bounding box are
returned as an “RGBA” on macOS, or an “RGB” image otherwise.
If the bounding box is omitted, the entire screen is copied.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.3: </span>(Windows), 3.0.0 (macOS), 7.1.0 (Linux (X11))</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bbox</strong> – What region to copy. Default is the entire screen.
Note that on Windows OS, the top-left point may be negative if <code class="docutils literal notranslate"><span class="pre">all_screens=True</span></code> is used.</p></li>
<li><p><strong>include_layered_windows</strong> – <p>Includes layered windows. Windows OS only.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.1.0.</span></p>
</div>
</p></li>
<li><p><strong>all_screens</strong> – <p>Capture all monitors. Windows OS only.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.0.</span></p>
</div>
</p></li>
<li><p><strong>xdisplay</strong> – <p>X11 Display address. Pass <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> to grab the default system screen. Pass <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> to grab the default X11 screen on Windows or macOS.</p>
<p>You can check X11 support using <a class="reference internal" href="index.html#PIL.features.check_feature" title="PIL.features.check_feature"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.check_feature()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">feature=&quot;xcb&quot;</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.1.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageGrab.grabclipboard">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageGrab.</span></span><span class="sig-name descname"><span class="pre">grabclipboard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageGrab.html#grabclipboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageGrab.grabclipboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a snapshot of the clipboard image, if any. Only macOS and Windows are currently supported.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.4: </span>(Windows), 3.3.0 (macOS)</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>On Windows, an image, a list of filenames,
or None if the clipboard does not contain image data or filenames.
Note that if a list is returned, the filenames may not represent image files.</p>
<p>On Mac, an image,
or None if the clipboard does not contain image data.</p>
</p>
</dd>
</dl>
</dd></dl>

</section>
<span id="document-reference/ImageMath"></span><span class="target" id="module-PIL.ImageMath"></span><section id="imagemath-module">
<h3><a class="reference internal" href="#module-PIL.ImageMath" title="PIL.ImageMath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMath</span></code></a> Module<a class="headerlink" href="#imagemath-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageMath" title="PIL.ImageMath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMath</span></code></a> module can be used to evaluate “image expressions”. The
module provides a single <a class="reference internal" href="#PIL.ImageMath.eval" title="PIL.ImageMath.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">eval()</span></code></a> function, which takes
an expression string and one or more images.</p>
<section id="example-using-the-imagemath-module">
<h4>Example: Using the <a class="reference internal" href="#module-PIL.ImageMath" title="PIL.ImageMath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMath</span></code></a> module<a class="headerlink" href="#example-using-the-imagemath-module" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageMath</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image1.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im1</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image2.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im2</span><span class="p">:</span>

        <span class="n">out</span> <span class="o">=</span> <span class="n">ImageMath</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;convert(min(a, b), &#39;L&#39;)&quot;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">im1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">im2</span><span class="p">)</span>
        <span class="n">out</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;result.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageMath.eval">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageMath.</span></span><span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMath.html#eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageMath.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate expression in the given environment.</p>
<p>In the current version, <a class="reference internal" href="#module-PIL.ImageMath" title="PIL.ImageMath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMath</span></code></a> only supports
single-layer images. To process multi-band images, use the
<a class="reference internal" href="index.html#PIL.Image.Image.split" title="PIL.Image.Image.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code></a> method or <a class="reference internal" href="index.html#PIL.Image.merge" title="PIL.Image.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a>
function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – A string which uses the standard Python expression
syntax. In addition to the standard operators, you can
also use the functions described below.</p></li>
<li><p><strong>environment</strong> – A dictionary that maps image names to Image instances.
You can use one or more keyword arguments instead of a
dictionary, as shown in the above example. Note that
the names must be valid Python identifiers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image, an integer value, a floating point value,
or a pixel tuple, depending on the expression.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="expression-syntax">
<h4>Expression syntax<a class="headerlink" href="#expression-syntax" title="Permalink to this headline">¶</a></h4>
<p>Expressions are standard Python expressions, but they’re evaluated in a
non-standard environment. You can use PIL methods as usual, plus the following
set of operators and functions:</p>
<section id="standard-operators">
<h5>Standard Operators<a class="headerlink" href="#standard-operators" title="Permalink to this headline">¶</a></h5>
<p>You can use standard arithmetical operators for addition (+), subtraction (-),
multiplication (*), and division (/).</p>
<p>The module also supports unary minus (-), modulo (%), and power (**) operators.</p>
<p>Note that all operations are done with 32-bit integers or 32-bit floating
point values, as necessary. For example, if you add two 8-bit images, the
result will be a 32-bit integer image. If you add a floating point constant to
an 8-bit image, the result will be a 32-bit floating point image.</p>
<p>You can force conversion using the <code class="docutils literal notranslate"><span class="pre">convert()</span></code>, <code class="docutils literal notranslate"><span class="pre">float()</span></code>, and <code class="docutils literal notranslate"><span class="pre">int()</span></code>
functions described below.</p>
</section>
<section id="bitwise-operators">
<h5>Bitwise Operators<a class="headerlink" href="#bitwise-operators" title="Permalink to this headline">¶</a></h5>
<p>The module also provides operations that operate on individual bits. This
includes and (&amp;), or (|), and exclusive or (^). You can also invert (~) all
pixel bits.</p>
<p>Note that the operands are converted to 32-bit signed integers before the
bitwise operation is applied. This means that you’ll get negative values if
you invert an ordinary greyscale image. You can use the and (&amp;) operator to
mask off unwanted bits.</p>
<p>Bitwise operators don’t work on floating point images.</p>
</section>
<section id="logical-operators">
<h5>Logical Operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h5>
<p>Logical operators like <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, and <code class="docutils literal notranslate"><span class="pre">not</span></code> work
on entire images, rather than individual pixels.</p>
<p>An empty image (all pixels zero) is treated as false. All other images are
treated as true.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">and</span></code> and <code class="docutils literal notranslate"><span class="pre">or</span></code> return the last evaluated operand,
while not always returns a boolean value.</p>
</section>
<section id="built-in-functions">
<h5>Built-in Functions<a class="headerlink" href="#built-in-functions" title="Permalink to this headline">¶</a></h5>
<p>These functions are applied to each individual pixel.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">abs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Absolute value.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Convert image to the given mode. The mode must be given as a string
constant.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Convert image to 32-bit floating point. This is equivalent to
convert(image, “F”).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Convert image to 32-bit integer. This is equivalent to convert(image, “I”).</p>
<p>Note that 1-bit and 8-bit images are automatically converted to 32-bit
integers if necessary to get a correct result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Maximum value.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">min</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image2</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Minimum value.</p>
</dd></dl>

</section>
</section>
</section>
<span id="document-reference/ImageMorph"></span><span class="target" id="module-PIL.ImageMorph"></span><section id="imagemorph-module">
<h3><a class="reference internal" href="#module-PIL.ImageMorph" title="PIL.ImageMorph"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMorph</span></code></a> Module<a class="headerlink" href="#imagemorph-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageMorph" title="PIL.ImageMorph"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageMorph</span></code></a> module provides morphology operations on images.</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageMorph.</span></span><span class="sig-name descname"><span class="pre">LutBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#LutBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for building a MorphLut from a descriptive language</p>
<p>The input patterns is a list of a strings sequences like these:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span><span class="p">:(</span><span class="o">...</span>
   <span class="mf">.1</span><span class="o">.</span>
   <span class="mi">111</span><span class="p">)</span><span class="o">-&gt;</span><span class="mi">1</span>
</pre></div>
</div>
<p>(whitespaces including linebreaks are ignored). The option 4
describes a series of symmetry operations (in this case a
4-rotation), the pattern is described by:</p>
<ul class="simple">
<li><p>. or X - Ignore</p></li>
<li><p>1 - Pixel is on</p></li>
<li><p>0 - Pixel is off</p></li>
</ul>
<p>The result of the operation is described after “-&gt;” string.</p>
<p>The default is to return the current pixel value, which is
returned if no other match is found.</p>
<p>Operations:</p>
<ul class="simple">
<li><p>4 - 4 way rotation</p></li>
<li><p>N - Negate</p></li>
<li><p>1 - Dummy op for no other operation (an op must always be given)</p></li>
<li><p>M - Mirroring</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lb</span> <span class="o">=</span> <span class="n">LutBuilder</span><span class="p">(</span><span class="n">patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;4:(... .1. 111)-&gt;1&quot;</span><span class="p">])</span>
<span class="n">lut</span> <span class="o">=</span> <span class="n">lb</span><span class="o">.</span><span class="n">build_lut</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patterns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#LutBuilder.add_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">build_default_lut</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#LutBuilder.build_default_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">build_lut</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#LutBuilder.build_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Compile all patterns into a morphology lut.</p>
<p>TBD :Build based on (file) morphlut:modify_lut</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_lut</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#LutBuilder.get_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageMorph.</span></span><span class="sig-name descname"><span class="pre">MorphOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for binary morphological operators</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Run a single morphological operation on an image</p>
<p>Returns a tuple of the number of changed pixels and the
morphed image</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_on_pixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.get_on_pixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get a list of all turned on pixels in a binary image</p>
<p>Returns a list of tuples of (x,y) coordinates
of all matching pixels. See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">load_lut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.load_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Load an operator from an mrl file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.match"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get a list of coordinates matching the morphological operation on
an image.</p>
<p>Returns a list of tuples of (x,y) coordinates
of all matching pixels. See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">save_lut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.save_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Save an operator to an mrl file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">set_lut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lut</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageMorph.html#MorphOp.set_lut"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Set the lut from an external source</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/ImageOps"></span><span class="target" id="module-PIL.ImageOps"></span><section id="imageops-module">
<h3><a class="reference internal" href="#module-PIL.ImageOps" title="PIL.ImageOps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageOps</span></code></a> Module<a class="headerlink" href="#imageops-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageOps" title="PIL.ImageOps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageOps</span></code></a> module contains a number of ‘ready-made’ image
processing operations. This module is somewhat experimental, and most operators
only work on L and RGB images.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.3.</span></p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.autocontrast">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">autocontrast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_tone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#autocontrast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.autocontrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximize (normalize) image contrast. This function calculates a
histogram of the input image (or mask region), removes <code class="docutils literal notranslate"><span class="pre">cutoff</span></code> percent of the
lightest and darkest pixels from the histogram, and remaps the image
so that the darkest pixel becomes black (0), and the lightest
becomes white (255).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to process.</p></li>
<li><p><strong>cutoff</strong> – The percent to cut off from the histogram on the low and
high ends. Either a tuple of (low, high), or a single
number for both.</p></li>
<li><p><strong>ignore</strong> – The background pixel value (use None for no background).</p></li>
<li><p><strong>mask</strong> – Histogram used in contrast operation is computed using pixels
within the mask. If no mask is given the entire image is used
for histogram computation.</p></li>
<li><p><strong>preserve_tone</strong> – <p>Preserve image tone in Photoshop-like style autocontrast.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.2.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.colorize">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">colorize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">black</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">white</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blackpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whitepoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">127</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#colorize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.colorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Colorize grayscale image.
This function calculates a color wedge which maps all black pixels in
the source image to the first color and all white pixels to the
second color. If <code class="docutils literal notranslate"><span class="pre">mid</span></code> is specified, it uses three-color mapping.
The <code class="docutils literal notranslate"><span class="pre">black</span></code> and <code class="docutils literal notranslate"><span class="pre">white</span></code> arguments should be RGB tuples or color names;
optionally you can use three-color mapping by also specifying <code class="docutils literal notranslate"><span class="pre">mid</span></code>.
Mapping positions for any of the colors can be specified
(e.g. <code class="docutils literal notranslate"><span class="pre">blackpoint</span></code>), where these parameters are the integer
value corresponding to where the corresponding color should be mapped.
These parameters must have logical order, such that
<code class="docutils literal notranslate"><span class="pre">blackpoint</span> <span class="pre">&lt;=</span> <span class="pre">midpoint</span> <span class="pre">&lt;=</span> <span class="pre">whitepoint</span></code> (if <code class="docutils literal notranslate"><span class="pre">mid</span></code> is specified).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to colorize.</p></li>
<li><p><strong>black</strong> – The color to use for black input pixels.</p></li>
<li><p><strong>white</strong> – The color to use for white input pixels.</p></li>
<li><p><strong>mid</strong> – The color to use for midtone input pixels.</p></li>
<li><p><strong>blackpoint</strong> – an int value [0, 255] for the black mapping.</p></li>
<li><p><strong>whitepoint</strong> – an int value [0, 255] for the white mapping.</p></li>
<li><p><strong>midpoint</strong> – an int value [0, 255] for the midtone mapping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.contain">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">contain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#contain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.contain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a resized version of the image, set to the maximum width and height
within the requested size, while maintaining the original aspect ratio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to resize and crop.</p></li>
<li><p><strong>size</strong> – The requested output size in pixels, given as a
(width, height) tuple.</p></li>
<li><p><strong>method</strong> – Resampling method to use. Default is
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>. See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.pad">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.5,</span> <span class="pre">0.5)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a resized and padded version of the image, expanded to fill the
requested aspect ratio and size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to resize and crop.</p></li>
<li><p><strong>size</strong> – The requested output size in pixels, given as a
(width, height) tuple.</p></li>
<li><p><strong>method</strong> – Resampling method to use. Default is
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>. See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>color</strong> – The background color of the padded image.</p></li>
<li><p><strong>centering</strong> – <p>Control the position of the original image within the
padded version.</p>
<blockquote>
<div><p>(0.5, 0.5) will keep the image centered
(0, 0) will keep the image aligned to the top left
(1, 1) will keep the image aligned to the bottom
right</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.crop">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove border from image.  The same amount of pixels are removed
from all four sides.  This function works on all image modes.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.Image.Image.crop" title="PIL.Image.Image.crop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">crop()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to crop.</p></li>
<li><p><strong>border</strong> – The number of pixels to remove.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.scale">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#scale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a rescaled image by a specific factor given in parameter.
A factor greater than 1 expands the image, between 0 and 1 contracts the
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to rescale.</p></li>
<li><p><strong>factor</strong> – The expansion factor, as a float.</p></li>
<li><p><strong>resample</strong> – Resampling method to use. Default is
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>. See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.deform">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">deform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deformer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#deform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.deform" title="Permalink to this definition">¶</a></dt>
<dd><p>Deform the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to deform.</p></li>
<li><p><strong>deformer</strong> – A deformer object.  Any object that implements a
<code class="docutils literal notranslate"><span class="pre">getmesh</span></code> method can be used.</p></li>
<li><p><strong>resample</strong> – An optional resampling filter. Same values possible as
in the PIL.Image.transform function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.equalize">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">equalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#equalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.equalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Equalize the image histogram. This function applies a non-linear
mapping to the input image, in order to create a uniform
distribution of grayscale values in the output image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to equalize.</p></li>
<li><p><strong>mask</strong> – An optional mask.  If given, only the pixels selected by
the mask are included in the analysis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.expand">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#expand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Add border to the image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to expand.</p></li>
<li><p><strong>border</strong> – Border width, in pixels.</p></li>
<li><p><strong>fill</strong> – Pixel fill value (a color value).  Default is 0 (black).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.fit">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bleed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.5,</span> <span class="pre">0.5)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a resized and cropped version of the image, cropped to the
requested aspect ratio and size.</p>
<p>This function was contributed by Kevin Cazabon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to resize and crop.</p></li>
<li><p><strong>size</strong> – The requested output size in pixels, given as a
(width, height) tuple.</p></li>
<li><p><strong>method</strong> – Resampling method to use. Default is
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a>. See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a>.</p></li>
<li><p><strong>bleed</strong> – Remove a border around the outside of the image from all
four edges. The value is a decimal percentage (use 0.01 for
one percent). The default value is 0 (no border).
Cannot be greater than or equal to 0.5.</p></li>
<li><p><strong>centering</strong> – Control the cropping position.  Use (0.5, 0.5) for
center cropping (e.g. if cropping the width, take 50% off
of the left side, and therefore 50% off the right side).
(0.0, 0.0) will crop from the top left corner (i.e. if
cropping the width, take all of the crop off of the right
side, and if cropping the height, take all of it off the
bottom).  (1.0, 0.0) will crop from the bottom left
corner, etc. (i.e. if cropping the width, take all of the
crop off the left side, and if cropping the height take
none from the top, and therefore all off the bottom).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.flip">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">flip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#flip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.flip" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip the image vertically (top to bottom).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The image to flip.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.grayscale">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">grayscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#grayscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.grayscale" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the image to grayscale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The image to convert.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.invert">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">invert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#invert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert (negate) the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The image to invert.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.mirror">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">mirror</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#mirror"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip image horizontally (left to right).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The image to mirror.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.posterize">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">posterize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#posterize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.posterize" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce the number of bits for each color channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to posterize.</p></li>
<li><p><strong>bits</strong> – The number of bits to keep for each channel (1-8).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.solarize">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">solarize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#solarize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.solarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert all pixel values above a threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The image to solarize.</p></li>
<li><p><strong>threshold</strong> – All pixels above this greyscale level are inverted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageOps.exif_transpose">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageOps.</span></span><span class="sig-name descname"><span class="pre">exif_transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageOps.html#exif_transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageOps.exif_transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>If an image has an EXIF Orientation tag, return a new image that is
transposed accordingly. Otherwise, return a copy of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – The image to transpose.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image.</p>
</dd>
</dl>
</dd></dl>

</section>
<span id="document-reference/ImagePalette"></span><span class="target" id="module-PIL.ImagePalette"></span><section id="imagepalette-module">
<h3><a class="reference internal" href="#module-PIL.ImagePalette" title="PIL.ImagePalette"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePalette</span></code></a> Module<a class="headerlink" href="#imagepalette-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImagePalette" title="PIL.ImagePalette"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePalette</span></code></a> module contains a class of the same name to
represent the color palette of palette mapped images.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#PIL.ImagePalette.ImagePalette" title="PIL.ImagePalette.ImagePalette"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImagePalette</span></code></a> class has several methods,
but they are all marked as “experimental.” Read that as you will. The
<code class="docutils literal notranslate"><span class="pre">[source]</span></code> link is there for a reason.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImagePalette.</span></span><span class="sig-name descname"><span class="pre">ImagePalette</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RGB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImagePalette.html#ImagePalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImagePalette.ImagePalette" title="Permalink to this definition">¶</a></dt>
<dd><p>Color palette for palette mapped images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The mode to use for the palette. See:
<a class="reference internal" href="index.html#concept-modes"><span class="std std-ref">Modes</span></a>. Defaults to “RGB”</p></li>
<li><p><strong>palette</strong> – An optional palette. If given, it must be a bytearray,
an array or a list of ints between 0-255. The list must consist of
all channels for one color followed by the next color (e.g. RGBRGBRGB).
Defaults to an empty palette.</p></li>
<li><p><strong>size</strong> – An optional palette size. If given, an error is raised
if <code class="docutils literal notranslate"><span class="pre">palette</span></code> is not of equal length.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette.getcolor">
<span class="sig-name descname"><span class="pre">getcolor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImagePalette.html#ImagePalette.getcolor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImagePalette.ImagePalette.getcolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an rgb tuple, allocate palette entry.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette.getdata">
<span class="sig-name descname"><span class="pre">getdata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImagePalette.html#ImagePalette.getdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImagePalette.ImagePalette.getdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get palette contents in format suitable for the low-level
<code class="docutils literal notranslate"><span class="pre">im.putpalette</span></code> primitive.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImagePalette.html#ImagePalette.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImagePalette.ImagePalette.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save palette to text file.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImagePalette.html#ImagePalette.tobytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImagePalette.ImagePalette.tobytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert palette to bytes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePalette.ImagePalette.tostring">
<span class="sig-name descname"><span class="pre">tostring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePalette.ImagePalette.tostring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert palette to bytes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is experimental.</p>
</div>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/ImagePath"></span><span class="target" id="module-PIL.ImagePath"></span><section id="imagepath-module">
<h3><a class="reference internal" href="#module-PIL.ImagePath" title="PIL.ImagePath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePath</span></code></a> Module<a class="headerlink" href="#imagepath-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImagePath" title="PIL.ImagePath"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImagePath</span></code></a> module is used to store and manipulate 2-dimensional
vector data. Path objects can be passed to the methods on the
<a class="reference internal" href="index.html#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw</span></code></a> module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.</span></span><span class="sig-name descname"><span class="pre">Path</span></span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path" title="Permalink to this definition">¶</a></dt>
<dd><p>A path object. The coordinate list can be any sequence object containing
either 2-tuples [(x, y), …] or numeric values [x, y, …].</p>
<p>You can also create a path object from another path object.</p>
<p>In 1.1.6 and later, you can also pass in any object that implements
Python’s buffer API. The buffer should provide read access, and contain C
floats in machine byte order.</p>
<p>The path object implements most parts of the Python sequence interface, and
behaves like a list of (x, y) pairs. You can use len(), item access, and
slicing as usual. However, the current version does not support slice
assignment, or item and slice deletion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xy</strong> – A sequence. The sequence can contain 2-tuples [(x, y), …]
or a flat list of numbers [x, y, …].</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path.compact">
<span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.Path.</span></span><span class="sig-name descname"><span class="pre">compact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Compacts the path, by removing points that are close to each other. This
method modifies the path in place, and returns the number of points left in
the path.</p>
<p><code class="docutils literal notranslate"><span class="pre">distance</span></code> is measured as <a class="reference external" href="https://en.wikipedia.org/wiki/Manhattan_distance">Manhattan distance</a> and defaults to two
pixels.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path.getbbox">
<span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.Path.</span></span><span class="sig-name descname"><span class="pre">getbbox</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path.getbbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the bounding box of the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">(x0,</span> <span class="pre">y0,</span> <span class="pre">x1,</span> <span class="pre">y1)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path.map">
<span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.Path.</span></span><span class="sig-name descname"><span class="pre">map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps the path through a function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path.tolist">
<span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.Path.</span></span><span class="sig-name descname"><span class="pre">tolist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path.tolist" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the path to a Python list [(x, y), …].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>flat</strong> – By default, this function returns a list of 2-tuples
[(x, y), …].  If this argument is <code class="docutils literal notranslate"><span class="pre">True</span></code>, it
returns a flat list [x, y, …] instead.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of coordinates. See <code class="docutils literal notranslate"><span class="pre">flat</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImagePath.PIL.ImagePath.Path.transform">
<span class="sig-prename descclassname"><span class="pre">PIL.ImagePath.Path.</span></span><span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImagePath.PIL.ImagePath.Path.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the path in place, using an affine transform. The matrix is a
6-tuple (a, b, c, d, e, f), and each point is mapped as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xOut</span> <span class="o">=</span> <span class="n">xIn</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">yIn</span> <span class="o">*</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
<span class="n">yOut</span> <span class="o">=</span> <span class="n">xIn</span> <span class="o">*</span> <span class="n">d</span> <span class="o">+</span> <span class="n">yIn</span> <span class="o">*</span> <span class="n">e</span> <span class="o">+</span> <span class="n">f</span>
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-reference/ImageQt"></span><span class="target" id="module-PIL.ImageQt"></span><section id="imageqt-module">
<h3><a class="reference internal" href="#module-PIL.ImageQt" title="PIL.ImageQt"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageQt</span></code></a> Module<a class="headerlink" href="#imageqt-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageQt" title="PIL.ImageQt"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageQt</span></code></a> module contains support for creating PyQt6, PySide6, PyQt5
or PySide2 QImage objects from PIL images.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.6.</span></p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageQt.ImageQt">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageQt.</span></span><span class="sig-name descname"><span class="pre">ImageQt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.ImageQt.ImageQt" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an <a class="reference internal" href="#PIL.ImageQt.ImageQt" title="PIL.ImageQt.ImageQt"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageQt</span></code></a> object from a PIL
<a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object. This class is a subclass of
QtGui.QImage, which means that you can pass the resulting objects directly
to PyQt6/PySide6/PyQt5/PySide2 API functions and methods.</p>
<p>This operation is currently supported for mode 1, L, P, RGB, and RGBA
images. To handle other modes, you need to convert the image first.</p>
</dd></dl>

</section>
<span id="document-reference/ImageSequence"></span><span class="target" id="module-PIL.ImageSequence"></span><section id="imagesequence-module">
<h3><a class="reference internal" href="#module-PIL.ImageSequence" title="PIL.ImageSequence"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageSequence</span></code></a> Module<a class="headerlink" href="#imagesequence-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageSequence" title="PIL.ImageSequence"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageSequence</span></code></a> module contains a wrapper class that lets you
iterate over the frames of an image sequence.</p>
<section id="extracting-frames-from-an-animation">
<h4>Extracting frames from an animation<a class="headerlink" href="#extracting-frames-from-an-animation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageSequence</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;animation.fli&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">ImageSequence</span><span class="o">.</span><span class="n">Iterator</span><span class="p">(</span><span class="n">im</span><span class="p">):</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;frame</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="the-iterator-class">
<h4>The <a class="reference internal" href="#PIL.ImageSequence.Iterator" title="PIL.ImageSequence.Iterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a> class<a class="headerlink" href="#the-iterator-class" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageSequence.Iterator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageSequence.</span></span><span class="sig-name descname"><span class="pre">Iterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageSequence.html#Iterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageSequence.Iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements an iterator object that can be used to loop
over an image sequence.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">[]</span></code> operator to access elements by index. This operator
will raise an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IndexError</span></code></a> if you try to access a nonexistent
frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>im</strong> – An image object.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-reference/ImageShow"></span><span class="target" id="module-PIL.ImageShow"></span><section id="imageshow-module">
<h3><a class="reference internal" href="#module-PIL.ImageShow" title="PIL.ImageShow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageShow</span></code></a> Module<a class="headerlink" href="#imageshow-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageShow" title="PIL.ImageShow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageShow</span></code></a> Module is used to display images.
All default viewers convert the image to be shown to PNG format.</p>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageShow.show">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a given image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – An image object.</p></li>
<li><p><strong>title</strong> – Optional title. Not all viewers can display the title.</p></li>
<li><p><strong>**options</strong> – Additional viewer options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a suitable viewer was found, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.IPythonViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">IPythonViewer</span></span><a class="reference internal" href="_modules/PIL/ImageShow.html#IPythonViewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.IPythonViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The viewer for IPython frontends.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.WindowsViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">WindowsViewer</span></span><a class="reference internal" href="_modules/PIL/ImageShow.html#WindowsViewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.WindowsViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The default viewer on Windows is the default system application for PNG files.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.MacViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">MacViewer</span></span><a class="reference internal" href="_modules/PIL/ImageShow.html#MacViewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.MacViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The default viewer on MacOS using <code class="docutils literal notranslate"><span class="pre">Preview.app</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.UnixViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">UnixViewer</span></span><a class="reference internal" href="_modules/PIL/ImageShow.html#UnixViewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.UnixViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The following viewers may be registered on Unix-based systems, if the given command is found:</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.UnixViewer.DisplayViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">DisplayViewer</span></span><a class="headerlink" href="#PIL.ImageShow.UnixViewer.DisplayViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The ImageMagick <code class="docutils literal notranslate"><span class="pre">display</span></code> command.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.UnixViewer.GmDisplayViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">GmDisplayViewer</span></span><a class="headerlink" href="#PIL.ImageShow.UnixViewer.GmDisplayViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The GraphicsMagick <code class="docutils literal notranslate"><span class="pre">gm</span> <span class="pre">display</span></code> command.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.UnixViewer.EogViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">EogViewer</span></span><a class="headerlink" href="#PIL.ImageShow.UnixViewer.EogViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The GNOME Image Viewer <code class="docutils literal notranslate"><span class="pre">eog</span></code> command.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.UnixViewer.XVViewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">XVViewer</span></span><a class="headerlink" href="#PIL.ImageShow.UnixViewer.XVViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>The X Viewer <code class="docutils literal notranslate"><span class="pre">xv</span></code> command.
This viewer supports the <code class="docutils literal notranslate"><span class="pre">title</span></code> parameter.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImageShow.register">
<span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">viewer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.register" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#PIL.ImageShow.register" title="PIL.ImageShow.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">register()</span></code></a> function is used to register additional viewers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>viewer</strong> – The viewer to be registered.</p></li>
<li><p><strong>order</strong> – Zero or a negative integer to prepend this viewer to the list,
a positive integer to append it.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageShow.</span></span><span class="sig-name descname"><span class="pre">Viewer</span></span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for viewers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.show" title="Permalink to this definition">¶</a></dt>
<dd><p>The main function for displaying an image.
Converts the given image to the target format and displays it.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#PIL.ImageShow.Viewer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>The format to convert the image into.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.options">
<span class="sig-name descname"><span class="pre">options</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#PIL.ImageShow.Viewer.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional options used to convert the image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.get_format">
<span class="sig-name descname"><span class="pre">get_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.get_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.get_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return format name, or <code class="docutils literal notranslate"><span class="pre">None</span></code> to save as PGM/PPM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.get_command">
<span class="sig-name descname"><span class="pre">get_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.get_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.get_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the command used to display the file.
Not implemented in the base class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.save_image">
<span class="sig-name descname"><span class="pre">save_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.save_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.save_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to temporary file and return filename.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.show_image">
<span class="sig-name descname"><span class="pre">show_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.show_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.show_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the given image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageShow.Viewer.show_file">
<span class="sig-name descname"><span class="pre">show_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageShow.html#Viewer.show_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageShow.Viewer.show_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the given file.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/ImageStat"></span><span class="target" id="module-PIL.ImageStat"></span><section id="imagestat-module">
<h3><a class="reference internal" href="#module-PIL.ImageStat" title="PIL.ImageStat"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageStat</span></code></a> Module<a class="headerlink" href="#imagestat-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageStat" title="PIL.ImageStat"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageStat</span></code></a> module calculates global statistics for an image, or
for a region of an image.</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageStat.</span></span><span class="sig-name descname"><span class="pre">Stat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_or_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageStat.html#Stat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageStat.Stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate statistics for the given image. If a mask is included,
only the regions covered by that mask are included in the
statistics. You can also pass in a previously calculated histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – A PIL image, or a precalculated histogram.</p></li>
<li><p><strong>mask</strong> – An optional mask.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.extrema">
<span class="sig-name descname"><span class="pre">extrema</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.extrema" title="Permalink to this definition">¶</a></dt>
<dd><p>Min/max values for each band in the image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This relies on the <a class="reference internal" href="index.html#PIL.Image.Image.histogram" title="PIL.Image.Image.histogram"><code class="xref py py-meth docutils literal notranslate"><span class="pre">histogram()</span></code></a> method, and
simply returns the low and high bins used. This is correct for
images with 8 bits per channel, but fails for other modes such as
<code class="docutils literal notranslate"><span class="pre">I</span></code> or <code class="docutils literal notranslate"><span class="pre">F</span></code>. Instead, use <a class="reference internal" href="index.html#PIL.Image.Image.getextrema" title="PIL.Image.Image.getextrema"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getextrema()</span></code></a> to
return per-band extrema for the image. This is more correct and
efficient because, for non-8-bit modes, the histogram method uses
<a class="reference internal" href="index.html#PIL.Image.Image.getextrema" title="PIL.Image.Image.getextrema"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getextrema()</span></code></a> to determine the bins used.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.count">
<span class="sig-name descname"><span class="pre">count</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of pixels for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.sum">
<span class="sig-name descname"><span class="pre">sum</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum of all pixels for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.sum2">
<span class="sig-name descname"><span class="pre">sum2</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.sum2" title="Permalink to this definition">¶</a></dt>
<dd><p>Squared sum of all pixels for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Average (arithmetic mean) pixel level for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.median">
<span class="sig-name descname"><span class="pre">median</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.median" title="Permalink to this definition">¶</a></dt>
<dd><p>Median pixel level for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.rms">
<span class="sig-name descname"><span class="pre">rms</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.rms" title="Permalink to this definition">¶</a></dt>
<dd><p>RMS (root-mean-square) for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.var">
<span class="sig-name descname"><span class="pre">var</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.var" title="Permalink to this definition">¶</a></dt>
<dd><p>Variance for each band in the image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageStat.Stat.stddev">
<span class="sig-name descname"><span class="pre">stddev</span></span><a class="headerlink" href="#PIL.ImageStat.Stat.stddev" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation for each band in the image.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/ImageTk"></span><span class="target" id="module-PIL.ImageTk"></span><section id="imagetk-module">
<h3><a class="reference internal" href="#module-PIL.ImageTk" title="PIL.ImageTk"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageTk</span></code></a> Module<a class="headerlink" href="#imagetk-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageTk" title="PIL.ImageTk"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageTk</span></code></a> module contains support to create and modify Tkinter
BitmapImage and PhotoImage objects from PIL images.</p>
<p>For examples, see the demo programs in the Scripts directory.</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTk.BitmapImage">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTk.</span></span><span class="sig-name descname"><span class="pre">BitmapImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#BitmapImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.BitmapImage" title="Permalink to this definition">¶</a></dt>
<dd><p>A Tkinter-compatible bitmap image.  This can be used everywhere Tkinter
expects an image object.</p>
<p>The given image must have mode “1”.  Pixels having value 0 are treated as
transparent.  Options, if any, are passed on to Tkinter.  The most commonly
used option is <code class="docutils literal notranslate"><span class="pre">foreground</span></code>, which is used to specify the color for the
non-transparent parts.  See the Tkinter documentation for information on
how to specify colours.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> – A PIL image.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTk.BitmapImage.height">
<span class="sig-name descname"><span class="pre">height</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#BitmapImage.height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.BitmapImage.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the height of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The height, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTk.BitmapImage.width">
<span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#BitmapImage.width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.BitmapImage.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the width of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The width, in pixels.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTk.PhotoImage">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTk.</span></span><span class="sig-name descname"><span class="pre">PhotoImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#PhotoImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.PhotoImage" title="Permalink to this definition">¶</a></dt>
<dd><p>A Tkinter-compatible photo image.  This can be used
everywhere Tkinter expects an image object.  If the image is an RGBA
image, pixels having alpha 0 are treated as transparent.</p>
<p>The constructor takes either a PIL image, or a mode and a size.
Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">file</span></code> or <code class="docutils literal notranslate"><span class="pre">data</span></code> options to initialize
the photo image object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – Either a PIL image, or a mode string.  If a mode string is
used, a size must also be given.</p></li>
<li><p><strong>size</strong> – If the first argument is a mode string, this defines the size
of the image.</p></li>
<li><p><strong>file</strong> – A filename to load the image from (using
<code class="docutils literal notranslate"><span class="pre">Image.open(file)</span></code>).</p></li>
<li><p><strong>data</strong> – An 8-bit string containing image data (as loaded from an
image file).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTk.PhotoImage.height">
<span class="sig-name descname"><span class="pre">height</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#PhotoImage.height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.PhotoImage.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the height of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The height, in pixels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTk.PhotoImage.paste">
<span class="sig-name descname"><span class="pre">paste</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#PhotoImage.paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.PhotoImage.paste" title="Permalink to this definition">¶</a></dt>
<dd><p>Paste a PIL image into the photo image.  Note that this can
be very slow if the photo image is displayed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – A PIL image. The size must match the target region.  If the
mode does not match, the image is converted to the mode of
the bitmap image.</p></li>
<li><p><strong>box</strong> – A 4-tuple defining the left, upper, right, and lower pixel
coordinate. See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>. If None is given
instead of a tuple, all of the image is assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTk.PhotoImage.width">
<span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTk.html#PhotoImage.width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTk.PhotoImage.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the width of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The width, in pixels.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/ImageWin"></span><span class="target" id="module-PIL.ImageWin"></span><section id="imagewin-module-windows-only">
<h3><a class="reference internal" href="#module-PIL.ImageWin" title="PIL.ImageWin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageWin</span></code></a> Module (Windows-only)<a class="headerlink" href="#imagewin-module-windows-only" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ImageWin" title="PIL.ImageWin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageWin</span></code></a> module contains support to create and display images on
Windows.</p>
<p>ImageWin can be used with PythonWin and other user interface toolkits that
provide access to Windows device contexts or window handles. For example,
Tkinter makes the window handle available via the winfo_id method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageWin</span>

<span class="n">dib</span> <span class="o">=</span> <span class="n">ImageWin</span><span class="o">.</span><span class="n">Dib</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">hwnd</span> <span class="o">=</span> <span class="n">ImageWin</span><span class="o">.</span><span class="n">HWND</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">winfo_id</span><span class="p">())</span>
<span class="n">dib</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span> <span class="n">xy</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageWin.</span></span><span class="sig-name descname"><span class="pre">Dib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib" title="Permalink to this definition">¶</a></dt>
<dd><p>A Windows bitmap with the given mode and size.  The mode can be one of “1”,
“L”, “P”, or “RGB”.</p>
<p>If the display requires a palette, this constructor creates a suitable
palette and associates it with the image. For an “L” image, 128 greylevels
are allocated. For an “RGB” image, a 6x6x6 colour cube is used, together
with 20 greylevels.</p>
<p>To make sure that palettes work properly under Windows, you must call the
<code class="docutils literal notranslate"><span class="pre">palette</span></code> method upon certain events from Windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – Either a PIL image, or a mode string. If a mode string is
used, a size must also be given.  The mode can be one of “1”,
“L”, “P”, or “RGB”.</p></li>
<li><p><strong>size</strong> – If the first argument is a mode string, this
defines the size of the image.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.draw">
<span class="sig-name descname"><span class="pre">draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.draw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as expose, but allows you to specify where to draw the image, and
what part of it to draw.</p>
<p>The destination and source areas are given as 4-tuple rectangles. If
the source is omitted, the entire image is copied. If the source and
the destination have different sizes, the image is resized as
necessary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.expose">
<span class="sig-name descname"><span class="pre">expose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.expose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.expose" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the bitmap contents to a device context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – Device context (HDC), cast to a Python integer, or an
HDC or HWND instance.  In PythonWin, you can use
<code class="docutils literal notranslate"><span class="pre">CDC.GetHandleAttrib()</span></code> to get a suitable handle.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.frombytes">
<span class="sig-name descname"><span class="pre">frombytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.frombytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.frombytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Load display memory contents from byte data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer</strong> – A buffer containing display data (usually
data returned from <a class="reference internal" href="#PIL.ImageWin.Dib.tobytes" title="PIL.ImageWin.Dib.tobytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">tobytes()</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.paste">
<span class="sig-name descname"><span class="pre">paste</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.paste" title="Permalink to this definition">¶</a></dt>
<dd><p>Paste a PIL image into the bitmap image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – A PIL image.  The size must match the target region.
If the mode does not match, the image is converted to the
mode of the bitmap image.</p></li>
<li><p><strong>box</strong> – A 4-tuple defining the left, upper, right, and
lower pixel coordinate.  See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>. If
None is given instead of a tuple, all of the image is
assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.query_palette">
<span class="sig-name descname"><span class="pre">query_palette</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.query_palette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.query_palette" title="Permalink to this definition">¶</a></dt>
<dd><p>Installs the palette associated with the image in the given device
context.</p>
<p>This method should be called upon <strong>QUERYNEWPALETTE</strong> and
<strong>PALETTECHANGED</strong> events from Windows. If this method returns a
non-zero value, one or more display palette entries were changed, and
the image should be redrawn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – Device context (HDC), cast to a Python integer, or an
HDC or HWND instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A true value if one or more entries were changed (this
indicates that the image should be redrawn).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageWin.Dib.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#Dib.tobytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.Dib.tobytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy display memory contents to bytes object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A bytes object containing display data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageWin.HDC">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageWin.</span></span><span class="sig-name descname"><span class="pre">HDC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#HDC"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.HDC" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps an HDC integer. The resulting object can be passed to the
<a class="reference internal" href="#PIL.ImageWin.Dib.draw" title="PIL.ImageWin.Dib.draw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code></a> and <a class="reference internal" href="#PIL.ImageWin.Dib.expose" title="PIL.ImageWin.Dib.expose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">expose()</span></code></a>
methods.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageWin.HWND">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageWin.</span></span><span class="sig-name descname"><span class="pre">HWND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wnd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageWin.html#HWND"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageWin.HWND" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps an HWND integer. The resulting object can be passed to the
<a class="reference internal" href="#PIL.ImageWin.Dib.draw" title="PIL.ImageWin.Dib.draw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draw()</span></code></a> and <a class="reference internal" href="#PIL.ImageWin.Dib.expose" title="PIL.ImageWin.Dib.expose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">expose()</span></code></a>
methods, instead of a DC.</p>
</dd></dl>

</section>
<span id="document-reference/ExifTags"></span><span class="target" id="module-PIL.ExifTags"></span><section id="exiftags-module">
<h3><a class="reference internal" href="#module-PIL.ExifTags" title="PIL.ExifTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ExifTags</span></code></a> Module<a class="headerlink" href="#exiftags-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.ExifTags" title="PIL.ExifTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ExifTags</span></code></a> module exposes two dictionaries which
provide constants and clear-text names for various well-known EXIF tags.</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.ExifTags.TAGS">
<span class="sig-prename descclassname"><span class="pre">PIL.ExifTags.</span></span><span class="sig-name descname"><span class="pre">TAGS</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.ExifTags.TAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>The TAG dictionary maps 16-bit integer EXIF tag enumerations to
descriptive string names.  For instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL.ExifTags</span> <span class="kn">import</span> <span class="n">TAGS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TAGS</span><span class="p">[</span><span class="mh">0x010e</span><span class="p">]</span>
<span class="go">&#39;ImageDescription&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.ExifTags.GPSTAGS">
<span class="sig-prename descclassname"><span class="pre">PIL.ExifTags.</span></span><span class="sig-name descname"><span class="pre">GPSTAGS</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.ExifTags.GPSTAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>The GPSTAGS dictionary maps 8-bit integer EXIF gps enumerations to
descriptive string names.  For instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL.ExifTags</span> <span class="kn">import</span> <span class="n">GPSTAGS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GPSTAGS</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span>
<span class="go">&#39;GPSDestLatitude&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<span id="document-reference/TiffTags"></span><span class="target" id="module-PIL.TiffTags"></span><section id="tifftags-module">
<h3><a class="reference internal" href="#module-PIL.TiffTags" title="PIL.TiffTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TiffTags</span></code></a> Module<a class="headerlink" href="#tifftags-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.TiffTags" title="PIL.TiffTags"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TiffTags</span></code></a> module exposes many of the standard TIFF
metadata tag numbers, names, and type information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffTags.lookup">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffTags.html#lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffTags.lookup" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – Integer tag number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Taginfo namedtuple, From the <a class="reference internal" href="#PIL.TiffTags.PIL.TiffTags.TAGS_V2" title="PIL.TiffTags.PIL.TiffTags.TAGS_V2"><code class="xref py py-data docutils literal notranslate"><span class="pre">TAGS_V2</span></code></a> info if possible,
otherwise just populating the value and name from <a class="reference internal" href="#PIL.TiffTags.PIL.TiffTags.TAGS" title="PIL.TiffTags.PIL.TiffTags.TAGS"><code class="xref py py-data docutils literal notranslate"><span class="pre">TAGS</span></code></a>.
If the tag is not recognized, “unknown” is returned for the name</p>
</dd>
</dl>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.0.</span></p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffTags.TagInfo">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">TagInfo</span></span><a class="reference internal" href="_modules/PIL/TiffTags.html#TagInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffTags.TagInfo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffTags.TagInfo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffTags.TagInfo.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – Integer Tag Number</p></li>
<li><p><strong>name</strong> – Tag Name</p></li>
<li><p><strong>type</strong> – Integer type from <a class="reference internal" href="#PIL.TiffTags.PIL.TiffTags.TYPES" title="PIL.TiffTags.PIL.TiffTags.TYPES"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.TiffTags.TYPES</span></code></a></p></li>
<li><p><strong>length</strong> – Array length: 0 == variable, 1 == single value, n = fixed</p></li>
<li><p><strong>enum</strong> – Dict of name:integer value options for an enumeration</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffTags.TagInfo.cvt_enum">
<span class="sig-name descname"><span class="pre">cvt_enum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffTags.html#TagInfo.cvt_enum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffTags.TagInfo.cvt_enum" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – The enumerated value name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The integer corresponding to the name.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.0.</span></p>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.TiffTags.PIL.TiffTags.TAGS_V2">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">TAGS_V2</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.TiffTags.PIL.TiffTags.TAGS_V2" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">TAGS_V2</span></code> dictionary maps 16-bit integer tag numbers to
<a class="reference internal" href="#PIL.TiffTags.TagInfo" title="PIL.TiffTags.TagInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffTags.TagInfo</span></code></a> tuples for metadata fields defined in the TIFF
spec.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.0.</span></p>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.TiffTags.PIL.TiffTags.TAGS">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">TAGS</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.TiffTags.PIL.TiffTags.TAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">TAGS</span></code> dictionary maps 16-bit integer TIFF tag number to
descriptive string names.  For instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL.TiffTags</span> <span class="kn">import</span> <span class="n">TAGS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TAGS</span><span class="p">[</span><span class="mh">0x010e</span><span class="p">]</span>
<span class="go">&#39;ImageDescription&#39;</span>
</pre></div>
</div>
<p>This dictionary contains a superset of the tags in <a class="reference internal" href="#PIL.TiffTags.PIL.TiffTags.TAGS_V2" title="PIL.TiffTags.PIL.TiffTags.TAGS_V2"><code class="xref py py-data docutils literal notranslate"><span class="pre">TAGS_V2</span></code></a>, common
EXIF tags, and other well known metadata tags.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.TiffTags.PIL.TiffTags.TYPES">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">TYPES</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.TiffTags.PIL.TiffTags.TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">TYPES</span></code> dictionary maps the TIFF type short integer to a
human readable type name.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.TiffTags.PIL.TiffTags.LIBTIFF_CORE">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffTags.</span></span><span class="sig-name descname"><span class="pre">LIBTIFF_CORE</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><span class="pre">list</span></a></em><a class="headerlink" href="#PIL.TiffTags.PIL.TiffTags.LIBTIFF_CORE" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of supported tag IDs when writing using LibTIFF.</p>
</dd></dl>

</section>
<span id="document-reference/JpegPresets"></span><section id="module-PIL.JpegPresets">
<span id="jpegpresets-module"></span><h3><a class="reference internal" href="#module-PIL.JpegPresets" title="PIL.JpegPresets"><code class="xref py py-mod docutils literal notranslate"><span class="pre">JpegPresets</span></code></a> Module<a class="headerlink" href="#module-PIL.JpegPresets" title="Permalink to this headline">¶</a></h3>
<p>JPEG quality settings equivalent to the Photoshop settings.
Can be used when saving JPEG files.</p>
<p>The following presets are available by default:
<code class="docutils literal notranslate"><span class="pre">web_low</span></code>, <code class="docutils literal notranslate"><span class="pre">web_medium</span></code>, <code class="docutils literal notranslate"><span class="pre">web_high</span></code>, <code class="docutils literal notranslate"><span class="pre">web_very_high</span></code>, <code class="docutils literal notranslate"><span class="pre">web_maximum</span></code>,
<code class="docutils literal notranslate"><span class="pre">low</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, <code class="docutils literal notranslate"><span class="pre">high</span></code>, <code class="docutils literal notranslate"><span class="pre">maximum</span></code>.
More presets can be added to the <a class="reference internal" href="#PIL.JpegPresets.presets" title="PIL.JpegPresets.presets"><code class="xref py py-data docutils literal notranslate"><span class="pre">presets</span></code></a> dict if needed.</p>
<p>To apply the preset, specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">quality</span><span class="o">=</span><span class="s2">&quot;preset_name&quot;</span>
</pre></div>
</div>
<p>To apply only the quantization table:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qtables</span><span class="o">=</span><span class="s2">&quot;preset_name&quot;</span>
</pre></div>
</div>
<p>To apply only the subsampling setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subsampling</span><span class="o">=</span><span class="s2">&quot;preset_name&quot;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;image_name.jpg&quot;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s2">&quot;web_high&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="subsampling">
<h4>Subsampling<a class="headerlink" href="#subsampling" title="Permalink to this headline">¶</a></h4>
<p>Subsampling is the practice of encoding images by implementing less resolution
for chroma information than for luma information.
(ref.: <a class="reference external" href="https://en.wikipedia.org/wiki/Chroma_subsampling">https://en.wikipedia.org/wiki/Chroma_subsampling</a>)</p>
<p>Possible subsampling values are 0, 1 and 2 that correspond to 4:4:4, 4:2:2 and
4:2:0.</p>
<p>You can get the subsampling of a JPEG with the
<a class="reference internal" href="index.html#PIL.JpegImagePlugin.get_sampling" title="PIL.JpegImagePlugin.get_sampling"><code class="xref py py-func docutils literal notranslate"><span class="pre">JpegImagePlugin.get_sampling()</span></code></a> function.</p>
<p>In JPEG compressed data a JPEG marker is used instead of an EXIF tag.
(ref.: <a class="reference external" href="https://www.exiv2.org/tags.html">https://www.exiv2.org/tags.html</a>)</p>
</section>
<section id="quantization-tables">
<h4>Quantization tables<a class="headerlink" href="#quantization-tables" title="Permalink to this headline">¶</a></h4>
<p>They are values use by the DCT (Discrete cosine transform) to remove
<em>unnecessary</em> information from the image (the lossy part of the compression).
(ref.: <a class="reference external" href="https://en.wikipedia.org/wiki/Quantization_matrix#Quantization_matrices">https://en.wikipedia.org/wiki/Quantization_matrix#Quantization_matrices</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/JPEG#Quantization">https://en.wikipedia.org/wiki/JPEG#Quantization</a>)</p>
<p>You can get the quantization tables of a JPEG with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">quantization</span>
</pre></div>
</div>
<p>This will return a dict with a number of lists. You can pass this dict
directly as the qtables argument when saving a JPEG.</p>
<p>The quantization table format in presets is a list with sublists. These formats
are interchangeable.</p>
<p>Libjpeg ref.:
<a class="reference external" href="https://web.archive.org/web/20120328125543/http://www.jpegcameras.com/libjpeg/libjpeg-3.html">https://web.archive.org/web/20120328125543/http://www.jpegcameras.com/libjpeg/libjpeg-3.html</a></p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.JpegPresets.presets">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegPresets.</span></span><span class="sig-name descname"><span class="pre">presets</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.JpegPresets.presets" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of all supported presets.</p>
</dd></dl>

</section>
</section>
<span id="document-reference/PSDraw"></span><span class="target" id="module-PIL.PSDraw"></span><section id="psdraw-module">
<h3><a class="reference internal" href="#module-PIL.PSDraw" title="PIL.PSDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PSDraw</span></code></a> Module<a class="headerlink" href="#psdraw-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.PSDraw" title="PIL.PSDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PSDraw</span></code></a> module provides simple print support for PostScript
printers. You can print text, graphics and images through this module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PSDraw.</span></span><span class="sig-name descname"><span class="pre">PSDraw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up printing to the given file. If <code class="docutils literal notranslate"><span class="pre">fp</span></code> is omitted,
<code class="docutils literal notranslate"><span class="pre">sys.stdout.buffer</span></code> or <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> is assumed.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.begin_document">
<span class="sig-name descname"><span class="pre">begin_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.begin_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.begin_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up printing of a document. (Write PostScript DSC header.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.end_document">
<span class="sig-name descname"><span class="pre">end_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.end_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.end_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends printing. (Write PostScript DSC footer.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.image">
<span class="sig-name descname"><span class="pre">image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a PIL image, centered in the given box.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.line">
<span class="sig-name descname"><span class="pre">line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.line" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a line between the two points. Coordinates are given in
PostScript point coordinates (72 points per inch, (0, 0) is the lower
left corner of the page).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.rectangle">
<span class="sig-name descname"><span class="pre">rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.rectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.rectangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a rectangle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>box</strong> – <p>A 4-tuple of integers whose order and function is currently
undocumented.</p>
<p>Hint: the tuple is passed into this format string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">d</span> <span class="o">%</span><span class="n">d</span> <span class="n">M</span> <span class="o">%</span><span class="n">d</span> <span class="o">%</span><span class="n">d</span> <span class="mi">0</span> <span class="n">Vr</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.setfont">
<span class="sig-name descname"><span class="pre">setfont</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.setfont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.setfont" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects which font to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>font</strong> – A PostScript font name</p></li>
<li><p><strong>size</strong> – Size in points.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PSDraw.PSDraw.text">
<span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PSDraw.html#PSDraw.text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PSDraw.PSDraw.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws text at the given position. You must use
<a class="reference internal" href="#PIL.PSDraw.PSDraw.setfont" title="PIL.PSDraw.PSDraw.setfont"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setfont()</span></code></a> before calling this method.</p>
</dd></dl>

</dd></dl>

</section>
<span id="document-reference/PixelAccess"></span><section id="pixelaccess-class">
<span id="pixelaccess"></span><h3><a class="reference internal" href="#PixelAccess" title="PixelAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">PixelAccess</span></code></a> Class<a class="headerlink" href="#pixelaccess-class" title="Permalink to this headline">¶</a></h3>
<p>The PixelAccess class provides read and write access to
<a class="reference internal" href="index.html#module-PIL.Image" title="PIL.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image</span></code></a> data at a pixel level.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Accessing individual pixels is fairly slow. If you are looping over all of the pixels in an image, there is likely a faster way using other parts of the Pillow API.</p>
</div>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The following script loads an image, accesses one pixel from it, then
changes it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;hopper.jpg&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">px</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Results in the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">68</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Access using negative indexes is also possible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="id1">
<h4><a class="reference internal" href="#PixelAccess" title="PixelAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">PixelAccess</span></code></a> Class<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PixelAccess">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PixelAccess</span></span><a class="headerlink" href="#PixelAccess" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__setitem__(self,</span> <span class="pre">xy,</span> <span class="pre">color):</span></span></dt>
<dd><p>Modifies the pixel at x,y. The color is given as a single
numerical value for single band images, and a tuple for
multi-band images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The pixel coordinate, given as (x, y).</p></li>
<li><p><strong>color</strong> – The pixel value according to its mode. e.g. tuple (r, g, b) for RGB mode)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__getitem__(self,</span> <span class="pre">xy):</span></span></dt>
<dd><dl class="simple">
<dt>Returns the pixel at x,y. The pixel is returned as a single</dt><dd><p>value for single band images or a tuple for multiple band
images</p>
<dl class="field-list simple">
<dt class="field-odd">param xy</dt>
<dd class="field-odd"><p>The pixel coordinate, given as (x, y).</p>
</dd>
<dt class="field-even">returns</dt>
<dd class="field-even"><p>a pixel value for single band images, a tuple of
pixel values for multiband images.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">putpixel(self,</span> <span class="pre">xy,</span> <span class="pre">color):</span></span></dt>
<dd><p>Modifies the pixel at x,y. The color is given as a single
numerical value for single band images, and a tuple for
multi-band images. In addition to this, RGB and RGBA tuples
are accepted for P images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The pixel coordinate, given as (x, y).</p></li>
<li><p><strong>color</strong> – The pixel value according to its mode. e.g. tuple (r, g, b) for RGB mode)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">getpixel(self,</span> <span class="pre">xy):</span></span></dt>
<dd><dl class="simple">
<dt>Returns the pixel at x,y. The pixel is returned as a single</dt><dd><p>value for single band images or a tuple for multiple band
images</p>
<dl class="field-list simple">
<dt class="field-odd">param xy</dt>
<dd class="field-odd"><p>The pixel coordinate, given as (x, y).</p>
</dd>
<dt class="field-even">returns</dt>
<dd class="field-even"><p>a pixel value for single band images, a tuple of
pixel values for multiband images.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-reference/PyAccess"></span><span class="target" id="module-PIL.PyAccess"></span><section id="pyaccess-module">
<h3><a class="reference internal" href="#module-PIL.PyAccess" title="PIL.PyAccess"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PyAccess</span></code></a> Module<a class="headerlink" href="#pyaccess-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.PyAccess" title="PIL.PyAccess"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PyAccess</span></code></a> module provides a CFFI/Python implementation of the <a class="reference internal" href="index.html#pixelaccess"><span class="std std-ref">PixelAccess Class</span></a>. This implementation is far faster on PyPy than the PixelAccess version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Accessing individual pixels is fairly slow. If you are
looping over all of the pixels in an image, there is likely
a faster way using other parts of the Pillow API.</p>
</div>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The following script loads an image, accesses one pixel from it, then changes it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;hopper.jpg&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">px</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Results in the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">68</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Access using negative indexes is also possible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="pyaccess-class">
<h4><a class="reference internal" href="#PIL.PyAccess.PyAccess" title="PIL.PyAccess.PyAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyAccess</span></code></a> Class<a class="headerlink" href="#pyaccess-class" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PyAccess.PyAccess">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PyAccess.</span></span><span class="sig-name descname"><span class="pre">PyAccess</span></span><a class="reference internal" href="_modules/PIL/PyAccess.html#PyAccess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PyAccess.PyAccess" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="PIL.PyAccess.PyAccess.getpixel">
<span class="sig-name descname"><span class="pre">getpixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.PyAccess.PyAccess.getpixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixel at x,y. The pixel is returned as a single
value for single band images or a tuple for multiple band
images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xy</strong> – The pixel coordinate, given as (x, y). See
<a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pixel value for single band images, a tuple of
pixel values for multiband images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PyAccess.PyAccess.putpixel">
<span class="sig-name descname"><span class="pre">putpixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.PyAccess.PyAccess.putpixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies the pixel at x,y. The color is given as a single
numerical value for single band images, and a tuple for
multi-band images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> – The pixel coordinate, given as (x, y). See
<a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p></li>
<li><p><strong>color</strong> – The pixel value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-reference/features"></span><span class="target" id="module-PIL.features"></span><section id="features-module">
<h3><a class="reference internal" href="#module-PIL.features" title="PIL.features"><code class="xref py py-mod docutils literal notranslate"><span class="pre">features</span></code></a> Module<a class="headerlink" href="#features-module" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-PIL.features" title="PIL.features"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.features</span></code></a> module can be used to detect which Pillow features are available on your system.</p>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.pilinfo">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">pilinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supported_formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#pilinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.pilinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints information about this installation of Pillow.
This function can be called with <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">PIL</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> – The output stream to print to. Defaults to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>supported_formats</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a list of all supported image file formats will be printed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.check">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.check" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – A module, codec, or feature name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the module, codec, or feature is available,
<code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.version">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.version" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The module, codec, or feature to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The version number as a string, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unknown or not available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.get_supported">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">get_supported</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#get_supported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.get_supported" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of all supported modules, features, and codecs.</p>
</dd>
</dl>
</dd></dl>

<section id="modules">
<h4>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h4>
<p>Support for the following modules can be checked:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pil</span></code>: The Pillow core module, required for all functionality.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tkinter</span></code>: Tkinter support.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">freetype2</span></code>: FreeType font support via <a class="reference internal" href="index.html#PIL.ImageFont.truetype" title="PIL.ImageFont.truetype"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.ImageFont.truetype()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">littlecms2</span></code>: LittleCMS 2 support via <a class="reference internal" href="index.html#module-PIL.ImageCms" title="PIL.ImageCms"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.ImageCms</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">webp</span></code>: WebP image support.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.check_module">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">check_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#check_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.check_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a module is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The module to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the module is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.version_module">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">version_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#version_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.version_module" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The module to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The loaded version number as a string, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unknown or not available.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the module is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.get_supported_modules">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">get_supported_modules</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#get_supported_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.get_supported_modules" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of all supported modules.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="codecs">
<h4>Codecs<a class="headerlink" href="#codecs" title="Permalink to this headline">¶</a></h4>
<p>Support for these is only checked during Pillow compilation.
If the required library was uninstalled from the system, the <code class="docutils literal notranslate"><span class="pre">pil</span></code> core module may fail to load instead.
Except for <code class="docutils literal notranslate"><span class="pre">jpg</span></code>, the version number is checked at run-time.</p>
<p>Support for the following codecs can be checked:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jpg</span></code>: (compile time) Libjpeg support, required for JPEG based image formats. Only compile time version number is available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jpg_2000</span></code>: (compile time) OpenJPEG support, required for JPEG 2000 image formats.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zlib</span></code>: (compile time) Zlib support, required for zlib compressed formats, such as PNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libtiff</span></code>: (compile time) LibTIFF support, required for TIFF based image formats.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.check_codec">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">check_codec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#check_codec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.check_codec" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a codec is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The codec to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the codec is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.version_codec">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">version_codec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#version_codec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.version_codec" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The codec to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The version number as a string, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if not available.
Checked at compile time for <code class="docutils literal notranslate"><span class="pre">jpg</span></code>, run-time otherwise.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the codec is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.get_supported_codecs">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">get_supported_codecs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#get_supported_codecs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.get_supported_codecs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of all supported codecs.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="features">
<h4>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<p>Some of these are only checked during Pillow compilation.
If the required library was uninstalled from the system, the relevant module may fail to load instead.
Feature version numbers are available only where stated.</p>
<p>Support for the following features can be checked:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">libjpeg_turbo</span></code>: (compile time) Whether Pillow was compiled against the libjpeg-turbo version of libjpeg. Compile-time version number is available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transp_webp</span></code>: Support for transparency in WebP images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">webp_mux</span></code>: (compile time) Support for EXIF data in WebP images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">webp_anim</span></code>: (compile time) Support for animated WebP images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">raqm</span></code>: Raqm library, required for <code class="docutils literal notranslate"><span class="pre">ImageFont.LAYOUT_RAQM</span></code> in <a class="reference internal" href="index.html#PIL.ImageFont.truetype" title="PIL.ImageFont.truetype"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.ImageFont.truetype()</span></code></a>. Run-time version number is available for Raqm 0.7.0 or newer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libimagequant</span></code>: (compile time) ImageQuant quantization support in <a class="reference internal" href="index.html#PIL.Image.Image.quantize" title="PIL.Image.Image.quantize"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.Image.quantize()</span></code></a>. Run-time version number is available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xcb</span></code>: (compile time) Support for X11 in <a class="reference internal" href="index.html#PIL.ImageGrab.grab" title="PIL.ImageGrab.grab"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.ImageGrab.grab()</span></code></a> via the XCB library.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.check_feature">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">check_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#check_feature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.check_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a feature is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The feature to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> if unavailable, <code class="docutils literal notranslate"><span class="pre">None</span></code> if unknown.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the feature is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.version_feature">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">version_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#version_feature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.version_feature" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature</strong> – The feature to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The version number as a string, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if not available.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – If the feature is not defined in this version of Pillow.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.features.get_supported_features">
<span class="sig-prename descclassname"><span class="pre">PIL.features.</span></span><span class="sig-name descname"><span class="pre">get_supported_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/features.html#get_supported_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.features.get_supported_features" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of all supported features.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-PIL"></span><section id="pil-package-autodoc-of-remaining-modules">
<h3>PIL Package (autodoc of remaining modules)<a class="headerlink" href="#pil-package-autodoc-of-remaining-modules" title="Permalink to this headline">¶</a></h3>
<p>Reference for modules whose documentation has not yet been ported or written
can be found here.</p>
<section id="module-PIL">
<span id="pil-module"></span><h4><a class="reference internal" href="#module-PIL" title="PIL"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL</span></code></a> Module<a class="headerlink" href="#module-PIL" title="Permalink to this headline">¶</a></h4>
<dl class="py exception">
<dt class="sig sig-object py" id="PIL.UnidentifiedImageError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.</span></span><span class="sig-name descname"><span class="pre">UnidentifiedImageError</span></span><a class="reference internal" href="_modules/PIL.html#UnidentifiedImageError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.UnidentifiedImageError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OSError</span></code></a></p>
<p>Raised in <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.open()</span></code></a> if an image cannot be opened and identified.</p>
</dd></dl>

</section>
<section id="module-PIL.BdfFontFile">
<span id="bdffontfile-module"></span><h4><a class="reference internal" href="#module-PIL.BdfFontFile" title="PIL.BdfFontFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">BdfFontFile</span></code></a> Module<a class="headerlink" href="#module-PIL.BdfFontFile" title="Permalink to this headline">¶</a></h4>
<p>Parse X Bitmap Distribution Format (BDF)</p>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.BdfFontFile.BdfFontFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.BdfFontFile.</span></span><span class="sig-name descname"><span class="pre">BdfFontFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BdfFontFile.html#BdfFontFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BdfFontFile.BdfFontFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.FontFile.FontFile" title="PIL.FontFile.FontFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.FontFile.FontFile</span></code></a></p>
<p>Font file plugin for the X11 BDF format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.BdfFontFile.bdf_char">
<span class="sig-prename descclassname"><span class="pre">PIL.BdfFontFile.</span></span><span class="sig-name descname"><span class="pre">bdf_char</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BdfFontFile.html#bdf_char"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BdfFontFile.bdf_char" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.ContainerIO">
<span id="containerio-module"></span><h4><a class="reference internal" href="#module-PIL.ContainerIO" title="PIL.ContainerIO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ContainerIO</span></code></a> Module<a class="headerlink" href="#module-PIL.ContainerIO" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ContainerIO.</span></span><span class="sig-name descname"><span class="pre">ContainerIO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A file object that provides read access to a part of an existing
file (for example a TAR file).</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.isatty">
<span class="sig-name descname"><span class="pre">isatty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.isatty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.isatty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – Number of bytes to read. If omitted or zero,
read until end of region.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An 8-bit string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.readline">
<span class="sig-name descname"><span class="pre">readline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.readline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.readline" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a line of text.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An 8-bit string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.readlines">
<span class="sig-name descname"><span class="pre">readlines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.readlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.readlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read multiple lines of text.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of 8-bit strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Move file pointer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> – Offset in bytes.</p></li>
<li><p><strong>mode</strong> – Starting position. Use 0 for beginning of region, 1
for current offset, and 2 for end of region.  You cannot move
the pointer outside the defined region.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ContainerIO.ContainerIO.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ContainerIO.html#ContainerIO.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ContainerIO.ContainerIO.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current file pointer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Offset from start of region, in bytes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.FontFile">
<span id="fontfile-module"></span><h4><a class="reference internal" href="#module-PIL.FontFile" title="PIL.FontFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FontFile</span></code></a> Module<a class="headerlink" href="#module-PIL.FontFile" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.FontFile.FontFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.FontFile.</span></span><span class="sig-name descname"><span class="pre">FontFile</span></span><a class="reference internal" href="_modules/PIL/FontFile.html#FontFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FontFile.FontFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for raster font file handlers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FontFile.FontFile.bitmap">
<span class="sig-name descname"><span class="pre">bitmap</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#PIL.FontFile.FontFile.bitmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.FontFile.FontFile.compile">
<span class="sig-name descname"><span class="pre">compile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FontFile.html#FontFile.compile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FontFile.FontFile.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create metrics and bitmap</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.FontFile.FontFile.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FontFile.html#FontFile.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FontFile.FontFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save font</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.FontFile.puti16">
<span class="sig-prename descclassname"><span class="pre">PIL.FontFile.</span></span><span class="sig-name descname"><span class="pre">puti16</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FontFile.html#puti16"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FontFile.puti16" title="Permalink to this definition">¶</a></dt>
<dd><p>Write network order (big-endian) 16-bit sequence</p>
</dd></dl>

</section>
<section id="module-PIL.GdImageFile">
<span id="gdimagefile-module"></span><h4><a class="reference internal" href="#module-PIL.GdImageFile" title="PIL.GdImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GdImageFile</span></code></a> Module<a class="headerlink" href="#module-PIL.GdImageFile" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This format cannot be automatically recognized, so the
class is not registered for use with <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.open()</span></code></a>.  To open a
gd file, use the <a class="reference internal" href="#PIL.GdImageFile.open" title="PIL.GdImageFile.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.GdImageFile.open()</span></code></a> function instead.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>THE GD FORMAT IS NOT DESIGNED FOR DATA INTERCHANGE.  This
implementation is provided for convenience and demonstrational
purposes only.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.GdImageFile.GdImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GdImageFile.</span></span><span class="sig-name descname"><span class="pre">GdImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GdImageFile.html#GdImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GdImageFile.GdImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>Image plugin for the GD uncompressed format.  Note that this format
is not supported by the standard <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.open()</span></code></a> function.  To use
this plugin, you have to import the <a class="reference internal" href="#module-PIL.GdImageFile" title="PIL.GdImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.GdImageFile</span></code></a> module and
use the <a class="reference internal" href="#PIL.GdImageFile.open" title="PIL.GdImageFile.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.GdImageFile.open()</span></code></a> function.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GdImageFile.GdImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GD'</span></em><a class="headerlink" href="#PIL.GdImageFile.GdImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GdImageFile.GdImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GD</span> <span class="pre">uncompressed</span> <span class="pre">images'</span></em><a class="headerlink" href="#PIL.GdImageFile.GdImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GdImageFile.open">
<span class="sig-prename descclassname"><span class="pre">PIL.GdImageFile.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GdImageFile.html#open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GdImageFile.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Load texture from a GD image file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – GD file name, or an opened file handle.</p></li>
<li><p><strong>mode</strong> – Optional mode.  In this version, if the mode argument
is given, it must be “r”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image instance.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.9)"><strong>OSError</strong></a> – If the image could not be read.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.GimpGradientFile">
<span id="gimpgradientfile-module"></span><h4><a class="reference internal" href="#module-PIL.GimpGradientFile" title="PIL.GimpGradientFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GimpGradientFile</span></code></a> Module<a class="headerlink" href="#module-PIL.GimpGradientFile" title="Permalink to this headline">¶</a></h4>
<p>Stuff to translate curve segments to palette values (derived from
the corresponding code in GIMP, written by Federico Mena Quintero.
See the GIMP distribution for more information.)</p>
<dl class="py data">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.EPSILON">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">EPSILON</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1e-10</span></em><a class="headerlink" href="#PIL.GimpGradientFile.EPSILON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.GimpGradientFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">GimpGradientFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#GimpGradientFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.GimpGradientFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.GimpGradientFile.GradientFile" title="PIL.GimpGradientFile.GradientFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.GimpGradientFile.GradientFile</span></code></a></p>
<p>File handler for GIMP’s gradient format.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.GradientFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">GradientFile</span></span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#GradientFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.GradientFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.GradientFile.getpalette">
<span class="sig-name descname"><span class="pre">getpalette</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#GradientFile.getpalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.GradientFile.getpalette" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.GradientFile.gradient">
<span class="sig-name descname"><span class="pre">gradient</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#PIL.GimpGradientFile.GradientFile.gradient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.SEGMENTS">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">SEGMENTS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[&lt;function</span> <span class="pre">linear&gt;,</span> <span class="pre">&lt;function</span> <span class="pre">curved&gt;,</span> <span class="pre">&lt;function</span> <span class="pre">sine&gt;,</span> <span class="pre">&lt;function</span> <span class="pre">sphere_increasing&gt;,</span> <span class="pre">&lt;function</span> <span class="pre">sphere_decreasing&gt;]</span></em><a class="headerlink" href="#PIL.GimpGradientFile.SEGMENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.curved">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">curved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">middle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#curved"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.curved" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.linear">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">middle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#linear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.linear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.sine">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">sine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">middle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#sine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.sine" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.sphere_decreasing">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">sphere_decreasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">middle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#sphere_decreasing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.sphere_decreasing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GimpGradientFile.sphere_increasing">
<span class="sig-prename descclassname"><span class="pre">PIL.GimpGradientFile.</span></span><span class="sig-name descname"><span class="pre">sphere_increasing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">middle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpGradientFile.html#sphere_increasing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpGradientFile.sphere_increasing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.GimpPaletteFile">
<span id="gimppalettefile-module"></span><h4><a class="reference internal" href="#module-PIL.GimpPaletteFile" title="PIL.GimpPaletteFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GimpPaletteFile</span></code></a> Module<a class="headerlink" href="#module-PIL.GimpPaletteFile" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.GimpPaletteFile.GimpPaletteFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GimpPaletteFile.</span></span><span class="sig-name descname"><span class="pre">GimpPaletteFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpPaletteFile.html#GimpPaletteFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpPaletteFile.GimpPaletteFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>File handler for GIMP’s palette format.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.GimpPaletteFile.GimpPaletteFile.getpalette">
<span class="sig-name descname"><span class="pre">getpalette</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GimpPaletteFile.html#GimpPaletteFile.getpalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GimpPaletteFile.GimpPaletteFile.getpalette" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GimpPaletteFile.GimpPaletteFile.rawmode">
<span class="sig-name descname"><span class="pre">rawmode</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'RGB'</span></em><a class="headerlink" href="#PIL.GimpPaletteFile.GimpPaletteFile.rawmode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.ImageDraw2">
<span id="imagedraw2-module"></span><h4><a class="reference internal" href="#module-PIL.ImageDraw2" title="PIL.ImageDraw2"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageDraw2</span></code></a> Module<a class="headerlink" href="#module-PIL.ImageDraw2" title="Permalink to this headline">¶</a></h4>
<p>(Experimental) WCK-style drawing interface operations</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#module-PIL.ImageDraw" title="PIL.ImageDraw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.ImageDraw</span></code></a></p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Pen">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw2.</span></span><span class="sig-name descname"><span class="pre">Pen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Pen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Pen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Stores an outline color and width.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Brush">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw2.</span></span><span class="sig-name descname"><span class="pre">Brush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Brush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Brush" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Stores a fill color</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Font">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw2.</span></span><span class="sig-name descname"><span class="pre">Font</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Font"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Font" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Stores a TrueType font and color</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageDraw2.</span></span><span class="sig-name descname"><span class="pre">Draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>(Experimental) WCK-style drawing interface</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.render">
<span class="sig-name descname"><span class="pre">render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brush</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.render"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.settransform">
<span class="sig-name descname"><span class="pre">settransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.settransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.settransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a transformation offset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.arc">
<span class="sig-name descname"><span class="pre">arc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.arc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.arc" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws an arc (a portion of a circle outline) between the start and end
angles, inside the given bounding box.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.arc" title="PIL.ImageDraw.ImageDraw.arc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.arc()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.chord">
<span class="sig-name descname"><span class="pre">chord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.chord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.chord" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#PIL.ImageDraw2.Draw.arc" title="PIL.ImageDraw2.Draw.arc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arc()</span></code></a>, but connects the end points
with a straight line.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.chord" title="PIL.ImageDraw.ImageDraw.chord"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.chord()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.ellipse">
<span class="sig-name descname"><span class="pre">ellipse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.ellipse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws an ellipse inside the given bounding box.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.ellipse" title="PIL.ImageDraw.ImageDraw.ellipse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.ellipse()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.line">
<span class="sig-name descname"><span class="pre">line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.line" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a line between the coordinates in the <code class="docutils literal notranslate"><span class="pre">xy</span></code> list.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.line" title="PIL.ImageDraw.ImageDraw.line"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.line()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.pieslice">
<span class="sig-name descname"><span class="pre">pieslice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.pieslice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.pieslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as arc, but also draws straight lines between the end points and the
center of the bounding box.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.pieslice" title="PIL.ImageDraw.ImageDraw.pieslice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.pieslice()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.polygon">
<span class="sig-name descname"><span class="pre">polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a polygon.</p>
<p>The polygon outline consists of straight lines between the given
coordinates, plus a straight line between the last and the first
coordinate.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.polygon" title="PIL.ImageDraw.ImageDraw.polygon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.polygon()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.rectangle">
<span class="sig-name descname"><span class="pre">rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.rectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.rectangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a rectangle.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.rectangle" title="PIL.ImageDraw.ImageDraw.rectangle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.rectangle()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.text">
<span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the string at the given position.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.text()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageDraw2.Draw.textsize">
<span class="sig-name descname"><span class="pre">textsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageDraw2.html#Draw.textsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageDraw2.Draw.textsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the given string, in pixels.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.textsize" title="PIL.ImageDraw.ImageDraw.textsize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.textsize()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.ImageTransform">
<span id="imagetransform-module"></span><h4><a class="reference internal" href="#module-PIL.ImageTransform" title="PIL.ImageTransform"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImageTransform</span></code></a> Module<a class="headerlink" href="#module-PIL.ImageTransform" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTransform.AffineTransform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTransform.</span></span><span class="sig-name descname"><span class="pre">AffineTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#AffineTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.AffineTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ImageTransform.Transform" title="PIL.ImageTransform.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageTransform.Transform</span></code></a></p>
<p>Define an affine image transform.</p>
<p>This function takes a 6-tuple (a, b, c, d, e, f) which contain the first
two rows from an affine transform matrix. For each pixel (x, y) in the
output image, the new value is taken from a position (a x + b y + c,
d x + e y + f) in the input image, rounded to nearest pixel.</p>
<p>This function can be used to scale, translate, rotate, and shear the
original image.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>matrix</strong> – A 6-tuple (a, b, c, d, e, f) containing the first two rows
from an affine transform matrix.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageTransform.AffineTransform.method">
<span class="sig-name descname"><span class="pre">method</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#PIL.ImageTransform.AffineTransform.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTransform.ExtentTransform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTransform.</span></span><span class="sig-name descname"><span class="pre">ExtentTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#ExtentTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.ExtentTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ImageTransform.Transform" title="PIL.ImageTransform.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageTransform.Transform</span></code></a></p>
<p>Define a transform to extract a subregion from an image.</p>
<p>Maps a rectangle (defined by two corners) from the image to a rectangle of
the given size. The resulting image will contain data sampled from between
the corners, such that (x0, y0) in the input image will end up at (0,0) in
the output image, and (x1, y1) at size.</p>
<p>This method can be used to crop, stretch, shrink, or mirror an arbitrary
rectangle in the current image. It is slightly slower than crop, but about
as fast as a corresponding resize operation.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bbox</strong> – A 4-tuple (x0, y0, x1, y1) which specifies two points in the
input image’s coordinate system. See <a class="reference internal" href="index.html#coordinate-system"><span class="std std-ref">Coordinate System</span></a>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageTransform.ExtentTransform.method">
<span class="sig-name descname"><span class="pre">method</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#PIL.ImageTransform.ExtentTransform.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTransform.MeshTransform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTransform.</span></span><span class="sig-name descname"><span class="pre">MeshTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#MeshTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.MeshTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ImageTransform.Transform" title="PIL.ImageTransform.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageTransform.Transform</span></code></a></p>
<p>Define a mesh image transform.  A mesh transform consists of one or more
individual quad transforms.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – A list of (bbox, quad) tuples.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageTransform.MeshTransform.method">
<span class="sig-name descname"><span class="pre">method</span></span><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#PIL.ImageTransform.MeshTransform.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTransform.QuadTransform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTransform.</span></span><span class="sig-name descname"><span class="pre">QuadTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#QuadTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.QuadTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ImageTransform.Transform" title="PIL.ImageTransform.Transform"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageTransform.Transform</span></code></a></p>
<p>Define a quad image transform.</p>
<p>Maps a quadrilateral (a region defined by four corners) from the image to a
rectangle of the given size.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.transform" title="PIL.Image.Image.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xy</strong> – An 8-tuple (x0, y0, x1, y1, x2, y2, x3, y3) which contain the
upper left, lower left, lower right, and upper right corner of the
source quadrilateral.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImageTransform.QuadTransform.method">
<span class="sig-name descname"><span class="pre">method</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#PIL.ImageTransform.QuadTransform.method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImageTransform.Transform">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImageTransform.</span></span><span class="sig-name descname"><span class="pre">Transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#Transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.Transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.Image.ImageTransformHandler" title="PIL.Image.ImageTransformHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.ImageTransformHandler</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTransform.Transform.getdata">
<span class="sig-name descname"><span class="pre">getdata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#Transform.getdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.Transform.getdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImageTransform.Transform.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImageTransform.html#Transform.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImageTransform.Transform.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PaletteFile">
<span id="palettefile-module"></span><h4><a class="reference internal" href="#module-PIL.PaletteFile" title="PIL.PaletteFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PaletteFile</span></code></a> Module<a class="headerlink" href="#module-PIL.PaletteFile" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PaletteFile.PaletteFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PaletteFile.</span></span><span class="sig-name descname"><span class="pre">PaletteFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PaletteFile.html#PaletteFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PaletteFile.PaletteFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>File handler for Teragon-style palette files.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PaletteFile.PaletteFile.getpalette">
<span class="sig-name descname"><span class="pre">getpalette</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PaletteFile.html#PaletteFile.getpalette"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PaletteFile.PaletteFile.getpalette" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PaletteFile.PaletteFile.rawmode">
<span class="sig-name descname"><span class="pre">rawmode</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'RGB'</span></em><a class="headerlink" href="#PIL.PaletteFile.PaletteFile.rawmode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PcfFontFile">
<span id="pcffontfile-module"></span><h4><a class="reference internal" href="#module-PIL.PcfFontFile" title="PIL.PcfFontFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PcfFontFile</span></code></a> Module<a class="headerlink" href="#module-PIL.PcfFontFile" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PcfFontFile.PcfFontFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PcfFontFile.</span></span><span class="sig-name descname"><span class="pre">PcfFontFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charset_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iso8859-1'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PcfFontFile.html#PcfFontFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PcfFontFile.PcfFontFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.FontFile.FontFile" title="PIL.FontFile.FontFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.FontFile.FontFile</span></code></a></p>
<p>Font file plugin for the X11 PCF format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PcfFontFile.PcfFontFile.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'name'</span></em><a class="headerlink" href="#PIL.PcfFontFile.PcfFontFile.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.PcfFontFile.sz">
<span class="sig-prename descclassname"><span class="pre">PIL.PcfFontFile.</span></span><span class="sig-name descname"><span class="pre">sz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PcfFontFile.html#sz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PcfFontFile.sz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="pngimageplugin-itxt-class">
<h4><a class="reference internal" href="#PIL.PngImagePlugin.iTXt" title="PIL.PngImagePlugin.iTXt"><code class="xref py py-class docutils literal notranslate"><span class="pre">PngImagePlugin.iTXt</span></code></a> Class<a class="headerlink" href="#pngimageplugin-itxt-class" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.iTXt">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">iTXt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#iTXt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.iTXt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
<p>Subclass of string to allow iTXt chunks to look like strings while
keeping their extra information</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.iTXt.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tkey</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#iTXt.__new__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.iTXt.__new__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – value for this key</p></li>
<li><p><strong>lang</strong> – language code</p></li>
<li><p><strong>tkey</strong> – UTF-8 version of the key name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="pngimageplugin-pnginfo-class">
<h4><a class="reference internal" href="#PIL.PngImagePlugin.PngInfo" title="PIL.PngImagePlugin.PngInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">PngImagePlugin.PngInfo</span></code></a> Class<a class="headerlink" href="#pngimageplugin-pnginfo-class" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngInfo">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PngInfo</span></span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>PNG chunk container (for use with save(pnginfo=))</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngInfo.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_idat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngInfo.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngInfo.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends an arbitrary chunk. Use with caution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cid</strong> – a byte string, 4 bytes long.</p></li>
<li><p><strong>data</strong> – a byte string of the encoded data</p></li>
<li><p><strong>after_idat</strong> – for use with private chunks. Whether the chunk
should be written after IDAT</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngInfo.add_itxt">
<span class="sig-name descname"><span class="pre">add_itxt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngInfo.add_itxt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngInfo.add_itxt" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends an iTXt chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – latin-1 encodable text key name</p></li>
<li><p><strong>value</strong> – value for this key</p></li>
<li><p><strong>lang</strong> – language code</p></li>
<li><p><strong>tkey</strong> – UTF-8 version of the key name</p></li>
<li><p><strong>zip</strong> – compression flag</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngInfo.add_text">
<span class="sig-name descname"><span class="pre">add_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngInfo.add_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngInfo.add_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a text chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – latin-1 encodable text key name</p></li>
<li><p><strong>value</strong> – value for this key, text or an
<a class="reference internal" href="#PIL.PngImagePlugin.iTXt" title="PIL.PngImagePlugin.iTXt"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.iTXt</span></code></a> instance</p></li>
<li><p><strong>zip</strong> – compression flag</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.TarIO">
<span id="tario-module"></span><h4><a class="reference internal" href="#module-PIL.TarIO" title="PIL.TarIO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TarIO</span></code></a> Module<a class="headerlink" href="#module-PIL.TarIO" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.TarIO.TarIO">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TarIO.</span></span><span class="sig-name descname"><span class="pre">TarIO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tarfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TarIO.html#TarIO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TarIO.TarIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.ContainerIO.ContainerIO" title="PIL.ContainerIO.ContainerIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ContainerIO.ContainerIO</span></code></a></p>
<p>A file object that provides read access to a given member of a TAR file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.TarIO.TarIO.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TarIO.html#TarIO.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TarIO.TarIO.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.WalImageFile">
<span id="walimagefile-module"></span><h4><a class="reference internal" href="#module-PIL.WalImageFile" title="PIL.WalImageFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WalImageFile</span></code></a> Module<a class="headerlink" href="#module-PIL.WalImageFile" title="Permalink to this headline">¶</a></h4>
<p>This reader is based on the specification available from:
<a class="reference external" href="https://www.flipcode.com/archives/Quake_2_BSP_File_Format.shtml">https://www.flipcode.com/archives/Quake_2_BSP_File_Format.shtml</a>
and has been tested with a few sample files found using google.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This format cannot be automatically recognized, so the reader
is not registered for use with <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.open()</span></code></a>.
To open a WAL file, use the <a class="reference internal" href="#PIL.WalImageFile.open" title="PIL.WalImageFile.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.WalImageFile.open()</span></code></a> function instead.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.WalImageFile.open">
<span class="sig-prename descclassname"><span class="pre">PIL.WalImageFile.</span></span><span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WalImageFile.html#open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WalImageFile.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Load texture from a Quake2 WAL texture file.</p>
<p>By default, a Quake2 standard palette is attached to the texture.
To override the palette, use the <a class="reference internal" href="index.html#PIL.Image.Image.putpalette" title="PIL.Image.Image.putpalette"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.Image.Image.putpalette()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – WAL file name, or an opened file handle.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image instance.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-reference/plugins"></span><section id="plugin-reference">
<h3>Plugin reference<a class="headerlink" href="#plugin-reference" title="Permalink to this headline">¶</a></h3>
<section id="module-PIL.BmpImagePlugin">
<span id="bmpimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.BmpImagePlugin" title="PIL.BmpImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">BmpImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.BmpImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.BmpImagePlugin.</span></span><span class="sig-name descname"><span class="pre">BmpImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BmpImagePlugin.html#BmpImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>Image plugin for the Windows Bitmap format (BMP)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.BITFIELDS">
<span class="sig-name descname"><span class="pre">BITFIELDS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.BITFIELDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.COMPRESSIONS">
<span class="sig-name descname"><span class="pre">COMPRESSIONS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'BITFIELDS':</span> <span class="pre">3,</span> <span class="pre">'JPEG':</span> <span class="pre">4,</span> <span class="pre">'PNG':</span> <span class="pre">5,</span> <span class="pre">'RAW':</span> <span class="pre">0,</span> <span class="pre">'RLE4':</span> <span class="pre">2,</span> <span class="pre">'RLE8':</span> <span class="pre">1}</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.COMPRESSIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.JPEG">
<span class="sig-name descname"><span class="pre">JPEG</span></span><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.JPEG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.PNG">
<span class="sig-name descname"><span class="pre">PNG</span></span><em class="property"> <span class="pre">=</span> <span class="pre">5</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.PNG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.RAW">
<span class="sig-name descname"><span class="pre">RAW</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.RAW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.RLE4">
<span class="sig-name descname"><span class="pre">RLE4</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.RLE4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.RLE8">
<span class="sig-name descname"><span class="pre">RLE8</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.RLE8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'BMP'</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Bitmap'</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.k">
<span class="sig-name descname"><span class="pre">k</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PNG'</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.k" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.BmpImageFile.v">
<span class="sig-name descname"><span class="pre">v</span></span><em class="property"> <span class="pre">=</span> <span class="pre">5</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.BmpImageFile.v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.DibImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.BmpImagePlugin.</span></span><span class="sig-name descname"><span class="pre">DibImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BmpImagePlugin.html#DibImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BmpImagePlugin.DibImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.BmpImagePlugin.BmpImageFile" title="PIL.BmpImagePlugin.BmpImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.BmpImagePlugin.BmpImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.DibImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'DIB'</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.DibImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BmpImagePlugin.DibImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Bitmap'</span></em><a class="headerlink" href="#PIL.BmpImagePlugin.DibImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.BufrStubImagePlugin">
<span id="bufrstubimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.BufrStubImagePlugin" title="PIL.BufrStubImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">BufrStubImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.BufrStubImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.BufrStubImagePlugin.BufrStubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.BufrStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">BufrStubImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BufrStubImagePlugin.html#BufrStubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BufrStubImagePlugin.BufrStubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.StubImageFile" title="PIL.ImageFile.StubImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.StubImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BufrStubImagePlugin.BufrStubImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'BUFR'</span></em><a class="headerlink" href="#PIL.BufrStubImagePlugin.BufrStubImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.BufrStubImagePlugin.BufrStubImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'BUFR'</span></em><a class="headerlink" href="#PIL.BufrStubImagePlugin.BufrStubImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.BufrStubImagePlugin.register_handler">
<span class="sig-prename descclassname"><span class="pre">PIL.BufrStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">register_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/BufrStubImagePlugin.html#register_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.BufrStubImagePlugin.register_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Install application-specific BUFR image handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handler</strong> – Handler object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.CurImagePlugin">
<span id="curimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.CurImagePlugin" title="PIL.CurImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">CurImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.CurImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.CurImagePlugin.CurImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.CurImagePlugin.</span></span><span class="sig-name descname"><span class="pre">CurImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/CurImagePlugin.html#CurImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.CurImagePlugin.CurImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.BmpImagePlugin.BmpImageFile" title="PIL.BmpImagePlugin.BmpImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.BmpImagePlugin.BmpImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.CurImagePlugin.CurImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'CUR'</span></em><a class="headerlink" href="#PIL.CurImagePlugin.CurImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.CurImagePlugin.CurImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Cursor'</span></em><a class="headerlink" href="#PIL.CurImagePlugin.CurImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.DcxImagePlugin">
<span id="dcximageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.DcxImagePlugin" title="PIL.DcxImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">DcxImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.DcxImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.DcxImagePlugin.DcxImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.DcxImagePlugin.</span></span><span class="sig-name descname"><span class="pre">DcxImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/DcxImagePlugin.html#DcxImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.DcxImagePlugin.DcxImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.PcxImagePlugin.PcxImageFile" title="PIL.PcxImagePlugin.PcxImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.PcxImagePlugin.PcxImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.DcxImagePlugin.DcxImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'DCX'</span></em><a class="headerlink" href="#PIL.DcxImagePlugin.DcxImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.DcxImagePlugin.DcxImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Intel</span> <span class="pre">DCX'</span></em><a class="headerlink" href="#PIL.DcxImagePlugin.DcxImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.DcxImagePlugin.DcxImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/DcxImagePlugin.html#DcxImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.DcxImagePlugin.DcxImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.DcxImagePlugin.DcxImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/DcxImagePlugin.html#DcxImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.DcxImagePlugin.DcxImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.EpsImagePlugin">
<span id="epsimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.EpsImagePlugin" title="PIL.EpsImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">EpsImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.EpsImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.EpsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">EpsImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#EpsImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>EPS File Parser for the Python Imaging Library</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'EPS'</span></em><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Encapsulated</span> <span class="pre">Postscript'</span></em><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#EpsImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile.load_seek">
<span class="sig-name descname"><span class="pre">load_seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#EpsImageFile.load_seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile.load_seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.EpsImageFile.mode_map">
<span class="sig-name descname"><span class="pre">mode_map</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{1:</span> <span class="pre">'L',</span> <span class="pre">2:</span> <span class="pre">'LAB',</span> <span class="pre">3:</span> <span class="pre">'RGB',</span> <span class="pre">4:</span> <span class="pre">'CMYK'}</span></em><a class="headerlink" href="#PIL.EpsImagePlugin.EpsImageFile.mode_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.Ghostscript">
<span class="sig-prename descclassname"><span class="pre">PIL.EpsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">Ghostscript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#Ghostscript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.Ghostscript" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an image using Ghostscript</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.PSFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.EpsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PSFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#PSFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.PSFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapper for bytesio object that treats either CR or LF as end of line.</p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.PSFile.readline">
<span class="sig-name descname"><span class="pre">readline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#PSFile.readline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.PSFile.readline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.PSFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#PSFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.PSFile.seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.EpsImagePlugin.has_ghostscript">
<span class="sig-prename descclassname"><span class="pre">PIL.EpsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">has_ghostscript</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/EpsImagePlugin.html#has_ghostscript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.EpsImagePlugin.has_ghostscript" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.FitsStubImagePlugin">
<span id="fitsstubimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.FitsStubImagePlugin" title="PIL.FitsStubImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FitsStubImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.FitsStubImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.FitsStubImagePlugin.FITSStubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.FitsStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">FITSStubImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FitsStubImagePlugin.html#FITSStubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FitsStubImagePlugin.FITSStubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.StubImageFile" title="PIL.ImageFile.StubImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.StubImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FitsStubImagePlugin.FITSStubImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'FITS'</span></em><a class="headerlink" href="#PIL.FitsStubImagePlugin.FITSStubImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FitsStubImagePlugin.FITSStubImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'FITS'</span></em><a class="headerlink" href="#PIL.FitsStubImagePlugin.FITSStubImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.FitsStubImagePlugin.register_handler">
<span class="sig-prename descclassname"><span class="pre">PIL.FitsStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">register_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FitsStubImagePlugin.html#register_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FitsStubImagePlugin.register_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Install application-specific FITS image handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handler</strong> – Handler object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.FliImagePlugin">
<span id="fliimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.FliImagePlugin" title="PIL.FliImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FliImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.FliImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.FliImagePlugin.FliImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.FliImagePlugin.</span></span><span class="sig-name descname"><span class="pre">FliImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FliImagePlugin.html#FliImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FliImagePlugin.FliImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FliImagePlugin.FliImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'FLI'</span></em><a class="headerlink" href="#PIL.FliImagePlugin.FliImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FliImagePlugin.FliImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Autodesk</span> <span class="pre">FLI/FLC</span> <span class="pre">Animation'</span></em><a class="headerlink" href="#PIL.FliImagePlugin.FliImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.FliImagePlugin.FliImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FliImagePlugin.html#FliImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FliImagePlugin.FliImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.FliImagePlugin.FliImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FliImagePlugin.html#FliImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FliImagePlugin.FliImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.FpxImagePlugin">
<span id="fpximageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.FpxImagePlugin" title="PIL.FpxImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FpxImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.FpxImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.FpxImagePlugin.FpxImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.FpxImagePlugin.</span></span><span class="sig-name descname"><span class="pre">FpxImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FpxImagePlugin.html#FpxImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FpxImagePlugin.FpxImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FpxImagePlugin.FpxImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'FPX'</span></em><a class="headerlink" href="#PIL.FpxImagePlugin.FpxImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.FpxImagePlugin.FpxImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'FlashPix'</span></em><a class="headerlink" href="#PIL.FpxImagePlugin.FpxImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.FpxImagePlugin.FpxImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/FpxImagePlugin.html#FpxImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.FpxImagePlugin.FpxImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.GbrImagePlugin">
<span id="gbrimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.GbrImagePlugin" title="PIL.GbrImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GbrImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.GbrImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.GbrImagePlugin.GbrImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GbrImagePlugin.</span></span><span class="sig-name descname"><span class="pre">GbrImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GbrImagePlugin.html#GbrImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GbrImagePlugin.GbrImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GbrImagePlugin.GbrImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GBR'</span></em><a class="headerlink" href="#PIL.GbrImagePlugin.GbrImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GbrImagePlugin.GbrImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GIMP</span> <span class="pre">brush</span> <span class="pre">file'</span></em><a class="headerlink" href="#PIL.GbrImagePlugin.GbrImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.GbrImagePlugin.GbrImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GbrImagePlugin.html#GbrImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GbrImagePlugin.GbrImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.GifImagePlugin">
<span id="gifimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.GifImagePlugin" title="PIL.GifImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GifImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.GifImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GifImagePlugin.</span></span><span class="sig-name descname"><span class="pre">GifImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#GifImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.data">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#GifImageFile.data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GIF'</span></em><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Compuserve</span> <span class="pre">GIF'</span></em><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.global_palette">
<span class="sig-name descname"><span class="pre">global_palette</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.global_palette" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.is_animated">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_animated</span></span><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.is_animated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.load_prepare">
<span class="sig-name descname"><span class="pre">load_prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#GifImageFile.load_prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.load_prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.n_frames">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_frames</span></span><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.n_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#GifImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.GifImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#GifImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.GifImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.get_interlace">
<span class="sig-prename descclassname"><span class="pre">PIL.GifImagePlugin.</span></span><span class="sig-name descname"><span class="pre">get_interlace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#get_interlace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.get_interlace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.getdata">
<span class="sig-prename descclassname"><span class="pre">PIL.GifImagePlugin.</span></span><span class="sig-name descname"><span class="pre">getdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#getdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.getdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy Method</p>
<p>Return a list of strings representing this image.
The first string is a local image header, the rest contains
encoded image data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – Image object</p></li>
<li><p><strong>offset</strong> – Tuple of (x, y) pixels. Defaults to (0,0)</p></li>
<li><p><strong>**params</strong> – E.g. duration or other encoder info parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Bytes containing gif encoded frame data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GifImagePlugin.getheader">
<span class="sig-prename descclassname"><span class="pre">PIL.GifImagePlugin.</span></span><span class="sig-name descname"><span class="pre">getheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GifImagePlugin.html#getheader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GifImagePlugin.getheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy Method to get Gif data from image.</p>
<p>Warning:: May modify image data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> – Image object</p></li>
<li><p><strong>palette</strong> – bytes object containing the source palette, or ….</p></li>
<li><p><strong>info</strong> – encoderinfo</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple of(list of header items, optimized palette)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.GribStubImagePlugin">
<span id="gribstubimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.GribStubImagePlugin" title="PIL.GribStubImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">GribStubImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.GribStubImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.GribStubImagePlugin.GribStubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.GribStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">GribStubImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GribStubImagePlugin.html#GribStubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GribStubImagePlugin.GribStubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.StubImageFile" title="PIL.ImageFile.StubImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.StubImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GribStubImagePlugin.GribStubImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GRIB'</span></em><a class="headerlink" href="#PIL.GribStubImagePlugin.GribStubImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.GribStubImagePlugin.GribStubImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'GRIB'</span></em><a class="headerlink" href="#PIL.GribStubImagePlugin.GribStubImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.GribStubImagePlugin.register_handler">
<span class="sig-prename descclassname"><span class="pre">PIL.GribStubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">register_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/GribStubImagePlugin.html#register_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.GribStubImagePlugin.register_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Install application-specific GRIB image handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handler</strong> – Handler object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.Hdf5StubImagePlugin">
<span id="hdf5stubimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.Hdf5StubImagePlugin" title="PIL.Hdf5StubImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Hdf5StubImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.Hdf5StubImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.Hdf5StubImagePlugin.HDF5StubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Hdf5StubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">HDF5StubImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Hdf5StubImagePlugin.html#HDF5StubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Hdf5StubImagePlugin.HDF5StubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.StubImageFile" title="PIL.ImageFile.StubImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.StubImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Hdf5StubImagePlugin.HDF5StubImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'HDF5'</span></em><a class="headerlink" href="#PIL.Hdf5StubImagePlugin.HDF5StubImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Hdf5StubImagePlugin.HDF5StubImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'HDF5'</span></em><a class="headerlink" href="#PIL.Hdf5StubImagePlugin.HDF5StubImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.Hdf5StubImagePlugin.register_handler">
<span class="sig-prename descclassname"><span class="pre">PIL.Hdf5StubImagePlugin.</span></span><span class="sig-name descname"><span class="pre">register_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Hdf5StubImagePlugin.html#register_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Hdf5StubImagePlugin.register_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Install application-specific HDF5 image handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handler</strong> – Handler object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.IcnsImagePlugin">
<span id="icnsimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.IcnsImagePlugin" title="PIL.IcnsImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IcnsImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.IcnsImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IcnsFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile.SIZES">
<span class="sig-name descname"><span class="pre">SIZES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{(16,</span> <span class="pre">16,</span> <span class="pre">1):</span> <span class="pre">[(b'icp4',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;),</span> <span class="pre">(b'is32',</span> <span class="pre">&lt;function</span> <span class="pre">read_32&gt;),</span> <span class="pre">(b's8mk',</span> <span class="pre">&lt;function</span> <span class="pre">read_mk&gt;)],</span> <span class="pre">(16,</span> <span class="pre">16,</span> <span class="pre">2):</span> <span class="pre">[(b'ic11',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(32,</span> <span class="pre">32,</span> <span class="pre">1):</span> <span class="pre">[(b'icp5',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;),</span> <span class="pre">(b'il32',</span> <span class="pre">&lt;function</span> <span class="pre">read_32&gt;),</span> <span class="pre">(b'l8mk',</span> <span class="pre">&lt;function</span> <span class="pre">read_mk&gt;)],</span> <span class="pre">(32,</span> <span class="pre">32,</span> <span class="pre">2):</span> <span class="pre">[(b'ic12',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(48,</span> <span class="pre">48,</span> <span class="pre">1):</span> <span class="pre">[(b'ih32',</span> <span class="pre">&lt;function</span> <span class="pre">read_32&gt;),</span> <span class="pre">(b'h8mk',</span> <span class="pre">&lt;function</span> <span class="pre">read_mk&gt;)],</span> <span class="pre">(64,</span> <span class="pre">64,</span> <span class="pre">1):</span> <span class="pre">[(b'icp6',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(128,</span> <span class="pre">128,</span> <span class="pre">1):</span> <span class="pre">[(b'ic07',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;),</span> <span class="pre">(b'it32',</span> <span class="pre">&lt;function</span> <span class="pre">read_32t&gt;),</span> <span class="pre">(b't8mk',</span> <span class="pre">&lt;function</span> <span class="pre">read_mk&gt;)],</span> <span class="pre">(128,</span> <span class="pre">128,</span> <span class="pre">2):</span> <span class="pre">[(b'ic13',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(256,</span> <span class="pre">256,</span> <span class="pre">1):</span> <span class="pre">[(b'ic08',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(256,</span> <span class="pre">256,</span> <span class="pre">2):</span> <span class="pre">[(b'ic14',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(512,</span> <span class="pre">512,</span> <span class="pre">1):</span> <span class="pre">[(b'ic09',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)],</span> <span class="pre">(512,</span> <span class="pre">512,</span> <span class="pre">2):</span> <span class="pre">[(b'ic10',</span> <span class="pre">&lt;function</span> <span class="pre">read_png_or_jpeg2000&gt;)]}</span></em><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile.SIZES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile.bestsize">
<span class="sig-name descname"><span class="pre">bestsize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsFile.bestsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile.bestsize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile.dataforsize">
<span class="sig-name descname"><span class="pre">dataforsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsFile.dataforsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile.dataforsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an icon resource as {channel: array}.  Note that
the arrays are bottom-up like windows bitmaps and will likely
need to be flipped or transposed in some way.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile.getimage">
<span class="sig-name descname"><span class="pre">getimage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsFile.getimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile.getimage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsFile.itersizes">
<span class="sig-name descname"><span class="pre">itersizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsFile.itersizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsFile.itersizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IcnsImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>PIL image support for Mac OS .icns files.
Chooses the best resolution, but will possibly load
a different size image if you mutate the size attribute
before calling ‘load’.</p>
<p>The info dictionary has a key ‘sizes’ that is a list
of sizes that the icns file has.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'ICNS'</span></em><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Mac</span> <span class="pre">OS</span> <span class="pre">icns</span> <span class="pre">resource'</span></em><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#IcnsImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.IcnsImageFile.size">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#PIL.IcnsImagePlugin.IcnsImageFile.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.nextheader">
<span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">nextheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#nextheader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.nextheader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.read_32">
<span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">read_32</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#read_32"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.read_32" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a 32bit RGB icon resource.  Seems to be either uncompressed or
an RLE packbits-like scheme.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.read_32t">
<span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">read_32t</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#read_32t"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.read_32t" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.read_mk">
<span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">read_mk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#read_mk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.read_mk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IcnsImagePlugin.read_png_or_jpeg2000">
<span class="sig-prename descclassname"><span class="pre">PIL.IcnsImagePlugin.</span></span><span class="sig-name descname"><span class="pre">read_png_or_jpeg2000</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcnsImagePlugin.html#read_png_or_jpeg2000"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcnsImagePlugin.read_png_or_jpeg2000" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.IcoImagePlugin">
<span id="icoimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.IcoImagePlugin" title="PIL.IcoImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IcoImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.IcoImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.IcoImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IcoFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoFile.frame">
<span class="sig-name descname"><span class="pre">frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoFile.frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoFile.frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an image from frame idx</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoFile.getentryindex">
<span class="sig-name descname"><span class="pre">getentryindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoFile.getentryindex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoFile.getentryindex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoFile.getimage">
<span class="sig-name descname"><span class="pre">getimage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoFile.getimage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoFile.getimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an image from the icon</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoFile.sizes">
<span class="sig-name descname"><span class="pre">sizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoFile.sizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoFile.sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available icon sizes and color depths.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.IcoImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IcoImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<p>PIL read-only image support for Microsoft Windows .ico files.</p>
<p>By default the largest resolution image in the file will be loaded. This
can be changed by altering the ‘size’ attribute before calling ‘load’.</p>
<p>The info dictionary has a key ‘sizes’ that is a list of the sizes available
in the icon file.</p>
<p>Handles classic, XP and Vista icon formats.</p>
<p>When saving, PNG compression is used. Support for this was only added in
Windows Vista. If you are unable to view the icon in Windows, convert the
image to “RGBA” mode before saving.</p>
<p>This plugin is a refactored version of Win32IconImagePlugin by Bryan Davis
&lt;<a class="reference external" href="mailto:casadebender&#37;&#52;&#48;gmail&#46;com">casadebender<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;.
<a class="reference external" href="https://code.google.com/archive/p/casadebender/wikis/Win32IconImagePlugin.wiki">https://code.google.com/archive/p/casadebender/wikis/Win32IconImagePlugin.wiki</a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'ICO'</span></em><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Icon'</span></em><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile.load_seek">
<span class="sig-name descname"><span class="pre">load_seek</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IcoImagePlugin.html#IcoImageFile.load_seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile.load_seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.IcoImagePlugin.IcoImageFile.size">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#PIL.IcoImagePlugin.IcoImageFile.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.ImImagePlugin">
<span id="imimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.ImImagePlugin" title="PIL.ImImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.ImImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ImImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImImagePlugin.html#ImImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IM'</span></em><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IFUNC</span> <span class="pre">Image</span> <span class="pre">Memory'</span></em><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.is_animated">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_animated</span></span><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.is_animated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.n_frames">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_frames</span></span><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.n_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImImagePlugin.html#ImImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.ImImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImImagePlugin.html#ImImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImImagePlugin.ImImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.ImImagePlugin.number">
<span class="sig-prename descclassname"><span class="pre">PIL.ImImagePlugin.</span></span><span class="sig-name descname"><span class="pre">number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImImagePlugin.html#number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImImagePlugin.number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.ImtImagePlugin">
<span id="imtimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.ImtImagePlugin" title="PIL.ImtImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ImtImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.ImtImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.ImtImagePlugin.ImtImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.ImtImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ImtImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/ImtImagePlugin.html#ImtImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.ImtImagePlugin.ImtImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImtImagePlugin.ImtImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IMT'</span></em><a class="headerlink" href="#PIL.ImtImagePlugin.ImtImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.ImtImagePlugin.ImtImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IM</span> <span class="pre">Tools'</span></em><a class="headerlink" href="#PIL.ImtImagePlugin.ImtImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.IptcImagePlugin">
<span id="iptcimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.IptcImagePlugin" title="PIL.IptcImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IptcImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.IptcImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.IptcImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IptcImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#IptcImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile.field">
<span class="sig-name descname"><span class="pre">field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#IptcImageFile.field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile.field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IPTC'</span></em><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'IPTC/NAA'</span></em><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile.getint">
<span class="sig-name descname"><span class="pre">getint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#IptcImageFile.getint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile.getint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.IptcImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#IptcImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.IptcImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.dump">
<span class="sig-prename descclassname"><span class="pre">PIL.IptcImagePlugin.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.getiptcinfo">
<span class="sig-prename descclassname"><span class="pre">PIL.IptcImagePlugin.</span></span><span class="sig-name descname"><span class="pre">getiptcinfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#getiptcinfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.getiptcinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get IPTC information from TIFF, JPEG, or IPTC file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>im</strong> – An image containing IPTC data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary containing IPTC information, or None if
no IPTC information block was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.IptcImagePlugin.i">
<span class="sig-prename descclassname"><span class="pre">PIL.IptcImagePlugin.</span></span><span class="sig-name descname"><span class="pre">i</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/IptcImagePlugin.html#i"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.IptcImagePlugin.i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.JpegImagePlugin">
<span id="jpegimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.JpegImagePlugin" title="PIL.JpegImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">JpegImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.JpegImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.APP">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#APP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.APP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.COM">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">COM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#COM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.COM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.DQT">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">DQT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#DQT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.DQT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">JpegImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#JpegImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.draft">
<span class="sig-name descname"><span class="pre">draft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#JpegImageFile.draft"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.draft" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the image file loader so it returns a version of the
image that as closely as possible matches the given mode and
size. For example, you can use this method to convert a color
JPEG to greyscale while loading it.</p>
<p>If any changes are made, returns a tuple with the chosen <code class="docutils literal notranslate"><span class="pre">mode</span></code> and
<code class="docutils literal notranslate"><span class="pre">box</span></code> with coordinates of the original image within the altered one.</p>
<p>Note that this method modifies the <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> object
in place. If the image has already been loaded, this method has no
effect.</p>
<p>Note: This method is not implemented for most images. It is
currently implemented only for JPEG and MPO images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – The requested mode.</p></li>
<li><p><strong>size</strong> – The requested size.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'JPEG'</span></em><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'JPEG</span> <span class="pre">(ISO</span> <span class="pre">10918)'</span></em><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.getxmp">
<span class="sig-name descname"><span class="pre">getxmp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#JpegImageFile.getxmp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.getxmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the XMP tags.
Requires defusedxml to be installed.
:returns: XMP tags in a dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.load_djpeg">
<span class="sig-name descname"><span class="pre">load_djpeg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#JpegImageFile.load_djpeg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.load_djpeg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.JpegImageFile.load_read">
<span class="sig-name descname"><span class="pre">load_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_bytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#JpegImageFile.load_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.JpegImageFile.load_read" title="Permalink to this definition">¶</a></dt>
<dd><p>internal: read more image data
For premature EOF and LOAD_TRUNCATED_IMAGES adds EOI marker
so libjpeg can finish decoding</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.SOF">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">SOF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#SOF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.SOF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.Skip">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">Skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#Skip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.Skip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.convert_dict_qtables">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">convert_dict_qtables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qtables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#convert_dict_qtables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.convert_dict_qtables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.get_sampling">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">get_sampling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#get_sampling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.get_sampling" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.JpegImagePlugin.jpeg_factory">
<span class="sig-prename descclassname"><span class="pre">PIL.JpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">jpeg_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/JpegImagePlugin.html#jpeg_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.JpegImagePlugin.jpeg_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.Jpeg2KImagePlugin">
<span id="jpeg2kimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.Jpeg2KImagePlugin" title="PIL.Jpeg2KImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Jpeg2KImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.Jpeg2KImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.Jpeg2KImagePlugin.</span></span><span class="sig-name descname"><span class="pre">Jpeg2KImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Jpeg2KImagePlugin.html#Jpeg2KImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Jpeg2KImagePlugin.Jpeg2KImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'JPEG2000'</span></em><a class="headerlink" href="#PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'JPEG</span> <span class="pre">2000</span> <span class="pre">(ISO</span> <span class="pre">15444)'</span></em><a class="headerlink" href="#PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/Jpeg2KImagePlugin.html#Jpeg2KImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.reduce">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">reduce</span></span><a class="headerlink" href="#PIL.Jpeg2KImagePlugin.Jpeg2KImageFile.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the image reduced <code class="docutils literal notranslate"><span class="pre">factor</span></code> times.
If the size of the image is not dividable by <code class="docutils literal notranslate"><span class="pre">factor</span></code>,
the resulting size will be rounded up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>factor</strong> – A greater than 0 integer or tuple of two integers
for width and height separately.</p></li>
<li><p><strong>box</strong> – An optional 4-tuple of ints providing
the source image region to be reduced.
The values must be within <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">width,</span> <span class="pre">height)</span></code> rectangle.
If omitted or <code class="docutils literal notranslate"><span class="pre">None</span></code>, the entire source is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.McIdasImagePlugin">
<span id="mcidasimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.McIdasImagePlugin" title="PIL.McIdasImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">McIdasImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.McIdasImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.McIdasImagePlugin.McIdasImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.McIdasImagePlugin.</span></span><span class="sig-name descname"><span class="pre">McIdasImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/McIdasImagePlugin.html#McIdasImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.McIdasImagePlugin.McIdasImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.McIdasImagePlugin.McIdasImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'MCIDAS'</span></em><a class="headerlink" href="#PIL.McIdasImagePlugin.McIdasImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.McIdasImagePlugin.McIdasImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'McIdas</span> <span class="pre">area</span> <span class="pre">file'</span></em><a class="headerlink" href="#PIL.McIdasImagePlugin.McIdasImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.MicImagePlugin">
<span id="micimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.MicImagePlugin" title="PIL.MicImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MicImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.MicImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.MicImagePlugin.MicImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.MicImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MicImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MicImagePlugin.html#MicImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MicImagePlugin.MicImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.TiffImagePlugin.TiffImageFile" title="PIL.TiffImagePlugin.TiffImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.TiffImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MicImagePlugin.MicImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'MIC'</span></em><a class="headerlink" href="#PIL.MicImagePlugin.MicImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MicImagePlugin.MicImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Microsoft</span> <span class="pre">Image</span> <span class="pre">Composer'</span></em><a class="headerlink" href="#PIL.MicImagePlugin.MicImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.MicImagePlugin.MicImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MicImagePlugin.html#MicImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MicImagePlugin.MicImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a given frame as current image</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.MicImagePlugin.MicImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MicImagePlugin.html#MicImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MicImagePlugin.MicImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current frame number</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.MpegImagePlugin">
<span id="mpegimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.MpegImagePlugin" title="PIL.MpegImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MpegImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.MpegImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.BitStream">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.MpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">BitStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#BitStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.BitStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.BitStream.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#BitStream.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.BitStream.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.BitStream.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#BitStream.peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.BitStream.peek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.BitStream.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#BitStream.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.BitStream.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.BitStream.skip">
<span class="sig-name descname"><span class="pre">skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#BitStream.skip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.BitStream.skip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.MpegImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.MpegImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MpegImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MpegImagePlugin.html#MpegImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MpegImagePlugin.MpegImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.MpegImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'MPEG'</span></em><a class="headerlink" href="#PIL.MpegImagePlugin.MpegImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MpegImagePlugin.MpegImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'MPEG'</span></em><a class="headerlink" href="#PIL.MpegImagePlugin.MpegImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.MspImagePlugin">
<span id="mspimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.MspImagePlugin" title="PIL.MspImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MspImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.MspImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.MspImagePlugin.MspDecoder">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.MspImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MspDecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MspImagePlugin.html#MspDecoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MspImagePlugin.MspDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.PyDecoder" title="PIL.ImageFile.PyDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.PyDecoder</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.MspImagePlugin.MspDecoder.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MspImagePlugin.html#MspDecoder.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MspImagePlugin.MspDecoder.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to perform the decoding process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer</strong> – A bytes object with the data to be decoded.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of <code class="docutils literal notranslate"><span class="pre">(bytes</span> <span class="pre">consumed,</span> <span class="pre">errcode)</span></code>.
If finished with decoding return &lt;0 for the bytes consumed.
Err codes are from <a class="reference internal" href="index.html#PIL.ImageFile.ERRORS" title="PIL.ImageFile.ERRORS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFile.ERRORS</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.MspImagePlugin.MspImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.MspImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MspImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/MspImagePlugin.html#MspImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.MspImagePlugin.MspImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MspImagePlugin.MspImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'MSP'</span></em><a class="headerlink" href="#PIL.MspImagePlugin.MspImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.MspImagePlugin.MspImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Paint'</span></em><a class="headerlink" href="#PIL.MspImagePlugin.MspImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PalmImagePlugin">
<span id="palmimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PalmImagePlugin" title="PIL.PalmImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PalmImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PalmImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="PIL.PalmImagePlugin.build_prototype_image">
<span class="sig-prename descclassname"><span class="pre">PIL.PalmImagePlugin.</span></span><span class="sig-name descname"><span class="pre">build_prototype_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PalmImagePlugin.html#build_prototype_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PalmImagePlugin.build_prototype_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.PcdImagePlugin">
<span id="pcdimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PcdImagePlugin" title="PIL.PcdImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PcdImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PcdImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PcdImagePlugin.PcdImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PcdImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PcdImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PcdImagePlugin.html#PcdImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PcdImagePlugin.PcdImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PcdImagePlugin.PcdImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PCD'</span></em><a class="headerlink" href="#PIL.PcdImagePlugin.PcdImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PcdImagePlugin.PcdImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Kodak</span> <span class="pre">PhotoCD'</span></em><a class="headerlink" href="#PIL.PcdImagePlugin.PcdImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PcdImagePlugin.PcdImageFile.load_end">
<span class="sig-name descname"><span class="pre">load_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PcdImagePlugin.html#PcdImageFile.load_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PcdImagePlugin.PcdImageFile.load_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PcxImagePlugin">
<span id="pcximageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PcxImagePlugin" title="PIL.PcxImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PcxImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PcxImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PcxImagePlugin.PcxImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PcxImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PcxImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PcxImagePlugin.html#PcxImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PcxImagePlugin.PcxImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PcxImagePlugin.PcxImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PCX'</span></em><a class="headerlink" href="#PIL.PcxImagePlugin.PcxImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PcxImagePlugin.PcxImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Paintbrush'</span></em><a class="headerlink" href="#PIL.PcxImagePlugin.PcxImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PdfImagePlugin">
<span id="pdfimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PdfImagePlugin" title="PIL.PdfImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PdfImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PdfImagePlugin" title="Permalink to this headline">¶</a></h4>
</section>
<section id="module-PIL.PixarImagePlugin">
<span id="pixarimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PixarImagePlugin" title="PIL.PixarImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PixarImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PixarImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PixarImagePlugin.PixarImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PixarImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PixarImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PixarImagePlugin.html#PixarImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PixarImagePlugin.PixarImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PixarImagePlugin.PixarImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PIXAR'</span></em><a class="headerlink" href="#PIL.PixarImagePlugin.PixarImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PixarImagePlugin.PixarImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PIXAR</span> <span class="pre">raster</span> <span class="pre">image'</span></em><a class="headerlink" href="#PIL.PixarImagePlugin.PixarImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PngImagePlugin">
<span id="pngimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PngImagePlugin" title="PIL.PngImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PngImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PngImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ChunkStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.call">
<span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the appropriate chunk handler</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.crc">
<span class="sig-name descname"><span class="pre">crc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.crc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.crc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and verify checksum</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.crc_skip">
<span class="sig-name descname"><span class="pre">crc_skip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.crc_skip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.crc_skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Read checksum.  Used if the C module is not present</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.push"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.push" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a new chunk. Returns header information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.ChunkStream.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endchunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">b'IEND'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#ChunkStream.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.ChunkStream.verify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PngImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.getexif">
<span class="sig-name descname"><span class="pre">getexif</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.getexif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.getexif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.getxmp">
<span class="sig-name descname"><span class="pre">getxmp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.getxmp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.getxmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the XMP tags.
Requires defusedxml to be installed.
:returns: XMP tags in a dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.load_end">
<span class="sig-name descname"><span class="pre">load_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.load_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.load_end" title="Permalink to this definition">¶</a></dt>
<dd><p>internal: finished reading image data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.load_prepare">
<span class="sig-name descname"><span class="pre">load_prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.load_prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.load_prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>internal: prepare to read PNG file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.load_read">
<span class="sig-name descname"><span class="pre">load_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">read_bytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.load_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.load_read" title="Permalink to this definition">¶</a></dt>
<dd><p>internal: read more image data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngImageFile.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify PNG file</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PNG'</span></em><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Portable</span> <span class="pre">network</span> <span class="pre">graphics'</span></em><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngImageFile.text">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">text</span></span><a class="headerlink" href="#PIL.PngImagePlugin.PngImageFile.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PngStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.PngImagePlugin.ChunkStream" title="PIL.PngImagePlugin.ChunkStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.ChunkStream</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.check_text_memory">
<span class="sig-name descname"><span class="pre">check_text_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunklen</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.check_text_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.check_text_memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_IDAT">
<span class="sig-name descname"><span class="pre">chunk_IDAT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_IDAT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_IDAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_IEND">
<span class="sig-name descname"><span class="pre">chunk_IEND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_IEND"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_IEND" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_IHDR">
<span class="sig-name descname"><span class="pre">chunk_IHDR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_IHDR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_IHDR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_PLTE">
<span class="sig-name descname"><span class="pre">chunk_PLTE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_PLTE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_PLTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_acTL">
<span class="sig-name descname"><span class="pre">chunk_acTL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_acTL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_acTL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_cHRM">
<span class="sig-name descname"><span class="pre">chunk_cHRM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_cHRM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_cHRM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_eXIf">
<span class="sig-name descname"><span class="pre">chunk_eXIf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_eXIf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_eXIf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_fcTL">
<span class="sig-name descname"><span class="pre">chunk_fcTL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_fcTL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_fcTL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_fdAT">
<span class="sig-name descname"><span class="pre">chunk_fdAT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_fdAT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_fdAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_gAMA">
<span class="sig-name descname"><span class="pre">chunk_gAMA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_gAMA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_gAMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_iCCP">
<span class="sig-name descname"><span class="pre">chunk_iCCP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_iCCP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_iCCP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_iTXt">
<span class="sig-name descname"><span class="pre">chunk_iTXt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_iTXt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_iTXt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_pHYs">
<span class="sig-name descname"><span class="pre">chunk_pHYs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_pHYs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_pHYs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_sRGB">
<span class="sig-name descname"><span class="pre">chunk_sRGB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_sRGB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_sRGB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_tEXt">
<span class="sig-name descname"><span class="pre">chunk_tEXt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_tEXt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_tEXt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_tRNS">
<span class="sig-name descname"><span class="pre">chunk_tRNS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_tRNS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_tRNS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.chunk_zTXt">
<span class="sig-name descname"><span class="pre">chunk_zTXt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.chunk_zTXt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.chunk_zTXt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.rewind">
<span class="sig-name descname"><span class="pre">rewind</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.rewind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.rewind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.PngStream.save_rewind">
<span class="sig-name descname"><span class="pre">save_rewind</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#PngStream.save_rewind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.PngStream.save_rewind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.getchunks">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">getchunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#getchunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.getchunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of PNG chunks representing this image.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.is_cid">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">is_cid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endpos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9223372036854775807</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.PngImagePlugin.is_cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches zero or more characters at the beginning of the string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.putchunk">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">putchunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PngImagePlugin.html#putchunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PngImagePlugin.putchunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a PNG chunk (including CRC field)</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.APNG_BLEND_OP_OVER">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APNG_BLEND_OP_OVER</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#PIL.PngImagePlugin.APNG_BLEND_OP_OVER" title="Permalink to this definition">¶</a></dt>
<dd><p>This frame should be alpha composited with the previous output image contents.
See <a class="reference internal" href="index.html#apng-saving"><span class="std std-ref">Saving APNG sequences</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.APNG_BLEND_OP_SOURCE">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APNG_BLEND_OP_SOURCE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#PIL.PngImagePlugin.APNG_BLEND_OP_SOURCE" title="Permalink to this definition">¶</a></dt>
<dd><p>All color components of this frame, including alpha, overwrite the previous output
image contents.
See <a class="reference internal" href="index.html#apng-saving"><span class="std std-ref">Saving APNG sequences</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.APNG_DISPOSE_OP_BACKGROUND">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APNG_DISPOSE_OP_BACKGROUND</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#PIL.PngImagePlugin.APNG_DISPOSE_OP_BACKGROUND" title="Permalink to this definition">¶</a></dt>
<dd><p>This frame’s modified region is cleared to fully transparent black before rendering
the next frame.
See <a class="reference internal" href="index.html#apng-saving"><span class="std std-ref">Saving APNG sequences</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.APNG_DISPOSE_OP_NONE">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APNG_DISPOSE_OP_NONE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#PIL.PngImagePlugin.APNG_DISPOSE_OP_NONE" title="Permalink to this definition">¶</a></dt>
<dd><p>No disposal is done on this frame before rendering the next frame.
See <a class="reference internal" href="index.html#apng-saving"><span class="std std-ref">Saving APNG sequences</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.APNG_DISPOSE_OP_PREVIOUS">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">APNG_DISPOSE_OP_PREVIOUS</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#PIL.PngImagePlugin.APNG_DISPOSE_OP_PREVIOUS" title="Permalink to this definition">¶</a></dt>
<dd><p>This frame’s modified region is reverted to the previous frame’s contents before
rendering the next frame.
See <a class="reference internal" href="index.html#apng-saving"><span class="std std-ref">Saving APNG sequences</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.MAX_TEXT_CHUNK">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MAX_TEXT_CHUNK</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1048576</span></em><a class="headerlink" href="#PIL.PngImagePlugin.MAX_TEXT_CHUNK" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum decompressed size for a iTXt or zTXt chunk.
Eliminates decompression bombs where compressed chunks can expand 1000x.
See <a class="reference internal" href="index.html#png-text"><span class="std std-ref">Text in PNG File Format</span></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="PIL.PngImagePlugin.MAX_TEXT_MEMORY">
<span class="sig-prename descclassname"><span class="pre">PIL.PngImagePlugin.</span></span><span class="sig-name descname"><span class="pre">MAX_TEXT_MEMORY</span></span><em class="property"> <span class="pre">=</span> <span class="pre">67108864</span></em><a class="headerlink" href="#PIL.PngImagePlugin.MAX_TEXT_MEMORY" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the maximum total text chunk size.
See <a class="reference internal" href="index.html#png-text"><span class="std std-ref">Text in PNG File Format</span></a>.</p>
</dd></dl>

</section>
<section id="module-PIL.PpmImagePlugin">
<span id="ppmimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PpmImagePlugin" title="PIL.PpmImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PpmImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PpmImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PpmImagePlugin.PpmImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PpmImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PpmImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PpmImagePlugin.html#PpmImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PpmImagePlugin.PpmImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PpmImagePlugin.PpmImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PPM'</span></em><a class="headerlink" href="#PIL.PpmImagePlugin.PpmImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PpmImagePlugin.PpmImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Pbmplus</span> <span class="pre">image'</span></em><a class="headerlink" href="#PIL.PpmImagePlugin.PpmImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.PsdImagePlugin">
<span id="psdimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.PsdImagePlugin" title="PIL.PsdImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PsdImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.PsdImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.PsdImagePlugin.</span></span><span class="sig-name descname"><span class="pre">PsdImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PsdImagePlugin.html#PsdImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'PSD'</span></em><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Adobe</span> <span class="pre">Photoshop'</span></em><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile.load_prepare">
<span class="sig-name descname"><span class="pre">load_prepare</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PsdImagePlugin.html#PsdImageFile.load_prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile.load_prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PsdImagePlugin.html#PsdImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.PsdImagePlugin.PsdImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/PsdImagePlugin.html#PsdImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.PsdImagePlugin.PsdImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.SgiImagePlugin">
<span id="sgiimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.SgiImagePlugin" title="PIL.SgiImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">SgiImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.SgiImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.SgiImagePlugin.SGI16Decoder">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.SgiImagePlugin.</span></span><span class="sig-name descname"><span class="pre">SGI16Decoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SgiImagePlugin.html#SGI16Decoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SgiImagePlugin.SGI16Decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.PyDecoder" title="PIL.ImageFile.PyDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.PyDecoder</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.SgiImagePlugin.SGI16Decoder.decode">
<span class="sig-name descname"><span class="pre">decode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SgiImagePlugin.html#SGI16Decoder.decode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SgiImagePlugin.SGI16Decoder.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to perform the decoding process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>buffer</strong> – A bytes object with the data to be decoded.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of <code class="docutils literal notranslate"><span class="pre">(bytes</span> <span class="pre">consumed,</span> <span class="pre">errcode)</span></code>.
If finished with decoding return &lt;0 for the bytes consumed.
Err codes are from <a class="reference internal" href="index.html#PIL.ImageFile.ERRORS" title="PIL.ImageFile.ERRORS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ImageFile.ERRORS</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.SgiImagePlugin.SgiImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.SgiImagePlugin.</span></span><span class="sig-name descname"><span class="pre">SgiImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SgiImagePlugin.html#SgiImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SgiImagePlugin.SgiImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SgiImagePlugin.SgiImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'SGI'</span></em><a class="headerlink" href="#PIL.SgiImagePlugin.SgiImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SgiImagePlugin.SgiImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'SGI</span> <span class="pre">Image</span> <span class="pre">File</span> <span class="pre">Format'</span></em><a class="headerlink" href="#PIL.SgiImagePlugin.SgiImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.SpiderImagePlugin">
<span id="spiderimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.SpiderImagePlugin" title="PIL.SpiderImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">SpiderImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.SpiderImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">SpiderImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#SpiderImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.convert2byte">
<span class="sig-name descname"><span class="pre">convert2byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#SpiderImageFile.convert2byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.convert2byte" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'SPIDER'</span></em><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Spider</span> <span class="pre">2D</span> <span class="pre">image'</span></em><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.is_animated">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">is_animated</span></span><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.is_animated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.n_frames">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_frames</span></span><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.n_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#SpiderImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#SpiderImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.SpiderImageFile.tkPhotoImage">
<span class="sig-name descname"><span class="pre">tkPhotoImage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#SpiderImageFile.tkPhotoImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.SpiderImageFile.tkPhotoImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.isInt">
<span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">isInt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#isInt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.isInt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.isSpiderHeader">
<span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">isSpiderHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#isSpiderHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.isSpiderHeader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.isSpiderImage">
<span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">isSpiderImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#isSpiderImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.isSpiderImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.loadImageSeries">
<span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">loadImageSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filelist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#loadImageSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.loadImageSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>create a list of <a class="reference internal" href="index.html#PIL.Image.Image" title="PIL.Image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> objects for use in a montage</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.SpiderImagePlugin.makeSpiderHeader">
<span class="sig-prename descclassname"><span class="pre">PIL.SpiderImagePlugin.</span></span><span class="sig-name descname"><span class="pre">makeSpiderHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SpiderImagePlugin.html#makeSpiderHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SpiderImagePlugin.makeSpiderHeader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL.SunImagePlugin">
<span id="sunimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.SunImagePlugin" title="PIL.SunImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">SunImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.SunImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.SunImagePlugin.SunImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.SunImagePlugin.</span></span><span class="sig-name descname"><span class="pre">SunImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/SunImagePlugin.html#SunImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.SunImagePlugin.SunImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SunImagePlugin.SunImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'SUN'</span></em><a class="headerlink" href="#PIL.SunImagePlugin.SunImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.SunImagePlugin.SunImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Sun</span> <span class="pre">Raster</span> <span class="pre">File'</span></em><a class="headerlink" href="#PIL.SunImagePlugin.SunImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.TgaImagePlugin">
<span id="tgaimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.TgaImagePlugin" title="PIL.TgaImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TgaImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.TgaImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.TgaImagePlugin.TgaImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TgaImagePlugin.</span></span><span class="sig-name descname"><span class="pre">TgaImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TgaImagePlugin.html#TgaImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TgaImagePlugin.TgaImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TgaImagePlugin.TgaImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'TGA'</span></em><a class="headerlink" href="#PIL.TgaImagePlugin.TgaImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TgaImagePlugin.TgaImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Targa'</span></em><a class="headerlink" href="#PIL.TgaImagePlugin.TgaImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.TiffImagePlugin">
<span id="tiffimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.TiffImagePlugin" title="PIL.TiffImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">TiffImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.TiffImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">AppendingTiffWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.Tags">
<span class="sig-name descname"><span class="pre">Tags</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{273,</span> <span class="pre">288,</span> <span class="pre">324,</span> <span class="pre">519,</span> <span class="pre">520,</span> <span class="pre">521}</span></em><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.Tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.fieldSizes">
<span class="sig-name descname"><span class="pre">fieldSizes</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">4,</span> <span class="pre">8,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">4,</span> <span class="pre">8,</span> <span class="pre">4,</span> <span class="pre">8]</span></em><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.fieldSizes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.finalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.finalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.fixIFD">
<span class="sig-name descname"><span class="pre">fixIFD</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.fixIFD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.fixIFD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.fixOffsets">
<span class="sig-name descname"><span class="pre">fixOffsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isShort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isLong</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.fixOffsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.fixOffsets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.goToEnd">
<span class="sig-name descname"><span class="pre">goToEnd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.goToEnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.goToEnd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.newFrame">
<span class="sig-name descname"><span class="pre">newFrame</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.newFrame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.newFrame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.readLong">
<span class="sig-name descname"><span class="pre">readLong</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.readLong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.readLong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.readShort">
<span class="sig-name descname"><span class="pre">readShort</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.readShort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.readShort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastLong">
<span class="sig-name descname"><span class="pre">rewriteLastLong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.rewriteLastLong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastLong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastShort">
<span class="sig-name descname"><span class="pre">rewriteLastShort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.rewriteLastShort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastShort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastShortToLong">
<span class="sig-name descname"><span class="pre">rewriteLastShortToLong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.rewriteLastShortToLong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.rewriteLastShortToLong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.setEndian">
<span class="sig-name descname"><span class="pre">setEndian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endian</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.setEndian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.setEndian" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.skipIFDs">
<span class="sig-name descname"><span class="pre">skipIFDs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.skipIFDs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.skipIFDs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.tell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.writeLong">
<span class="sig-name descname"><span class="pre">writeLong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.writeLong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.writeLong" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.AppendingTiffWriter.writeShort">
<span class="sig-name descname"><span class="pre">writeShort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#AppendingTiffWriter.writeShort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.AppendingTiffWriter.writeShort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.IFDRational">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">IFDRational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">denominator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#IFDRational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.IFDRational" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Rational" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numbers.Rational</span></code></a></p>
<p>Implements a rational class where 0/0 is a legal value to match
the in the wild use of exif rationals.</p>
<p>e.g., DigitalZoomRatio - 0.00/0.00  indicates that no digital zoom was used</p>
<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.IFDRational.denominator">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">denominator</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.IFDRational.denominator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.IFDRational.limit_rational">
<span class="sig-name descname"><span class="pre">limit_rational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_denominator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#IFDRational.limit_rational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.IFDRational.limit_rational" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_denominator</strong> – Integer, the maximum denominator value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of (numerator, denominator)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.IFDRational.numerator">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">numerator</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.IFDRational.numerator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory">
<span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ImageFileDirectory</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.ImageFileDirectory_v1</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ImageFileDirectory_v1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.ImageFileDirectory_v2</span></code></a></p>
<p>This class represents the <strong>legacy</strong> interface to a TIFF tag directory.</p>
<p>Exposes a dictionary interface of the tags in the directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ifd</span> <span class="o">=</span> <span class="n">ImageFileDirectory_v1</span><span class="p">()</span>
<span class="n">ifd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Some Data&#39;</span>
<span class="n">ifd</span><span class="o">.</span><span class="n">tagtype</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">TiffTags</span><span class="o">.</span><span class="n">ASCII</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ifd</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;Some Data&#39;</span><span class="p">,)</span>
</pre></div>
</div>
<p>Also contains a dictionary of tag types as read from the tiff image file,
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.tagtype" title="PIL.TiffImagePlugin.ImageFileDirectory_v1.tagtype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tagtype</span></code></a>.</p>
<p>Values are returned as a tuple.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.0.0.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1.from_v2">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v1.from_v2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.from_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code></a>
instance with the same data as is contained in the original
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a>
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1.tagdata">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">tagdata</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.tagdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1.tags">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">tags</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1.tagtype">
<span class="sig-name descname"><span class="pre">tagtype</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><span class="pre">dict</span></a></em><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.tagtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of tag types</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v1.to_v2">
<span class="sig-name descname"><span class="pre">to_v2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v1.to_v2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1.to_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a>
instance with the same data as is contained in the original
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code></a>
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFileDirectory_v2</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">ImageFileDirectory_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ifh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">b'II*\x00\x00\x00\x00\x00'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></a></p>
<p>This class represents a TIFF tag directory.  To speed things up, we
don’t decode tags unless they’re asked for.</p>
<p>Exposes a dictionary interface of the tags in the directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ifd</span> <span class="o">=</span> <span class="n">ImageFileDirectory_v2</span><span class="p">()</span>
<span class="n">ifd</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Some Data&#39;</span>
<span class="n">ifd</span><span class="o">.</span><span class="n">tagtype</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">TiffTags</span><span class="o">.</span><span class="n">ASCII</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ifd</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
<span class="s1">&#39;Some Data&#39;</span>
</pre></div>
</div>
<p>Individual values are returned as the strings or numbers, sequences are
returned as tuples of the values.</p>
<p>The tiff metadata type of each item is stored in a dictionary of
tag types in
<a class="reference internal" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype" title="PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tagtype</span></code></a>. The types
are read from a tiff file, guessed from the type added, or added
manually.</p>
<p>Data Structures:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.tagtype = {}</p>
<ul>
<li><p>Key: numerical tiff tag number</p></li>
<li><dl class="simple">
<dt>Value: integer corresponding to the data type from</dt><dd><p>~PIL.TiffTags.TYPES`</p>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.0.</span></p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.legacy_api">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">legacy_api</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.legacy_api" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_byte">
<span class="sig-name descname"><span class="pre">load_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load_byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_byte" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_double">
<span class="sig-name descname"><span class="pre">load_double</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_double" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_float">
<span class="sig-name descname"><span class="pre">load_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_long">
<span class="sig-name descname"><span class="pre">load_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_long" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_rational">
<span class="sig-name descname"><span class="pre">load_rational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load_rational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_short">
<span class="sig-name descname"><span class="pre">load_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_byte">
<span class="sig-name descname"><span class="pre">load_signed_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_byte" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_long">
<span class="sig-name descname"><span class="pre">load_signed_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_long" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_rational">
<span class="sig-name descname"><span class="pre">load_signed_rational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load_signed_rational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_short">
<span class="sig-name descname"><span class="pre">load_signed_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_signed_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_string">
<span class="sig-name descname"><span class="pre">load_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.load_undefined">
<span class="sig-name descname"><span class="pre">load_undefined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.load_undefined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.load_undefined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.named">
<span class="sig-name descname"><span class="pre">named</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.named"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.named" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dict of name|key: value</p>
</dd>
</dl>
<p>Returns the complete tag dictionary, with named tags where possible.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.offset">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">offset</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.offset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.prefix">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">prefix</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype">
<span class="sig-name descname"><span class="pre">tagtype</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.tagtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of tag types</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.tobytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.tobytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_byte">
<span class="sig-name descname"><span class="pre">write_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.write_byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_byte" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_double">
<span class="sig-name descname"><span class="pre">write_double</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_double" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_float">
<span class="sig-name descname"><span class="pre">write_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_long">
<span class="sig-name descname"><span class="pre">write_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_long" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_rational">
<span class="sig-name descname"><span class="pre">write_rational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.write_rational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_short">
<span class="sig-name descname"><span class="pre">write_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_byte">
<span class="sig-name descname"><span class="pre">write_signed_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_byte" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_long">
<span class="sig-name descname"><span class="pre">write_signed_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_long" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_rational">
<span class="sig-name descname"><span class="pre">write_signed_rational</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.write_signed_rational"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_rational" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_short">
<span class="sig-name descname"><span class="pre">write_signed_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_signed_short" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_string">
<span class="sig-name descname"><span class="pre">write_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.write_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.ImageFileDirectory_v2.write_undefined">
<span class="sig-name descname"><span class="pre">write_undefined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#ImageFileDirectory_v2.write_undefined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.ImageFileDirectory_v2.write_undefined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.TiffImagePlugin.</span></span><span class="sig-name descname"><span class="pre">TiffImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'TIFF'</span></em><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Adobe</span> <span class="pre">TIFF'</span></em><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.getxmp">
<span class="sig-name descname"><span class="pre">getxmp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile.getxmp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.getxmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the XMP tags.
Requires defusedxml to be installed.
:returns: XMP tags in a dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.load_end">
<span class="sig-name descname"><span class="pre">load_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile.load_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.load_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.n_frames">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_frames</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.n_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a given frame as current image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.tag">
<span class="sig-name descname"><span class="pre">tag</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy tag entries</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.tag_v2">
<span class="sig-name descname"><span class="pre">tag_v2</span></span><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.tag_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Image file directory (tag dictionary)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.TiffImagePlugin.TiffImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/TiffImagePlugin.html#TiffImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.TiffImagePlugin.TiffImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current frame number</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.WebPImagePlugin">
<span id="webpimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.WebPImagePlugin" title="PIL.WebPImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WebPImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.WebPImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.WebPImagePlugin.</span></span><span class="sig-name descname"><span class="pre">WebPImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WebPImagePlugin.html#WebPImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'WEBP'</span></em><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'WebP</span> <span class="pre">image'</span></em><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WebPImagePlugin.html#WebPImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WebPImagePlugin.html#WebPImageFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception. When a sequence file is opened, the
library automatically seeks to frame 0.</p>
<p>See <a class="reference internal" href="index.html#PIL.Image.Image.tell" title="PIL.Image.Image.tell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tell()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Frame number, starting at 0.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.9)"><strong>EOFError</strong></a> – If the call attempts to seek beyond the end
of the sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.WebPImagePlugin.WebPImageFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WebPImagePlugin.html#WebPImageFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WebPImagePlugin.WebPImageFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current frame number. See <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a>.</p>
<p>If defined, <a class="reference internal" href="index.html#PIL.Image.Image.n_frames" title="PIL.Image.Image.n_frames"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_frames</span></code></a> refers to the
number of available frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Frame number, starting with 0.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-PIL.WmfImagePlugin">
<span id="wmfimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.WmfImagePlugin" title="PIL.WmfImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">WmfImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.WmfImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.WmfImagePlugin.WmfStubImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.WmfImagePlugin.</span></span><span class="sig-name descname"><span class="pre">WmfStubImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WmfImagePlugin.html#WmfStubImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WmfImagePlugin.WmfStubImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.StubImageFile" title="PIL.ImageFile.StubImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.StubImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.WmfImagePlugin.WmfStubImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'WMF'</span></em><a class="headerlink" href="#PIL.WmfImagePlugin.WmfStubImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.WmfImagePlugin.WmfStubImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'Windows</span> <span class="pre">Metafile'</span></em><a class="headerlink" href="#PIL.WmfImagePlugin.WmfStubImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.WmfImagePlugin.WmfStubImageFile.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WmfImagePlugin.html#WmfStubImageFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WmfImagePlugin.WmfStubImageFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image data based on tile list</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL.WmfImagePlugin.register_handler">
<span class="sig-prename descclassname"><span class="pre">PIL.WmfImagePlugin.</span></span><span class="sig-name descname"><span class="pre">register_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/WmfImagePlugin.html#register_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.WmfImagePlugin.register_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Install application-specific WMF image handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handler</strong> – Handler object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL.XVThumbImagePlugin">
<span id="xvthumbimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.XVThumbImagePlugin" title="PIL.XVThumbImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">XVThumbImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.XVThumbImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.XVThumbImagePlugin.XVThumbImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.XVThumbImagePlugin.</span></span><span class="sig-name descname"><span class="pre">XVThumbImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/XVThumbImagePlugin.html#XVThumbImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.XVThumbImagePlugin.XVThumbImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XVThumbImagePlugin.XVThumbImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'XVThumb'</span></em><a class="headerlink" href="#PIL.XVThumbImagePlugin.XVThumbImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XVThumbImagePlugin.XVThumbImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'XV</span> <span class="pre">thumbnail</span> <span class="pre">image'</span></em><a class="headerlink" href="#PIL.XVThumbImagePlugin.XVThumbImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.XbmImagePlugin">
<span id="xbmimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.XbmImagePlugin" title="PIL.XbmImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">XbmImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.XbmImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.XbmImagePlugin.XbmImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.XbmImagePlugin.</span></span><span class="sig-name descname"><span class="pre">XbmImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/XbmImagePlugin.html#XbmImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.XbmImagePlugin.XbmImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XbmImagePlugin.XbmImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'XBM'</span></em><a class="headerlink" href="#PIL.XbmImagePlugin.XbmImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XbmImagePlugin.XbmImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'X11</span> <span class="pre">Bitmap'</span></em><a class="headerlink" href="#PIL.XbmImagePlugin.XbmImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-PIL.XpmImagePlugin">
<span id="xpmimageplugin-module"></span><h4><a class="reference internal" href="#module-PIL.XpmImagePlugin" title="PIL.XpmImagePlugin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">XpmImagePlugin</span></code></a> Module<a class="headerlink" href="#module-PIL.XpmImagePlugin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="PIL.XpmImagePlugin.XpmImageFile">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL.XpmImagePlugin.</span></span><span class="sig-name descname"><span class="pre">XpmImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/XpmImagePlugin.html#XpmImageFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.XpmImagePlugin.XpmImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="index.html#PIL.ImageFile.ImageFile" title="PIL.ImageFile.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFile.ImageFile</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XpmImagePlugin.XpmImageFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'XPM'</span></em><a class="headerlink" href="#PIL.XpmImagePlugin.XpmImageFile.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PIL.XpmImagePlugin.XpmImageFile.format_description">
<span class="sig-name descname"><span class="pre">format_description</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'X11</span> <span class="pre">Pixel</span> <span class="pre">Map'</span></em><a class="headerlink" href="#PIL.XpmImagePlugin.XpmImageFile.format_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PIL.XpmImagePlugin.XpmImageFile.load_read">
<span class="sig-name descname"><span class="pre">load_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/XpmImagePlugin.html#XpmImageFile.load_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL.XpmImagePlugin.XpmImageFile.load_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<span id="document-reference/internal_design"></span><section id="internal-reference-docs">
<h3>Internal Reference Docs<a class="headerlink" href="#internal-reference-docs" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-reference/open_files"></span><section id="file-handling-in-pillow">
<span id="file-handling"></span><h4>File Handling in Pillow<a class="headerlink" href="#file-handling-in-pillow" title="Permalink to this headline">¶</a></h4>
<p>When opening a file as an image, Pillow requires a filename, <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>
object, or a file-like object. Pillow uses the filename or <code class="docutils literal notranslate"><span class="pre">Path</span></code> to open a
file, so for the rest of this article, they will all be treated as a file-like
object.</p>
<p>The following are all equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">pathlib</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">im2</span><span class="p">:</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">im3</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">im4</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()))</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>If a filename or a path-like object is passed to Pillow, then the resulting
file object opened by Pillow may also be closed by Pillow after the
<code class="docutils literal notranslate"><span class="pre">Image.Image.load()</span></code> method is called, provided the associated image does not
have multiple frames.</p>
<p>Pillow cannot in general close and reopen a file, so any access to
that file needs to be prior to the close.</p>
<section id="image-lifecycle">
<h5>Image Lifecycle<a class="headerlink" href="#image-lifecycle" title="Permalink to this headline">¶</a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Image.open()</span></code> Filenames and <code class="docutils literal notranslate"><span class="pre">Path</span></code> objects are opened as a file.
Metadata is read from the open file. The file is left open for further usage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image.Image.load()</span></code> When the pixel data from the image is
required, <code class="docutils literal notranslate"><span class="pre">load()</span></code> is called. The current frame is read into
memory. The image can now be used independently of the underlying
image file.</p>
<p>If a filename or a <code class="docutils literal notranslate"><span class="pre">Path</span></code> object was passed to <code class="docutils literal notranslate"><span class="pre">Image.open()</span></code>, then the
file object was opened by Pillow and is considered to be used exclusively by
Pillow. So if the image is a single-frame image, the file will be closed in
this method after the frame is read. If the image is a multi-frame image,
(e.g. multipage TIFF and animated GIF) the image file is left open so that
<code class="docutils literal notranslate"><span class="pre">Image.Image.seek()</span></code> can load the appropriate frame.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image.Image.close()</span></code> Closes the file and destroys the core image object.
This is used in the Pillow context manager support. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">img</span><span class="p">:</span>
   <span class="o">...</span>  <span class="c1"># image operations here.</span>
</pre></div>
</div>
</li>
</ul>
<p>The lifecycle of a single-frame image is relatively simple. The file must
remain open until the <code class="docutils literal notranslate"><span class="pre">load()</span></code> or <code class="docutils literal notranslate"><span class="pre">close()</span></code> function is called or the
context manager exits.</p>
<p>Multi-frame images are more complicated. The <code class="docutils literal notranslate"><span class="pre">load()</span></code> method is not
a terminal method, so it should not close the underlying file. In general,
Pillow does not know if there are going to be any requests for additional
data until the caller has explicitly closed the image.</p>
</section>
<section id="complications">
<h5>Complications<a class="headerlink" href="#complications" title="Permalink to this headline">¶</a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TiffImagePlugin</span></code> has some code to pass the underlying file descriptor into
libtiff (if working on an actual file). Since libtiff closes the file
descriptor internally, it is duplicated prior to passing it into libtiff.</p></li>
<li><p>After a file has been closed, operations that require file access will fail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">im5</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">im5</span><span class="o">.</span><span class="n">load</span><span class="p">()</span> <span class="c1"># FAILS, closed file</span>

<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.jpg&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im6</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="n">im6</span><span class="o">.</span><span class="n">load</span><span class="p">()</span> <span class="c1"># FAILS, closed file</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="proposed-file-handling">
<h5>Proposed File Handling<a class="headerlink" href="#proposed-file-handling" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Image.Image.load()</span></code> should close the image file, unless there are
multiple frames.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image.Image.seek()</span></code> should never close the image file.</p></li>
<li><p>Users of the library should use a context manager or call
<code class="docutils literal notranslate"><span class="pre">Image.Image.close()</span></code> on any image opened with a filename or <code class="docutils literal notranslate"><span class="pre">Path</span></code>
object to ensure that the underlying file is closed.</p></li>
</ul>
</section>
</section>
<span id="document-reference/limits"></span><section id="limits">
<h4>Limits<a class="headerlink" href="#limits" title="Permalink to this headline">¶</a></h4>
<p>This page is documentation to the various fundamental size limits in
the Pillow implementation.</p>
<section id="internal-limits">
<h5>Internal Limits<a class="headerlink" href="#internal-limits" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Image sizes cannot be negative. These are checked both in
<code class="docutils literal notranslate"><span class="pre">Storage.c</span></code> and <code class="docutils literal notranslate"><span class="pre">Image.py</span></code></p></li>
<li><p>Image sizes may be 0. (Although not in 3.4)</p></li>
<li><p>Maximum pixel dimensions are limited to INT32, or 2^31 by the sizes
in the image header.</p></li>
<li><p>Individual allocations are limited to 2GB in <code class="docutils literal notranslate"><span class="pre">Storage.c</span></code></p></li>
<li><p>The 2GB allocation puts an upper limit to the xsize of the image of
either 2^31 for ‘L’ or 2^29 for ‘RGB’</p></li>
<li><p>Individual memory mapped segments are limited to 2GB in map.c based
on the overflow checks. This requires that any memory mapped image
is smaller than 2GB, as calculated by <code class="docutils literal notranslate"><span class="pre">y*stride</span></code> (so 2Gpx for ‘L’
images, and .5Gpx for ‘RGB’</p></li>
</ul>
</section>
<section id="format-size-limits">
<h5>Format Size Limits<a class="headerlink" href="#format-size-limits" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>ICO: Max size is 256x256</p></li>
<li><p>Webp: 16383x16383 (underlying library size limit:
<a class="reference external" href="https://developers.google.com/speed/webp/docs/api">https://developers.google.com/speed/webp/docs/api</a>)</p></li>
</ul>
</section>
</section>
<span id="document-reference/block_allocator"></span><section id="block-allocator">
<h4>Block Allocator<a class="headerlink" href="#block-allocator" title="Permalink to this headline">¶</a></h4>
<section id="previous-design">
<h5>Previous Design<a class="headerlink" href="#previous-design" title="Permalink to this headline">¶</a></h5>
<p>Historically there have been two image allocators in Pillow:
<code class="docutils literal notranslate"><span class="pre">ImagingAllocateBlock</span></code> and <code class="docutils literal notranslate"><span class="pre">ImagingAllocateArray</span></code>. The first works
for images smaller than 16MB of data and allocates one large chunk of
memory of <code class="docutils literal notranslate"><span class="pre">im-&gt;linesize</span> <span class="pre">*</span> <span class="pre">im-&gt;ysize</span></code> bytes. The second works for
large images and makes one allocation for each scan line of size
<code class="docutils literal notranslate"><span class="pre">im-&gt;linesize</span></code> bytes.  This makes for a very sharp transition
between one allocation and potentially thousands of small allocations,
leading to unpredictable performance penalties around the transition.</p>
</section>
<section id="new-design">
<h5>New Design<a class="headerlink" href="#new-design" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">ImagingAllocateArray</span></code> now allocates space for images as a chain of
blocks with a maximum size of 16MB. If there is a memory allocation
error, it falls back to allocating a 4KB block, or at least one scan
line. This is now the default for all internal allocations.</p>
<p><code class="docutils literal notranslate"><span class="pre">ImagingAllocateBlock</span></code> is now only used for those cases when we are
specifically requesting a single segment of memory for sharing with
other code.</p>
</section>
<section id="memory-pools">
<h5>Memory Pools<a class="headerlink" href="#memory-pools" title="Permalink to this headline">¶</a></h5>
<p>There is now a memory pool to contain a supply of recently freed
blocks, which can then be reused without going back to the OS for a
fresh allocation. This caching of free blocks is currently disabled by
default, but can be enabled and tweaked using three environment
variables:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PILLOW_ALIGNMENT</span></code>, in bytes. Specifies the alignment of memory
allocations. Valid values are powers of 2 between 1 and
128, inclusive. Defaults to 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PILLOW_BLOCK_SIZE</span></code>, in bytes, K, or M.  Specifies the maximum
block size for <code class="docutils literal notranslate"><span class="pre">ImagingAllocateArray</span></code>. Valid values are
integers, with an optional <code class="docutils literal notranslate"><span class="pre">k</span></code> or <code class="docutils literal notranslate"><span class="pre">m</span></code> suffix. Defaults to 16M.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PILLOW_BLOCKS_MAX</span></code> Specifies the number of freed blocks to
retain to fill future memory requests. Any freed blocks over this
threshold will be returned to the OS immediately. Defaults to 0.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<span id="document-reference/internal_modules"></span><section id="internal-modules">
<h4>Internal Modules<a class="headerlink" href="#internal-modules" title="Permalink to this headline">¶</a></h4>
<section id="module-PIL._binary">
<span id="binary-module"></span><h5><a class="reference internal" href="#module-PIL._binary" title="PIL._binary"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_binary</span></code></a> Module<a class="headerlink" href="#module-PIL._binary" title="Permalink to this headline">¶</a></h5>
<p>Binary input/output support routines.</p>
<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.i16be">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">i16be</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#i16be"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.i16be" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.i16le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">i16le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#i16le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.i16le" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a 2-bytes (16 bits) string to an unsigned integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – string containing bytes to convert</p></li>
<li><p><strong>o</strong> – offset of bytes to convert in string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.i32be">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">i32be</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#i32be"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.i32be" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.i32le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">i32le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#i32le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.i32le" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a 4-bytes (32 bits) string to an unsigned integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – string containing bytes to convert</p></li>
<li><p><strong>o</strong> – offset of bytes to convert in string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.i8">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">i8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#i8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.i8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.o16be">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">o16be</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#o16be"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.o16be" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.o16le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">o16le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#o16le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.o16le" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.o32be">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">o32be</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#o32be"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.o32be" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.o32le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">o32le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#o32le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.o32le" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.o8">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">o8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#o8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.o8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.si16le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">si16le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#si16le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.si16le" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a 2-bytes (16 bits) string to a signed integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – string containing bytes to convert</p></li>
<li><p><strong>o</strong> – offset of bytes to convert in string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._binary.si32le">
<span class="sig-prename descclassname"><span class="pre">PIL._binary.</span></span><span class="sig-name descname"><span class="pre">si32le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_binary.html#si32le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._binary.si32le" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a 4-bytes (32 bits) string to a signed integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – string containing bytes to convert</p></li>
<li><p><strong>o</strong> – offset of bytes to convert in string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-PIL._tkinter_finder">
<span id="tkinter-finder-module"></span><h5><a class="reference internal" href="#module-PIL._tkinter_finder" title="PIL._tkinter_finder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter_finder</span></code></a> Module<a class="headerlink" href="#module-PIL._tkinter_finder" title="Permalink to this headline">¶</a></h5>
<p>Find compiled module linking to Tcl / Tk libraries</p>
</section>
<section id="module-PIL._util">
<span id="util-module"></span><h5><a class="reference internal" href="#module-PIL._util" title="PIL._util"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_util</span></code></a> Module<a class="headerlink" href="#module-PIL._util" title="Permalink to this headline">¶</a></h5>
<dl class="py class">
<dt class="sig sig-object py" id="PIL._util.deferred_error">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PIL._util.</span></span><span class="sig-name descname"><span class="pre">deferred_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_util.html#deferred_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._util.deferred_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._util.isDirectory">
<span class="sig-prename descclassname"><span class="pre">PIL._util.</span></span><span class="sig-name descname"><span class="pre">isDirectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_util.html#isDirectory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._util.isDirectory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="PIL._util.isPath">
<span class="sig-prename descclassname"><span class="pre">PIL._util.</span></span><span class="sig-name descname"><span class="pre">isPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/PIL/_util.html#isPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#PIL._util.isPath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-PIL._version">
<span id="version-module"></span><h5><a class="reference internal" href="#module-PIL._version" title="PIL._version"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_version</span></code></a> Module<a class="headerlink" href="#module-PIL._version" title="Permalink to this headline">¶</a></h5>
<dl class="py data">
<dt class="sig sig-object py" id="PIL._version.__version__">
<span class="sig-prename descclassname"><span class="pre">PIL._version.</span></span><span class="sig-name descname"><span class="pre">__version__</span></span><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#PIL._version.__version__" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the master version number for Pillow,
all other uses reference this module.</p>
</dd></dl>

</section>
<section id="module-PIL._imaging">
<span id="pil-image-core-module"></span><h5><a class="reference internal" href="#module-PIL.Image.core" title="PIL.Image.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.Image.core</span></code></a> Module<a class="headerlink" href="#module-PIL._imaging" title="Permalink to this headline">¶</a></h5>
<span class="target" id="module-PIL.Image.core"></span><p>An internal interface module previously known as <a class="reference internal" href="#module-PIL._imaging" title="PIL._imaging"><code class="xref py py-mod docutils literal notranslate"><span class="pre">_imaging</span></code></a>,
implemented in <code class="file docutils literal notranslate"><span class="pre">_imaging.c</span></code>.</p>
</section>
</section>
<span id="document-reference/c_extension_debugging"></span><section id="c-extension-debugging-on-linux-with-gbd-valgrind">
<h4>C Extension debugging on Linux, with gbd/valgrind.<a class="headerlink" href="#c-extension-debugging-on-linux-with-gbd-valgrind" title="Permalink to this headline">¶</a></h4>
<section id="install-the-tools">
<h5>Install the tools<a class="headerlink" href="#install-the-tools" title="Permalink to this headline">¶</a></h5>
<p>You need some basics in addition to the basic tools to build
pillow. These are what’s required on Ubuntu, YMMV for other
distributions.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python3-dbg</span></code> package for the gdb extensions and python symbols</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gdb</span></code> and <code class="docutils literal notranslate"><span class="pre">valgrind</span></code></p></li>
<li><p>Potentially debug symbols for libraries. On ubuntu they’re shipped
in package-dbgsym packages, from a different repo.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deb</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ddebs</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span> <span class="n">focal</span> <span class="n">main</span> <span class="n">restricted</span> <span class="n">universe</span> <span class="n">multiverse</span>
<span class="n">deb</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ddebs</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span> <span class="n">main</span> <span class="n">restricted</span> <span class="n">universe</span> <span class="n">multiverse</span>
<span class="n">deb</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ddebs</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span> <span class="n">focal</span><span class="o">-</span><span class="n">proposed</span> <span class="n">main</span> <span class="n">restricted</span> <span class="n">universe</span> <span class="n">multiverse</span>
</pre></div>
</div>
<p>Then <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libtiff5-dbgsym</span></code></p>
<ul class="simple">
<li><p>There’s a bug with the dbg package for at least python 3.8 on ubuntu
20.04, and you need to add a new link or two to make it autoload when
running python:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">gdb</span><span class="o">/</span><span class="n">auto</span><span class="o">-</span><span class="n">load</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">python3</span><span class="mf">.8</span><span class="n">m</span><span class="o">-</span><span class="n">gdb</span><span class="o">.</span><span class="n">py</span> <span class="n">python3</span><span class="mf">.8</span><span class="n">d</span><span class="o">-</span><span class="n">gdb</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In Ubuntu 18.04, it’s actually including the path to the virtualenv
in the search for the <code class="docutils literal notranslate"><span class="pre">python3.*-gdb.py</span></code> file, but you can
helpfully put in the same directory as the binary.</p></li>
<li><p>I also find that history is really useful for gdb, so I added this to
my <code class="docutils literal notranslate"><span class="pre">~/.gdbinit</span></code> file:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">history</span> <span class="n">filename</span> <span class="o">~/.</span><span class="n">gdb_history</span>
<span class="nb">set</span> <span class="n">history</span> <span class="n">save</span> <span class="n">on</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If the python stack isn’t working in gdb, then
<code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">debug</span> <span class="pre">auto-load</span></code> can also be helpful in <code class="docutils literal notranslate"><span class="pre">.gdbinit</span></code>.</p></li>
<li><p>Make a virtualenv with the debug python and activate it, then install
whatever dependencies are required and build. You want to build with
the debug python so you get symbols for your extension.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span><span class="mf">.8</span><span class="o">-</span><span class="n">dbg</span> <span class="o">~/</span><span class="n">vpy38</span><span class="o">-</span><span class="n">dbg</span>
<span class="n">source</span> <span class="o">~/</span><span class="n">vpy38</span><span class="o">-</span><span class="n">dbg</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">Pillow</span> <span class="o">&amp;&amp;</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</section>
<section id="test-case">
<h5>Test Case<a class="headerlink" href="#test-case" title="Permalink to this headline">¶</a></h5>
<p>Take your test image, and make a really simple harness.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Run this through valgrind, but note that python triggers some issues
on its own, so you’re looking for items within the Pillow hierarchy
that don’t look like they’re solely in the python call chain. In this
example, the ones we’re interested are after the warnings, and have
<code class="docutils literal notranslate"><span class="pre">decode.c</span></code> and <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code> in the call stack:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(vpy38-dbg) ubuntu@primary:~/Home/tests$ valgrind python test_tiff.py
==51890== Memcheck, a memory error detector
==51890== Copyright (C) 2002-2017, and GNU GPL&#39;d, by Julian Seward et al.
==51890== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==51890== Command: python test_tiff.py
==51890==
==51890== Invalid read of size 4
==51890==    at 0x472E3D: address_in_range (obmalloc.c:1401)
==51890==    by 0x472EEA: pymalloc_free (obmalloc.c:1677)
==51890==    by 0x474960: _PyObject_Free (obmalloc.c:1896)
==51890==    by 0x473BAC: _PyMem_DebugRawFree (obmalloc.c:2187)
==51890==    by 0x473BD4: _PyMem_DebugFree (obmalloc.c:2318)
==51890==    by 0x474C08: PyObject_Free (obmalloc.c:709)
==51890==    by 0x45DD60: dictresize (dictobject.c:1259)
==51890==    by 0x45DD76: insertion_resize (dictobject.c:1019)
==51890==    by 0x464F30: PyDict_SetDefault (dictobject.c:2924)
==51890==    by 0x4D03BE: PyUnicode_InternInPlace (unicodeobject.c:15289)
==51890==    by 0x4D0700: PyUnicode_InternFromString (unicodeobject.c:15322)
==51890==    by 0x64D2FC: descr_new (descrobject.c:857)
==51890==  Address 0x4c1b020 is 384 bytes inside a block of size 1,160 free&#39;d
==51890==    at 0x483CA3F: free (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==51890==    by 0x4735D3: _PyMem_RawFree (obmalloc.c:127)
==51890==    by 0x473BAC: _PyMem_DebugRawFree (obmalloc.c:2187)
==51890==    by 0x474941: PyMem_RawFree (obmalloc.c:595)
==51890==    by 0x47496E: _PyObject_Free (obmalloc.c:1898)
==51890==    by 0x473BAC: _PyMem_DebugRawFree (obmalloc.c:2187)
==51890==    by 0x473BD4: _PyMem_DebugFree (obmalloc.c:2318)
==51890==    by 0x474C08: PyObject_Free (obmalloc.c:709)
==51890==    by 0x45DD60: dictresize (dictobject.c:1259)
==51890==    by 0x45DD76: insertion_resize (dictobject.c:1019)
==51890==    by 0x464F30: PyDict_SetDefault (dictobject.c:2924)
==51890==    by 0x4D03BE: PyUnicode_InternInPlace (unicodeobject.c:15289)
==51890==  Block was alloc&#39;d at
==51890==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==51890==    by 0x473646: _PyMem_RawMalloc (obmalloc.c:99)
==51890==    by 0x473529: _PyMem_DebugRawAlloc (obmalloc.c:2120)
==51890==    by 0x473565: _PyMem_DebugRawMalloc (obmalloc.c:2153)
==51890==    by 0x4748B1: PyMem_RawMalloc (obmalloc.c:572)
==51890==    by 0x475909: _PyObject_Malloc (obmalloc.c:1628)
==51890==    by 0x473529: _PyMem_DebugRawAlloc (obmalloc.c:2120)
==51890==    by 0x473565: _PyMem_DebugRawMalloc (obmalloc.c:2153)
==51890==    by 0x4736B0: _PyMem_DebugMalloc (obmalloc.c:2303)
==51890==    by 0x474B78: PyObject_Malloc (obmalloc.c:685)
==51890==    by 0x45C435: new_keys_object (dictobject.c:558)
==51890==    by 0x45DA95: dictresize (dictobject.c:1202)
==51890==
==51890== Invalid read of size 4
==51890==    at 0x472E3D: address_in_range (obmalloc.c:1401)
==51890==    by 0x47594A: pymalloc_realloc (obmalloc.c:1929)
==51890==    by 0x475A02: _PyObject_Realloc (obmalloc.c:1982)
==51890==    by 0x473DCA: _PyMem_DebugRawRealloc (obmalloc.c:2240)
==51890==    by 0x473FF8: _PyMem_DebugRealloc (obmalloc.c:2326)
==51890==    by 0x4749FB: PyMem_Realloc (obmalloc.c:623)
==51890==    by 0x44A6FC: list_resize (listobject.c:70)
==51890==    by 0x44A872: app1 (listobject.c:340)
==51890==    by 0x44FD65: PyList_Append (listobject.c:352)
==51890==    by 0x514315: r_ref (marshal.c:945)
==51890==    by 0x516034: r_object (marshal.c:1139)
==51890==    by 0x516C70: r_object (marshal.c:1389)
==51890==  Address 0x4c41020 is 32 bytes before a block of size 1,600 in arena &quot;client&quot;
==51890==
==51890== Conditional jump or move depends on uninitialised value(s)
==51890==    at 0x472E46: address_in_range (obmalloc.c:1403)
==51890==    by 0x47594A: pymalloc_realloc (obmalloc.c:1929)
==51890==    by 0x475A02: _PyObject_Realloc (obmalloc.c:1982)
==51890==    by 0x473DCA: _PyMem_DebugRawRealloc (obmalloc.c:2240)
==51890==    by 0x473FF8: _PyMem_DebugRealloc (obmalloc.c:2326)
==51890==    by 0x4749FB: PyMem_Realloc (obmalloc.c:623)
==51890==    by 0x44A6FC: list_resize (listobject.c:70)
==51890==    by 0x44A872: app1 (listobject.c:340)
==51890==    by 0x44FD65: PyList_Append (listobject.c:352)
==51890==    by 0x5E3321: _posix_listdir (posixmodule.c:3823)
==51890==    by 0x5E33A8: os_listdir_impl (posixmodule.c:3879)
==51890==    by 0x5E4D77: os_listdir (posixmodule.c.h:1197)
==51890==
==51890== Use of uninitialised value of size 8
==51890==    at 0x472E59: address_in_range (obmalloc.c:1403)
==51890==    by 0x47594A: pymalloc_realloc (obmalloc.c:1929)
==51890==    by 0x475A02: _PyObject_Realloc (obmalloc.c:1982)
==51890==    by 0x473DCA: _PyMem_DebugRawRealloc (obmalloc.c:2240)
==51890==    by 0x473FF8: _PyMem_DebugRealloc (obmalloc.c:2326)
==51890==    by 0x4749FB: PyMem_Realloc (obmalloc.c:623)
==51890==    by 0x44A6FC: list_resize (listobject.c:70)
==51890==    by 0x44A872: app1 (listobject.c:340)
==51890==    by 0x44FD65: PyList_Append (listobject.c:352)
==51890==    by 0x5E3321: _posix_listdir (posixmodule.c:3823)
==51890==    by 0x5E33A8: os_listdir_impl (posixmodule.c:3879)
==51890==    by 0x5E4D77: os_listdir (posixmodule.c.h:1197)
==51890==
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 16908288 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67895296 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 1572864 bytes but only got 0. Skipping tag 42
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 116647 bytes but only got 4867. Skipping tag 42738
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 3468830728 bytes but only got 4851. Skipping tag 279
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 2198732800 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67239937 bytes but only got 4125. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33947764 bytes but only got 0. Skipping tag 139
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 17170432 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 80478208 bytes but only got 0. Skipping tag 1
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 787460 bytes but only got 4882. Skipping tag 20
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 1075 bytes but only got 0. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 120586240 bytes but only got 0. Skipping tag 194
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 65536 bytes but only got 0. Skipping tag 3
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 198656 bytes but only got 0. Skipping tag 279
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 206848 bytes but only got 0. Skipping tag 64512
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 130968 bytes but only got 4882. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 77848 bytes but only got 4689. Skipping tag 64270
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 262156 bytes but only got 0. Skipping tag 257
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33624064 bytes but only got 0. Skipping tag 49152
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67178752 bytes but only got 4627. Skipping tag 50688
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33632768 bytes but only got 0. Skipping tag 56320
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 134386688 bytes but only got 4115. Skipping tag 2048
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33912832 bytes but only got 0. Skipping tag 7168
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 151966208 bytes but only got 4627. Skipping tag 10240
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 119032832 bytes but only got 3859. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 46535680 bytes but only got 0. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 35651584 bytes but only got 0. Skipping tag 42
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 524288 bytes but only got 0. Skipping tag 0
  warnings.warn(
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 769&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 42754&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 769&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 42754&quot; (type 1, writecount -3, passcount 1).
ZIPDecode: Decoding error at scanline 0, incorrect header check.
==51890== Invalid write of size 4
==51890==    at 0x61C39E6: putcontig8bitYCbCr22tile (tif_getimage.c:2146)
==51890==    by 0x61C5865: gtStripContig (tif_getimage.c:977)
==51890==    by 0x6094317: ReadStrip (TiffDecode.c:269)
==51890==    by 0x6094749: ImagingLibTiffDecode (TiffDecode.c:479)
==51890==    by 0x60615D1: _decode (decode.c:136)
==51890==    by 0x64BF47: method_vectorcall_VARARGS (descrobject.c:300)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x43627B: function_code_fastcall (call.c:283)
==51890==    by 0x436D21: _PyFunction_Vectorcall (call.c:410)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==  Address 0x6f456d4 is 0 bytes after a block of size 68 alloc&#39;d
==51890==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==51890==    by 0x60946D0: ImagingLibTiffDecode (TiffDecode.c:469)
==51890==    by 0x60615D1: _decode (decode.c:136)
==51890==    by 0x64BF47: method_vectorcall_VARARGS (descrobject.c:300)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x43627B: function_code_fastcall (call.c:283)
==51890==    by 0x436D21: _PyFunction_Vectorcall (call.c:410)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x4DFDFB: _PyEval_EvalCodeWithName (ceval.c:4298)
==51890==    by 0x436C40: _PyFunction_Vectorcall (call.c:435)
==51890==
==51890== Invalid write of size 4
==51890==    at 0x61C39B5: putcontig8bitYCbCr22tile (tif_getimage.c:2145)
==51890==    by 0x61C5865: gtStripContig (tif_getimage.c:977)
==51890==    by 0x6094317: ReadStrip (TiffDecode.c:269)
==51890==    by 0x6094749: ImagingLibTiffDecode (TiffDecode.c:479)
==51890==    by 0x60615D1: _decode (decode.c:136)
==51890==    by 0x64BF47: method_vectorcall_VARARGS (descrobject.c:300)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x43627B: function_code_fastcall (call.c:283)
==51890==    by 0x436D21: _PyFunction_Vectorcall (call.c:410)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==  Address 0x6f456d8 is 4 bytes after a block of size 68 alloc&#39;d
==51890==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==51890==    by 0x60946D0: ImagingLibTiffDecode (TiffDecode.c:469)
==51890==    by 0x60615D1: _decode (decode.c:136)
==51890==    by 0x64BF47: method_vectorcall_VARARGS (descrobject.c:300)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x43627B: function_code_fastcall (call.c:283)
==51890==    by 0x436D21: _PyFunction_Vectorcall (call.c:410)
==51890==    by 0x4EB73C: _PyObject_Vectorcall (abstract.h:127)
==51890==    by 0x4EB73C: call_function (ceval.c:4963)
==51890==    by 0x4EB73C: _PyEval_EvalFrameDefault (ceval.c:3486)
==51890==    by 0x4DF2EE: PyEval_EvalFrameEx (ceval.c:741)
==51890==    by 0x4DFDFB: _PyEval_EvalCodeWithName (ceval.c:4298)
==51890==    by 0x436C40: _PyFunction_Vectorcall (call.c:435)
==51890==
TIFFFillStrip: Invalid strip byte count 0, strip 1.
Traceback (most recent call last):
  File &quot;test_tiff.py&quot;, line 8, in &lt;module&gt;
    im.load()
  File &quot;/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py&quot;, line 1087, in load
    return self._load_libtiff()
  File &quot;/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py&quot;, line 1191, in _load_libtiff
    raise OSError(err)
OSError: -2
sys:1: ResourceWarning: unclosed file &lt;_io.BufferedReader name=&#39;crash-2020-10-test.tiff&#39;&gt;
==51890==
==51890== HEAP SUMMARY:
==51890==     in use at exit: 748,734 bytes in 444 blocks
==51890==   total heap usage: 6,320 allocs, 5,876 frees, 69,142,969 bytes allocated
==51890==
==51890== LEAK SUMMARY:
==51890==    definitely lost: 0 bytes in 0 blocks
==51890==    indirectly lost: 0 bytes in 0 blocks
==51890==      possibly lost: 721,538 bytes in 372 blocks
==51890==    still reachable: 27,196 bytes in 72 blocks
==51890==         suppressed: 0 bytes in 0 blocks
==51890== Rerun with --leak-check=full to see details of leaked memory
==51890==
==51890== Use --track-origins=yes to see where uninitialised values come from
==51890== For lists of detected and suppressed errors, rerun with: -s
==51890== ERROR SUMMARY: 2556 errors from 6 contexts (suppressed: 0 from 0)
(vpy38-dbg) ubuntu@primary:~/Home/tests$
</pre></div>
</div>
<ul class="simple">
<li><p>Now that we’ve confirmed that there’s something odd/bad going on,
it’s time to gdb.</p></li>
<li><p>Start with <code class="docutils literal notranslate"><span class="pre">gdb</span> <span class="pre">python</span></code></p></li>
<li><p>Set a break point starting with the valgrind stack trace.
<code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">TiffDecode.c:269</span></code></p></li>
<li><p>Run the script with <code class="docutils literal notranslate"><span class="pre">r</span> <span class="pre">test_tiff.py</span></code></p></li>
<li><p>When the break point is hit, explore the state with <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">locals</span></code>,
<code class="docutils literal notranslate"><span class="pre">bt</span></code>, <code class="docutils literal notranslate"><span class="pre">py-bt</span></code>, or <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">[variable]</span></code>. For pointers,
<code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">*[variable]</span></code> is useful.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(vpy38-dbg) ubuntu@primary:~/Home/tests$ gdb python
GNU gdb (Ubuntu 9.2-0ubuntu1~20.04) 9.2
Copyright (C) 2020 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type &quot;show copying&quot; and &quot;show warranty&quot; for details.
This GDB was configured as &quot;x86_64-linux-gnu&quot;.
Type &quot;show configuration&quot; for configuration details.
For bug reporting instructions, please see:
&lt;http://www.gnu.org/software/gdb/bugs/&gt;.
Find the GDB manual and other documentation resources online at:
    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.

For help, type &quot;help&quot;.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...
Reading symbols from python...
(gdb) b TiffDecode.c:269
No source file named TiffDecode.c.
Make breakpoint pending on future shared library load? (y or [n]) y
Breakpoint 1 (TiffDecode.c:269) pending.
(gdb) r test_tiff.py
Starting program: /home/ubuntu/vpy38-dbg/bin/python test_tiff.py
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 16908288 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67895296 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 1572864 bytes but only got 0. Skipping tag 42
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 116647 bytes but only got 4867. Skipping tag 42738
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 3468830728 bytes but only got 4851. Skipping tag 279
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 2198732800 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67239937 bytes but only got 4125. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33947764 bytes but only got 0. Skipping tag 139
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 17170432 bytes but only got 0. Skipping tag 0
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 80478208 bytes but only got 0. Skipping tag 1
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 787460 bytes but only got 4882. Skipping tag 20
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 1075 bytes but only got 0. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 120586240 bytes but only got 0. Skipping tag 194
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 65536 bytes but only got 0. Skipping tag 3
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 198656 bytes but only got 0. Skipping tag 279
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 206848 bytes but only got 0. Skipping tag 64512
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 130968 bytes but only got 4882. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 77848 bytes but only got 4689. Skipping tag 64270
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 262156 bytes but only got 0. Skipping tag 257
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33624064 bytes but only got 0. Skipping tag 49152
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 67178752 bytes but only got 4627. Skipping tag 50688
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33632768 bytes but only got 0. Skipping tag 56320
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 134386688 bytes but only got 4115. Skipping tag 2048
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 33912832 bytes but only got 0. Skipping tag 7168
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 151966208 bytes but only got 4627. Skipping tag 10240
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 119032832 bytes but only got 3859. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 46535680 bytes but only got 0. Skipping tag 256
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 35651584 bytes but only got 0. Skipping tag 42
  warnings.warn(
/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py:770: UserWarning: Possibly corrupt EXIF data.  Expecting to read 524288 bytes but only got 0. Skipping tag 0
  warnings.warn(
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 769&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 42754&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 769&quot; (type 1, writecount -3, passcount 1).
_TIFFVSetField: tempfile.tif: Null count for &quot;Tag 42754&quot; (type 1, writecount -3, passcount 1).

Breakpoint 1, ReadStrip (tiff=tiff@entry=0xae9b90, row=0, buffer=0xac2eb0) at src/libImaging/TiffDecode.c:269
269                 ok = TIFFRGBAImageGet(&amp;img, buffer, img.width, rows_to_read);
(gdb) p img
$1 = {tif = 0xae9b90, stoponerr = 0, isContig = 1, alpha = 0, width = 20, height = 1536, bitspersample = 8, samplesperpixel = 3,
  orientation = 1, req_orientation = 1, photometric = 6, redcmap = 0x0, greencmap = 0x0, bluecmap = 0x0, get =
    0x7ffff71d0710 &lt;gtStripContig&gt;, put = {any = 0x7ffff71ce550 &lt;putcontig8bitYCbCr22tile&gt;,
    contig = 0x7ffff71ce550 &lt;putcontig8bitYCbCr22tile&gt;, separate = 0x7ffff71ce550 &lt;putcontig8bitYCbCr22tile&gt;}, Map = 0x0,
  BWmap = 0x0, PALmap = 0x0, ycbcr = 0xaf24b0, cielab = 0x0, UaToAa = 0x0, Bitdepth16To8 = 0x0, row_offset = 0, col_offset = 0}
(gdb) up
#1  0x00007ffff736174a in ImagingLibTiffDecode (im=0xac1f90, state=0x7ffff76767e0, buffer=&lt;optimized out&gt;, bytes=&lt;optimized out&gt;)
    at src/libImaging/TiffDecode.c:479
479                 if (ReadStrip(tiff, state-&gt;y, (UINT32 *)state-&gt;buffer) == -1) {
(gdb) p *state
$2 = {count = 0, state = 0, errcode = 0, x = 0, y = 0, ystep = 0, xsize = 17, ysize = 108, xoff = 0, yoff = 0,
  shuffle = 0x7ffff735f411 &lt;copy4&gt;, bits = 32, bytes = 68, buffer = 0xac2eb0 &quot;P\354\336\367\377\177&quot;, context = 0xa75440, fd = 0x0}
(gdb) py-bt
Traceback (most recent call first):
  File &quot;/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py&quot;, line 1428, in _load_libtiff

  File &quot;/home/ubuntu/vpy38-dbg/lib/python3.8/site-packages/Pillow-8.0.1-py3.8-linux-x86_64.egg/PIL/TiffImagePlugin.py&quot;, line 1087, in load
    return self._load_libtiff()
  File &quot;test_tiff.py&quot;, line 8, in &lt;module&gt;
    im.load()
</pre></div>
</div>
<ul class="simple">
<li><p>Poke around till you understand what’s going on. In this case,
state-&gt;xsize and img.width are different, which led to an out of
bounds write, as the receiving buffer was sized for the smaller of
the two.</p></li>
</ul>
</section>
<section id="caveats">
<h5>Caveats<a class="headerlink" href="#caveats" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>If your program is running/hung in a docker container and your host
has the appropriate tools, you can run gdb as the superuser in the
host and you may be able to get a trace of where the process is hung.
You probably won’t have the capability to do that from within the
docker container, as the trace capacity isn’t allowed by default.</p></li>
<li><p>Variations of this are possible on the mac/windows, but the details
are going to be different.</p></li>
<li><p>IIRC, Fedora has the gdb bits working by default. Ubuntu has always
been a bit of a battle to make it work.</p></li>
</ul>
</section>
</section>
</div>
</section>
</div>
</section>
<span id="document-porting"></span><section id="porting">
<h2>Porting<a class="headerlink" href="#porting" title="Permalink to this headline">¶</a></h2>
<p><strong>Porting existing PIL-based code to Pillow</strong></p>
<p>Pillow is a functional drop-in replacement for the Python Imaging Library.</p>
<p>PIL is Python 2 only. Pillow dropped support for Python 2 in Pillow
7.0. So if you would like to run the latest version of Pillow, you will first
and foremost need to port your code from Python 2 to 3.</p>
<p>To run your existing PIL-compatible code with Pillow, it needs to be modified
to import the <code class="docutils literal notranslate"><span class="pre">Image</span></code> module from the <code class="docutils literal notranslate"><span class="pre">PIL</span></code> namespace <em>instead</em> of the
global namespace. Change this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">Image</span>
</pre></div>
</div>
<p>to this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="index.html#module-PIL._imaging" title="PIL._imaging"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL._imaging</span></code></a> module has been moved to <a class="reference internal" href="index.html#module-PIL.Image.core" title="PIL.Image.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">PIL.Image.core</span></code></a>.
You can now import it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL.Image</span> <span class="kn">import</span> <span class="n">core</span> <span class="k">as</span> <span class="n">_imaging</span>
</pre></div>
</div>
<p>The image plugin loading mechanism has changed. Pillow no longer
automatically imports any file in the Python path with a name ending
in <code class="file docutils literal notranslate"><span class="pre">ImagePlugin.py</span></code>. You will need to import your image plugin
manually.</p>
<p>Pillow will raise an exception if the core extension can’t be loaded
for any reason, including a version mismatch between the Python and
extension code. Previously PIL allowed Python only code to run if the
core extension was not available.</p>
</section>
<span id="document-about"></span><section id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<section id="goals">
<h3>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h3>
<p>The fork author’s goal is to foster and support active development of PIL through:</p>
<ul class="simple">
<li><p>Continuous integration testing via <a class="reference external" href="https://github.com/python-pillow/Pillow/actions">GitHub Actions</a>, <a class="reference external" href="https://ci.appveyor.com/project/Python-pillow/pillow">AppVeyor</a> and <a class="reference external" href="https://travis-ci.com/github/python-pillow/pillow-wheels">Travis CI</a></p></li>
<li><p>Publicized development activity on <a class="reference external" href="https://github.com/python-pillow/Pillow">GitHub</a></p></li>
<li><p>Regular releases to the <a class="reference external" href="https://pypi.org/project/Pillow/">Python Package Index</a></p></li>
</ul>
</section>
<section id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>Like PIL, Pillow is <a class="reference external" href="https://raw.githubusercontent.com/python-pillow/Pillow/master/LICENSE">licensed under the open source HPND License</a></p>
</section>
<section id="why-a-fork">
<h3>Why a fork?<a class="headerlink" href="#why-a-fork" title="Permalink to this headline">¶</a></h3>
<p>PIL is not setuptools compatible. Please see <a class="reference external" href="https://mail.python.org/pipermail/image-sig/2010-August/006480.html">this Image-SIG post</a> for a more detailed explanation. Also, PIL’s current bi-yearly (or greater) release schedule is too infrequent to accommodate the large number and frequency of issues reported.</p>
</section>
<section id="what-about-pil">
<h3>What about PIL?<a class="headerlink" href="#what-about-pil" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prior to Pillow 2.0.0, very few image code changes were made. Pillow 2.0.0
added Python 3 support and includes many bug fixes from many contributors.</p>
</div>
<p>As more time passes since the last PIL release (1.1.7 in 2009), the likelihood of a new PIL release decreases. However, we’ve yet to hear an official “PIL is dead” announcement.</p>
</section>
</section>
<span id="document-releasenotes/index"></span><section id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>Pillow is released quarterly on January 2nd, April 1st, July 1st and October 15th.
Patch releases are created if the latest release contains severe bugs, or if security
fixes are put together before a scheduled release. See <a class="reference internal" href="index.html#versioning"><span class="std std-ref">Versioning</span></a> for more
information.</p>
<p>Please use the latest version of Pillow. Functionality and security fixes should not be
expected to be backported to earlier versions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contributors please include release notes as needed or appropriate with your bug fixes, feature additions and tests.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-releasenotes/8.3.2"></span><section id="id1">
<h3>8.3.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-23437">CVE-2021-23437</a>: Avoid a potential ReDoS (regular expression denial of service)
in <a class="reference internal" href="index.html#module-PIL.ImageColor" title="PIL.ImageColor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageColor</span></code></a>’s <a class="reference internal" href="index.html#PIL.ImageColor.getrgb" title="PIL.ImageColor.getrgb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getrgb()</span></code></a> by raising
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the color specifier is too long. Present since Pillow 5.2.0.</p></li>
<li><p>Fix 6-byte out-of-bounds (OOB) read. The previous bounds check in <code class="docutils literal notranslate"><span class="pre">FliDecode.c</span></code>
incorrectly calculated the required read buffer size when copying a chunk, potentially
reading six extra bytes off the end of the allocated buffer from the heap. Present
since Pillow 7.1.0. This bug was found by Google’s <a class="reference external" href="https://github.com/google/oss-fuzz">OSS-Fuzz</a> <a class="reference external" href="https://google.github.io/oss-fuzz/getting-started/continuous-integration/">CIFuzz</a> runs.</p></li>
</ul>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="python-3-10-wheels">
<h5>Python 3.10 wheels<a class="headerlink" href="#python-3-10-wheels" title="Permalink to this headline">¶</a></h5>
<p>Pillow now includes binary wheels for Python 3.10.</p>
<p>The Python 3.10 release candidate was released on 2021-08-03 with the final release due
2021-10-04 (<span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0619"><strong>PEP 619</strong></a>). The CPython core team strongly encourages maintainers of
third-party Python projects to prepare for 3.10 compatibility. And as there are <a class="reference external" href="https://www.python.org/downloads/release/python-3100rc1/">no ABI
changes</a> planned we are releasing wheels to help others prepare for 3.10, and ensure
Pillow can be used immediately on release day of 3.10.0 final.</p>
</section>
<section id="fixed-regressions">
<h5>Fixed regressions<a class="headerlink" href="#fixed-regressions" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Ensure TIFF <code class="docutils literal notranslate"><span class="pre">RowsPerStrip</span></code> is multiple of 8 for JPEG compression (<a class="reference external" href="https://github.com/python-pillow/Pillow/pull/5588">#5588</a>).</p></li>
<li><p>Updates for <a class="reference internal" href="index.html#module-PIL.ImagePalette" title="PIL.ImagePalette"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImagePalette</span></code></a> channel order (<a class="reference external" href="https://github.com/python-pillow/Pillow/pull/5599">#5599</a>).</p></li>
<li><p>Hide FriBiDi shim symbols to avoid conflict with real FriBiDi library (<a class="reference external" href="https://github.com/python-pillow/Pillow/pull/5651">#5651</a>).</p></li>
</ul>
</section>
</section>
</section>
<span id="document-releasenotes/8.3.1"></span><section id="id1">
<h3>8.3.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="fixed-regression-converting-to-numpy-arrays">
<h4>Fixed regression converting to NumPy arrays<a class="headerlink" href="#fixed-regression-converting-to-numpy-arrays" title="Permalink to this headline">¶</a></h4>
<p>This fixes a regression introduced in 8.3.0 when converting an image to a NumPy array
with a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">__array__() takes 1 positional argument but 2 were given</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</section>
<section id="catch-oserror-when-checking-if-destination-is-sys-stdout">
<h4>Catch OSError when checking if destination is sys.stdout<a class="headerlink" href="#catch-oserror-when-checking-if-destination-is-sys-stdout" title="Permalink to this headline">¶</a></h4>
<p>In 8.3.0, a check to see if the destination was <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> when saving an image was
updated. This lead to an OSError being raised if the environment restricted access.</p>
<p>The OSError is now silently caught.</p>
</section>
<section id="fixed-removing-orientation-in-imageops-exif-transpose">
<h4>Fixed removing orientation in ImageOps.exif_transpose<a class="headerlink" href="#fixed-removing-orientation-in-imageops-exif-transpose" title="Permalink to this headline">¶</a></h4>
<p>In 8.3.0, <a class="reference internal" href="index.html#PIL.ImageOps.exif_transpose" title="PIL.ImageOps.exif_transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exif_transpose()</span></code></a> was changed to ensure that the
original image EXIF data was not modified, and the orientation was only removed from
the modified copy.</p>
<p>However, for certain images the orientation was already missing from the modified
image, leading to a KeyError.</p>
<p>This error has been resolved, and the copying of metadata to the modified image
improved.</p>
</section>
</section>
<span id="document-releasenotes/8.3.0"></span><section id="id1">
<h3>8.3.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="deprecations">
<h4>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h4>
<section id="jpegimageplugin-convert-dict-qtables">
<h5>JpegImagePlugin.convert_dict_qtables<a class="headerlink" href="#jpegimageplugin-convert-dict-qtables" title="Permalink to this headline">¶</a></h5>
<p>JPEG <code class="docutils literal notranslate"><span class="pre">quantization</span></code> is now automatically converted, but still returned as a
dictionary. The <a class="reference internal" href="index.html#PIL.JpegImagePlugin.convert_dict_qtables" title="PIL.JpegImagePlugin.convert_dict_qtables"><code class="xref py py-attr docutils literal notranslate"><span class="pre">convert_dict_qtables</span></code></a> method no longer
performs any operations on the data given to it, has been deprecated and will be
removed in Pillow 10.0.0 (2023-01-02).</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="changed-webp-default-method-value-when-saving">
<h5>Changed WebP default “method” value when saving<a class="headerlink" href="#changed-webp-default-method-value-when-saving" title="Permalink to this headline">¶</a></h5>
<p>Previously, it was 0, for the best speed. The default has now been changed to 4, to
match WebP’s default, for higher quality with still some speed optimisation.</p>
</section>
<section id="default-resampling-filter-for-special-image-modes">
<h5>Default resampling filter for special image modes<a class="headerlink" href="#default-resampling-filter-for-special-image-modes" title="Permalink to this headline">¶</a></h5>
<p>Pillow 7.0 changed the default resampling filter to <code class="docutils literal notranslate"><span class="pre">Image.BICUBIC</span></code>. However, as this
is not supported yet for images with a custom number of bits, the default filter for
those modes has been reverted to <code class="docutils literal notranslate"><span class="pre">Image.NEAREST</span></code>.</p>
</section>
<section id="imagemorph-incorrect-mode-errors">
<h5>ImageMorph incorrect mode errors<a class="headerlink" href="#imagemorph-incorrect-mode-errors" title="Permalink to this headline">¶</a></h5>
<p>For <code class="docutils literal notranslate"><span class="pre">apply()</span></code>, <code class="docutils literal notranslate"><span class="pre">match()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_on_pixels()</span></code>, if the image mode is not L, an
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code></a> was thrown. This has now been changed to a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
</section>
<section id="getxmp">
<h5>getxmp()<a class="headerlink" href="#getxmp" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Extensible_Metadata_Platform">XMP data</a> can now be
returned for PNG and TIFF images, through <code class="docutils literal notranslate"><span class="pre">getxmp()</span></code> for each format.</p>
<p>The returned dictionary will start from the base of the XML, meaning that the top level
should contain an “xmpmeta” key. JPEG’s <code class="docutils literal notranslate"><span class="pre">getxmp()</span></code> method has also been updated to
this structure.</p>
</section>
<section id="tiff-getexif">
<h5>TIFF getexif()<a class="headerlink" href="#tiff-getexif" title="Permalink to this headline">¶</a></h5>
<p>TIFF <a class="reference internal" href="index.html#PIL.TiffImagePlugin.TiffImageFile.tag_v2" title="PIL.TiffImagePlugin.TiffImageFile.tag_v2"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tag_v2</span></code></a> data can now be accessed
through <a class="reference internal" href="index.html#PIL.Image.Image.getexif" title="PIL.Image.Image.getexif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getexif()</span></code></a>. This also provides access to the GPS and
EXIF IFDs, through <code class="docutils literal notranslate"><span class="pre">im.getexif().get_ifd(0x8825)</span></code> and
<code class="docutils literal notranslate"><span class="pre">im.getexif().get_ifd(0x8769)</span></code> respectively.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="imageops-contain">
<h5>ImageOps.contain<a class="headerlink" href="#imageops-contain" title="Permalink to this headline">¶</a></h5>
<p>Returns a resized version of the image, set to the maximum width and height within
<code class="docutils literal notranslate"><span class="pre">size</span></code>, while maintaining the original aspect ratio.</p>
<p>To compare it to other ImageOps methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#PIL.ImageOps.fit" title="PIL.ImageOps.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></a> expands an image until is fills <code class="docutils literal notranslate"><span class="pre">size</span></code>, cropping the
parts of the image that do not fit.</p></li>
<li><p><a class="reference internal" href="index.html#PIL.ImageOps.pad" title="PIL.ImageOps.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pad()</span></code></a> expands an image to fill <code class="docutils literal notranslate"><span class="pre">size</span></code>, without cropping, but
instead filling the extra space with <code class="docutils literal notranslate"><span class="pre">color</span></code>.</p></li>
<li><p><a class="reference internal" href="index.html#PIL.ImageOps.contain" title="PIL.ImageOps.contain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contain()</span></code></a> is similar to <a class="reference internal" href="index.html#PIL.ImageOps.pad" title="PIL.ImageOps.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pad()</span></code></a>, but it
does not fill the extra space. Instead, the original aspect ratio is maintained. So
unlike the other two methods, it is not guaranteed to return an image of <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p></li>
</ul>
</section>
<section id="ico-saving-bitmap-format-argument">
<h5>ICO saving: bitmap_format argument<a class="headerlink" href="#ico-saving-bitmap-format-argument" title="Permalink to this headline">¶</a></h5>
<p>By default, Pillow saves ICO files in the PNG format. They can now also be saved in BMP
format, through the new <code class="docutils literal notranslate"><span class="pre">bitmap_format</span></code> argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.ico&quot;</span><span class="p">,</span> <span class="n">bitmap_format</span><span class="o">=</span><span class="s2">&quot;bmp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<section id="buffer-overflow">
<h5>Buffer overflow<a class="headerlink" href="#buffer-overflow" title="Permalink to this headline">¶</a></h5>
<p>This release addresses <a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-34552">CVE-2021-34552</a>. PIL since 1.1.4 and Pillow since 1.0
allowed parameters passed into a convert function to trigger buffer overflow in
Convert.c.</p>
</section>
<section id="parsing-xml">
<h5>Parsing XML<a class="headerlink" href="#parsing-xml" title="Permalink to this headline">¶</a></h5>
<p>Pillow previously parsed XMP data using Python’s <code class="docutils literal notranslate"><span class="pre">xml</span></code> module. However, this module
is not secure.</p>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#PIL.Image.Image.getexif" title="PIL.Image.Image.getexif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getexif()</span></code></a> has used <code class="docutils literal notranslate"><span class="pre">xml</span></code> to potentially retrieve
orientation data since Pillow 7.2.0. It has been refactored to use <code class="docutils literal notranslate"><span class="pre">re</span></code> instead.</p></li>
<li><p><a class="reference internal" href="index.html#PIL.JpegImagePlugin.JpegImageFile.getxmp" title="PIL.JpegImagePlugin.JpegImageFile.getxmp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getxmp()</span></code></a> was added in Pillow 8.2.0. It
will now use <code class="docutils literal notranslate"><span class="pre">defusedxml</span></code> instead. If the dependency is not present, an empty
dictionary will be returned and a warning raised.</p></li>
</ul>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="added-dds-bc5-reading-and-uncompressed-saving">
<h5>Added DDS BC5 reading and uncompressed saving<a class="headerlink" href="#added-dds-bc5-reading-and-uncompressed-saving" title="Permalink to this headline">¶</a></h5>
<p>Support has been added to read the BC5 format of DDS images, whether UNORM, SNORM or
TYPELESS.</p>
<p>Support has also been added to write the uncompressed format of DDS images.</p>
</section>
</section>
</section>
<span id="document-releasenotes/8.2.0"></span><section id="id1">
<h3>8.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="deprecations">
<h4>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h4>
<section id="categories">
<h5>Categories<a class="headerlink" href="#categories" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">im.category</span></code> is deprecated and will be removed in Pillow 10.0.0 (2023-01-02),
along with the related <code class="docutils literal notranslate"><span class="pre">Image.NORMAL</span></code>, <code class="docutils literal notranslate"><span class="pre">Image.SEQUENCE</span></code> and
<code class="docutils literal notranslate"><span class="pre">Image.CONTAINER</span></code> attributes.</p>
<p>To determine if an image has multiple frames or not,
<code class="docutils literal notranslate"><span class="pre">getattr(im,</span> <span class="pre">&quot;is_animated&quot;,</span> <span class="pre">False)</span></code> can be used instead.</p>
</section>
<section id="tk-tcl-8-4">
<h5>Tk/Tcl 8.4<a class="headerlink" href="#tk-tcl-8-4" title="Permalink to this headline">¶</a></h5>
<p>Support for Tk/Tcl 8.4 is deprecated and will be removed in Pillow 10.0.0 (2023-01-02),
when Tk/Tcl 8.5 will be the minimum supported.</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="image-alpha-composite-dest">
<h5>Image.alpha_composite: dest<a class="headerlink" href="#image-alpha-composite-dest" title="Permalink to this headline">¶</a></h5>
<p>When calling <a class="reference internal" href="index.html#PIL.Image.Image.alpha_composite" title="PIL.Image.Image.alpha_composite"><code class="xref py py-meth docutils literal notranslate"><span class="pre">alpha_composite()</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">dest</span></code> argument now
accepts negative co-ordinates, like the upper left corner of the <code class="docutils literal notranslate"><span class="pre">box</span></code> argument of
<a class="reference internal" href="index.html#PIL.Image.Image.paste" title="PIL.Image.Image.paste"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paste()</span></code></a> can be negative. Naturally, this has effect of
cropping the overlaid image.</p>
</section>
<section id="image-getexif-exif-and-gps-ifd">
<h5>Image.getexif: EXIF and GPS IFD<a class="headerlink" href="#image-getexif-exif-and-gps-ifd" title="Permalink to this headline">¶</a></h5>
<p>Previously, <a class="reference internal" href="index.html#PIL.Image.Image.getexif" title="PIL.Image.Image.getexif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getexif()</span></code></a> flattened the EXIF IFD into the rest of
the data, losing information. This information is now kept separate, moved under
<code class="docutils literal notranslate"><span class="pre">im.getexif().get_ifd(0x8769)</span></code>.</p>
<p>Direct access to the GPS IFD dictionary was possible through <code class="docutils literal notranslate"><span class="pre">im.getexif()[0x8825]</span></code>.
This is now consistent with other IFDs, and must be accessed through
<code class="docutils literal notranslate"><span class="pre">im.getexif().get_ifd(0x8825)</span></code>.</p>
<p>These changes only affect <a class="reference internal" href="index.html#PIL.Image.Image.getexif" title="PIL.Image.Image.getexif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getexif()</span></code></a>, introduced in Pillow
6.0. The older <code class="docutils literal notranslate"><span class="pre">_getexif()</span></code> methods are unaffected.</p>
</section>
<section id="image-modeinfo">
<h5>Image._MODEINFO<a class="headerlink" href="#image-modeinfo" title="Permalink to this headline">¶</a></h5>
<p>This internal dictionary had been deprecated by a comment since PIL, and is now
removed. Instead, <code class="docutils literal notranslate"><span class="pre">Image.getmodebase()</span></code>, <code class="docutils literal notranslate"><span class="pre">Image.getmodetype()</span></code>,
<code class="docutils literal notranslate"><span class="pre">Image.getmodebandnames()</span></code>, <code class="docutils literal notranslate"><span class="pre">Image.getmodebands()</span></code> or <code class="docutils literal notranslate"><span class="pre">ImageMode.getmode()</span></code>
can be used.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="getxmp-for-jpeg-images">
<h5>getxmp() for JPEG images<a class="headerlink" href="#getxmp-for-jpeg-images" title="Permalink to this headline">¶</a></h5>
<p>A new method has been added to return
<a class="reference external" href="https://en.wikipedia.org/wiki/Extensible_Metadata_Platform">XMP data</a> for JPEG
images. It reads the XML data into a dictionary of names and values.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;Tests/images/xmp_test.jpg&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">getxmp</span><span class="p">())</span>
<span class="go">{&#39;RDF&#39;: {}, &#39;Description&#39;: {&#39;Version&#39;: &#39;10.4&#39;, &#39;ProcessVersion&#39;: &#39;10.0&#39;, ...}, ...}</span>
</pre></div>
</div>
</section>
<section id="imagedraw-rounded-rectangle">
<h5>ImageDraw.rounded_rectangle<a class="headerlink" href="#imagedraw-rounded-rectangle" title="Permalink to this headline">¶</a></h5>
<p>Added <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.rounded_rectangle" title="PIL.ImageDraw.ImageDraw.rounded_rectangle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rounded_rectangle()</span></code></a>. It works the same as
<a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.rectangle" title="PIL.ImageDraw.ImageDraw.rectangle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rectangle()</span></code></a>, except with an additional <code class="docutils literal notranslate"><span class="pre">radius</span></code>
argument. <code class="docutils literal notranslate"><span class="pre">radius</span></code> is limited to half of the width or the height, so that users can
create a circle, but not any other ellipse.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">rounded_rectangle</span><span class="p">(</span><span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">180</span><span class="p">),</span> <span class="n">radius</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="imageops-autocontrast-preserve-tone">
<h5>ImageOps.autocontrast: preserve_tone<a class="headerlink" href="#imageops-autocontrast-preserve-tone" title="Permalink to this headline">¶</a></h5>
<p>The default behaviour of <a class="reference internal" href="index.html#PIL.ImageOps.autocontrast" title="PIL.ImageOps.autocontrast"><code class="xref py py-meth docutils literal notranslate"><span class="pre">autocontrast()</span></code></a> is to normalize
separate histograms for each color channel, changing the tone of the image. The new
<code class="docutils literal notranslate"><span class="pre">preserve_tone</span></code> argument keeps the tone unchanged by using one luminance histogram
for all channels.</p>
</section>
<section id="imageshow-gmdisplayviewer">
<h5>ImageShow.GmDisplayViewer<a class="headerlink" href="#imageshow-gmdisplayviewer" title="Permalink to this headline">¶</a></h5>
<p>If GraphicsMagick is present, this new <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageShow.Viewer</span></code></a> subclass will
be registered. It uses <a class="reference external" href="http://www.graphicsmagick.org/">GraphicsMagick</a>, an <a class="reference external" href="https://imagemagick.org/">ImageMagick</a> fork, to display images.</p>
<p>The GraphicsMagick based viewer has a lower priority than its ImageMagick
counterpart.  Thus, if both ImageMagick and GraphicsMagick are installed,
<code class="docutils literal notranslate"><span class="pre">im.show()</span></code> and <a class="reference internal" href="index.html#PIL.ImageShow.show" title="PIL.ImageShow.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageShow.show()</span></code></a> prefer the viewer based on
ImageMagick, i.e the behaviour stays the same for Pillow users having
ImageMagick installed.</p>
</section>
<section id="imageshow-ipythonviewer">
<h5>ImageShow.IPythonViewer<a class="headerlink" href="#imageshow-ipythonviewer" title="Permalink to this headline">¶</a></h5>
<p>If IPython is present, this new <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageShow.Viewer</span></code></a> subclass will be
registered. It displays images on all IPython frontends. This will be helpful
to users of Google Colab, allowing <code class="docutils literal notranslate"><span class="pre">im.show()</span></code> to display images.</p>
<p>It is lower in priority than the other default <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageShow.Viewer</span></code></a>
instances, so it will only be used by <code class="docutils literal notranslate"><span class="pre">im.show()</span></code> or <a class="reference internal" href="index.html#PIL.ImageShow.show" title="PIL.ImageShow.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageShow.show()</span></code></a>
if none of the other viewers are available. This means that the behaviour of
<a class="reference internal" href="index.html#module-PIL.ImageShow" title="PIL.ImageShow"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageShow</span></code></a> will stay the same for most Pillow users.</p>
</section>
<section id="saving-tiff-with-icc-profile">
<h5>Saving TIFF with ICC profile<a class="headerlink" href="#saving-tiff-with-icc-profile" title="Permalink to this headline">¶</a></h5>
<p>As is already possible for JPEG, PNG and WebP, the ICC profile for TIFF files can now
be specified through a keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.tif&quot;</span><span class="p">,</span> <span class="n">icc_profile</span><span class="o">=...</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>These were all found with <a class="reference external" href="https://github.com/google/oss-fuzz">OSS-Fuzz</a>.</p>
<section id="cve-2021-25287-cve-2021-25288-fix-oob-read-in-jpeg2kdecode">
<h5><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25287">CVE-2021-25287</a>, <a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25288">CVE-2021-25288</a>: Fix OOB read in Jpeg2KDecode<a class="headerlink" href="#cve-2021-25287-cve-2021-25288-fix-oob-read-in-jpeg2kdecode" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>For J2k images with multiple bands, it’s legal to have different widths for each band,
e.g. 1 byte for <code class="docutils literal notranslate"><span class="pre">L</span></code>, 4 bytes for <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p></li>
<li><p>This dates to Pillow 2.4.0.</p></li>
</ul>
</section>
<section id="cve-2021-28675-fix-dos-in-psdimageplugin">
<h5><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28675">CVE-2021-28675</a>: Fix DOS in PsdImagePlugin<a class="headerlink" href="#cve-2021-28675-fix-dos-in-psdimageplugin" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#PIL.PsdImagePlugin.PsdImageFile" title="PIL.PsdImagePlugin.PsdImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PsdImagePlugin.PsdImageFile</span></code></a> did not sanity check the number of input
layers with regard to the size of the data block, this could lead to a
denial-of-service on <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> prior to
<a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>.</p></li>
<li><p>This dates to the PIL fork.</p></li>
</ul>
</section>
<section id="cve-2021-28676-fix-fli-dos">
<h5><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28676">CVE-2021-28676</a>: Fix FLI DOS<a class="headerlink" href="#cve-2021-28676-fix-fli-dos" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FliDecode.c</span></code> did not properly check that the block advance was non-zero,
potentially leading to an infinite loop on load.</p></li>
<li><p>This dates to the PIL fork.</p></li>
</ul>
</section>
<section id="cve-2021-28677-fix-eps-dos-on-open">
<h5><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28677">CVE-2021-28677</a>: Fix EPS DOS on _open<a class="headerlink" href="#cve-2021-28677-fix-eps-dos-on-open" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>The readline used in EPS has to deal with any combination of <code class="docutils literal notranslate"><span class="pre">\r</span></code> and <code class="docutils literal notranslate"><span class="pre">\n</span></code> as line
endings. It accidentally used a quadratic method of accumulating lines while looking
for a line ending.</p></li>
<li><p>A malicious EPS file could use this to perform a denial-of-service of Pillow in the
open phase, before an image was accepted for opening.</p></li>
<li><p>This dates to the PIL fork.</p></li>
</ul>
</section>
<section id="cve-2021-28678-fix-blp-dos">
<h5><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-28678">CVE-2021-28678</a>: Fix BLP DOS<a class="headerlink" href="#cve-2021-28678-fix-blp-dos" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BlpImagePlugin</span></code> did not properly check that reads after jumping to file offsets
returned data. This could lead to a denial-of-service where the decoder could be run a
large number of times on empty data.</p></li>
<li><p>This dates to Pillow 5.1.0.</p></li>
</ul>
</section>
<section id="fix-memory-dos-in-imagefont">
<h5>Fix memory DOS in ImageFont<a class="headerlink" href="#fix-memory-dos-in-imagefont" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>A corrupt or specially crafted TTF font could have font metrics that lead to
unreasonably large sizes when rendering text in font. <code class="docutils literal notranslate"><span class="pre">ImageFont.py</span></code> did not check
the image size before allocating memory for it.</p></li>
<li><p>This dates to the PIL fork.</p></li>
</ul>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="gif-writer-uses-lzw-encoding">
<h5>GIF writer uses LZW encoding<a class="headerlink" href="#gif-writer-uses-lzw-encoding" title="Permalink to this headline">¶</a></h5>
<p>GIF files are now written using LZW encoding, which will generate smaller files,
typically about 70% of the size generated by the older encoder.</p>
<p>The pixel data is encoded using the format specified in the <a class="reference external" href="https://www.w3.org/Graphics/GIF/spec-gif89a.txt">CompuServe GIF standard</a>.</p>
<p>The older encoder used a variant of run-length encoding that was compatible but less
efficient.</p>
</section>
<section id="graphicsmagick">
<h5>GraphicsMagick<a class="headerlink" href="#graphicsmagick" title="Permalink to this headline">¶</a></h5>
<p>The test suite can now be run on systems which have <a class="reference external" href="http://www.graphicsmagick.org/">GraphicsMagick</a> but not
<a class="reference external" href="https://imagemagick.org/">ImageMagick</a> installed.  If both are installed, the tests prefer ImageMagick.</p>
</section>
<section id="libraqm-and-fribidi-linking">
<h5>Libraqm and FriBiDi linking<a class="headerlink" href="#libraqm-and-fribidi-linking" title="Permalink to this headline">¶</a></h5>
<p>The way the libraqm dependency for complex text scripts is linked has been changed:</p>
<p>Source builds will now link against the system version of libraqm at build time
rather than at runtime by default.</p>
<p>Binary wheels now include a statically linked modified version of libraqm that
links against FriBiDi at runtime instead. This change is intended to address
issues with the previous implementation on some platforms. These are created
by building Pillow with the new build flags <code class="docutils literal notranslate"><span class="pre">--vendor-raqm</span> <span class="pre">--vendor-fribidi</span></code>.</p>
<p>Windows users will now need to install <code class="docutils literal notranslate"><span class="pre">fribidi.dll</span></code> (or <code class="docutils literal notranslate"><span class="pre">fribidi-0.dll</span></code>) only,
<code class="docutils literal notranslate"><span class="pre">libraqm.dll</span></code> is no longer used.</p>
<p>See <a class="reference internal" href="index.html#document-installation"><span class="doc">installation documentation</span></a> for more information.</p>
</section>
<section id="pyqt6">
<h5>PyQt6<a class="headerlink" href="#pyqt6" title="Permalink to this headline">¶</a></h5>
<p>Support has been added for PyQt6. If it is installed, it will be used instead of
PySide6, PyQt5 or PySide2.</p>
</section>
</section>
</section>
<span id="document-releasenotes/8.1.2"></span><section id="id1">
<h3>8.1.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>There is an exhaustion of memory DOS in the BLP (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-27921">CVE-2021-27921</a>),
ICNS (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-27922">CVE-2021-27922</a>) and ICO (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-27923">CVE-2021-27923</a>) container formats
where Pillow did not properly check the reported size of the contained image.
These images could cause arbitrarily large memory allocations. This was reported
by Jiayi Lin, Luke Shaffer, Xinran Xie, and Akshay Ajayan of
<a class="reference external" href="https://www.asu.edu/">Arizona State University</a>.</p>
</section>
</section>
<span id="document-releasenotes/8.1.1"></span><section id="id1">
<h3>8.1.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25289">CVE-2021-25289</a>: The previous fix for <a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-35654">CVE-2020-35654</a> was insufficient
due to incorrect error checking in <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code>.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25290">CVE-2021-25290</a>: In <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code>, there is a negative-offset <code class="docutils literal notranslate"><span class="pre">memcpy</span></code>
with an invalid size.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25291">CVE-2021-25291</a>: In <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code>, invalid tile boundaries could lead to
an out-of-bounds read in <code class="docutils literal notranslate"><span class="pre">TIFFReadRGBATile</span></code>.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25292">CVE-2021-25292</a>: The PDF parser has a catastrophic backtracking regex
that could be used as a DOS attack.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25293">CVE-2021-25293</a>: There is an out-of-bounds read in <code class="docutils literal notranslate"><span class="pre">SgiRleDecode.c</span></code>,
since Pillow 4.3.0.</p>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<p>A crash with the feature flags for libimagequant, libjpeg-turbo, WebP and XCB on
unreleased Python 3.10 has been fixed (<a class="reference external" href="https://github.com/python-pillow/Pillow/issues/5193">#5193</a>).</p>
</section>
</section>
<span id="document-releasenotes/8.1.0"></span><section id="id1">
<h3>8.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="deprecations">
<h4>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h4>
<section id="freetype-2-7">
<h5>FreeType 2.7<a class="headerlink" href="#freetype-2-7" title="Permalink to this headline">¶</a></h5>
<p>Support for FreeType 2.7 is deprecated and will be removed in Pillow 9.0.0 (2022-01-02),
when FreeType 2.8 will be the minimum supported.</p>
<p>We recommend upgrading to at least FreeType <a class="reference external" href="https://sourceforge.net/projects/freetype/files/freetype2/2.10.4/">2.10.4</a>, which fixed a severe
vulnerability introduced in FreeType 2.6 (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15999">CVE-2020-15999</a>).</p>
</section>
<section id="makefile">
<h5>Makefile<a class="headerlink" href="#makefile" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">install-venv</span></code> target has been deprecated.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="append-images-to-ico">
<h5>Append images to ICO<a class="headerlink" href="#append-images-to-ico" title="Permalink to this headline">¶</a></h5>
<p>When saving an ICO image, the file may contain versions of the image at different
sizes. By default, Pillow will scale down the main image to create these copies.</p>
<p>With this release, a list of images can be provided to the <code class="docutils literal notranslate"><span class="pre">append_images</span></code> parameter
when saving, to replace the scaled down versions. This is the same functionality that
already exists for the ICNS format.</p>
</section>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>This release includes security fixes.</p>
<ul class="simple">
<li><p>An out-of-bounds read when saving TIFFs with custom metadata through LibTIFF</p></li>
<li><p>An out-of-bounds read when saving a GIF of 1px width</p></li>
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-35653">CVE-2020-35653</a> Buffer read overrun in PCX decoding</p></li>
</ul>
<p>The PCX image decoder used the reported image stride to calculate the row buffer,
rather than calculating it from the image size. This issue dates back to the PIL fork.
Thanks to Google’s <a class="reference external" href="https://github.com/google/oss-fuzz">OSS-Fuzz</a> project for finding this.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-35654">CVE-2020-35654</a> Fix TIFF out-of-bounds write error</p></li>
</ul>
<p>Out-of-bounds write in <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code> when reading corrupt YCbCr files in some
LibTIFF versions (4.1.0/Ubuntu 20.04, but not 4.0.9/Ubuntu 18.04). In some cases
LibTIFF’s interpretation of the file is different when reading in RGBA mode, leading to
an out-of-bounds write in <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code>. This potentially affects Pillow versions
from 6.0.0 to 8.0.1, depending on the version of LibTIFF. This was reported through
<a class="reference external" href="https://tidelift.com/subscription/pkg/pypi-pillow?utm_source=pillow&amp;utm_medium=referral&amp;utm_campaign=docs">Tidelift</a>.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-35655">CVE-2020-35655</a> Fix for SGI Decode buffer overrun</p></li>
</ul>
<p>4 byte read overflow in <code class="docutils literal notranslate"><span class="pre">SgiRleDecode.c</span></code>, where the code was not correctly checking the
offsets and length tables. Independently reported through <a class="reference external" href="https://tidelift.com/subscription/pkg/pypi-pillow?utm_source=pillow&amp;utm_medium=referral&amp;utm_campaign=docs">Tidelift</a> and Google’s
<a class="reference external" href="https://github.com/google/oss-fuzz">OSS-Fuzz</a>. This vulnerability covers Pillow versions 4.3.0-&gt;8.0.1.</p>
<section id="dependencies">
<h5>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h5>
<p>OpenJPEG in the macOS and Linux wheels has been updated from 2.3.1 to 2.4.0, including
security fixes.</p>
<p>LibTIFF in the macOS and Linux wheels has been updated from 4.1.0 to 4.2.0, including
security fixes discovered by fuzzers.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="id3">
<h5>Makefile<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">co</span></code> target has been removed.</p>
</section>
<section id="pypy-wheels">
<h5>PyPy wheels<a class="headerlink" href="#pypy-wheels" title="Permalink to this headline">¶</a></h5>
<p>Wheels have been added for PyPy 3.7.</p>
</section>
<section id="pyside6">
<h5>PySide6<a class="headerlink" href="#pyside6" title="Permalink to this headline">¶</a></h5>
<p>Support has been added for PySide6. If it is installed, it will be used instead of
PyQt5 or PySide2, since it is based on a newer Qt.</p>
</section>
</section>
</section>
<span id="document-releasenotes/8.0.1"></span><section id="id1">
<h3>8.0.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>Update FreeType used in binary wheels to <a class="reference external" href="https://sourceforge.net/projects/freetype/files/freetype2/2.10.4/">2.10.4</a> to fix <a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15999">CVE-2020-15999</a>:</p>
<blockquote>
<div><ul>
<li><p>A heap buffer overflow has been found  in the handling of embedded PNG bitmaps,
introduced in FreeType version 2.6.</p>
<p>If you use option <code class="docutils literal notranslate"><span class="pre">FT_CONFIG_OPTION_USE_PNG</span></code> you should upgrade immediately.</p>
</li>
</ul>
</div></blockquote>
<p>We strongly recommend updating to Pillow 8.0.1 if you are using Pillow 8.0.0, which improved support for bitmap fonts.</p>
<p>In Pillow 7.2.0 and earlier bitmap fonts were disabled with <code class="docutils literal notranslate"><span class="pre">FT_LOAD_NO_BITMAP</span></code>, but it is not
clear if this prevents the exploit and we recommend updating to Pillow 8.0.1.</p>
<p>Pillow 8.0.0 and earlier are potentially vulnerable releases, including the last release
to support Python 2.7, namely Pillow 6.2.2.</p>
</section>
</section>
<span id="document-releasenotes/8.0.0"></span><section id="id1">
<h3>8.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="backwards-incompatible-changes">
<h4>Backwards Incompatible Changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<section id="python-3-5">
<h5>Python 3.5<a class="headerlink" href="#python-3-5" title="Permalink to this headline">¶</a></h5>
<p>Pillow has dropped support for Python 3.5, which reached end-of-life on 2020-09-13.</p>
</section>
<section id="pypy-7-1-x">
<h5>PyPy 7.1.x<a class="headerlink" href="#pypy-7-1-x" title="Permalink to this headline">¶</a></h5>
<p>Pillow has dropped support for PyPy3 7.1.1.
PyPy3 7.2.0, released on 2019-10-14, is now the minimum compatible version.</p>
</section>
<section id="im-offset">
<h5>im.offset<a class="headerlink" href="#im-offset" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">im.offset()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.ImageChops.offset" title="PIL.ImageChops.offset"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageChops.offset()</span></code></a> instead.</p>
</section>
<section id="image-fromstring-im-fromstring-and-im-tostring">
<h5>Image.fromstring, im.fromstring and im.tostring<a class="headerlink" href="#image-fromstring-im-fromstring-and-im-tostring" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Image.fromstring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">Image.frombytes()</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im.fromstring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.Image.frombytes" title="PIL.Image.Image.frombytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frombytes()</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im.tostring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.Image.tobytes" title="PIL.Image.Image.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tobytes()</span></code></a> instead.</p></li>
</ul>
</section>
<section id="imagecms-cmsprofile-attributes">
<h5>ImageCms.CmsProfile attributes<a class="headerlink" href="#imagecms-cmsprofile-attributes" title="Permalink to this headline">¶</a></h5>
<p>Some attributes in <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile" title="PIL.ImageCms.CmsProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageCms.CmsProfile</span></code></a> have been removed:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Removed</p></th>
<th class="head"><p>Use instead</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color_space</span></code></p></td>
<td><p>Padded <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.xcolor_space" title="PIL.ImageCms.CmsProfile.xcolor_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">xcolor_space</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcs</span></code></p></td>
<td><p>Padded <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.connection_space" title="PIL.ImageCms.CmsProfile.connection_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">connection_space</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_copyright</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.copyright" title="PIL.ImageCms.CmsProfile.copyright"><code class="xref py py-attr docutils literal notranslate"><span class="pre">copyright</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_desc</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.profile_description" title="PIL.ImageCms.CmsProfile.profile_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">profile_description</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_description</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.profile_description" title="PIL.ImageCms.CmsProfile.profile_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">profile_description</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_manufacturer</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.manufacturer" title="PIL.ImageCms.CmsProfile.manufacturer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">manufacturer</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_model</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.model" title="PIL.ImageCms.CmsProfile.model"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model</span></code></a></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="imagedraw-text-stroke-width">
<h5>ImageDraw.text: stroke_width<a class="headerlink" href="#imagedraw-text-stroke-width" title="Permalink to this headline">¶</a></h5>
<p>Fixed issue where passing <code class="docutils literal notranslate"><span class="pre">stroke_width</span></code> with a non-zero value
to <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.text()</span></code></a> would cause the text to be offset by that amount.</p>
</section>
<section id="imagedraw-text-anchor">
<h5>ImageDraw.text: anchor<a class="headerlink" href="#imagedraw-text-anchor" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter of <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.text()</span></code></a> has been implemented.</p>
<p>Use this parameter to change the position of text relative to the
specified <code class="docutils literal notranslate"><span class="pre">xy</span></code> point. See <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for details.</p>
</section>
<section id="add-mime-type-to-psdimageplugin">
<h5>Add MIME type to PsdImagePlugin<a class="headerlink" href="#add-mime-type-to-psdimageplugin" title="Permalink to this headline">¶</a></h5>
<p>“image/vnd.adobe.photoshop” is now registered as the
<a class="reference internal" href="index.html#PIL.PsdImagePlugin.PsdImageFile" title="PIL.PsdImagePlugin.PsdImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PsdImagePlugin.PsdImageFile</span></code></a> MIME type.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="image-open-add-formats-parameter">
<h5>Image.open: add formats parameter<a class="headerlink" href="#image-open-add-formats-parameter" title="Permalink to this headline">¶</a></h5>
<p>Added a new <code class="docutils literal notranslate"><span class="pre">formats</span></code> parameter to <a class="reference internal" href="index.html#PIL.Image.open" title="PIL.Image.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">Image.open()</span></code></a>:</p>
<ul class="simple">
<li><p>A list or tuple of formats to attempt to load the file in.
This can be used to restrict the set of formats checked.
Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to try all supported formats. You can print the set of
available formats by running <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">PIL</span></code> or using
the <a class="reference internal" href="index.html#PIL.features.pilinfo" title="PIL.features.pilinfo"><code class="xref py py-func docutils literal notranslate"><span class="pre">PIL.features.pilinfo()</span></code></a> function.</p></li>
</ul>
</section>
<section id="imageops-autocontrast-add-mask-parameter">
<h5>ImageOps.autocontrast: add mask parameter<a class="headerlink" href="#imageops-autocontrast-add-mask-parameter" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="index.html#PIL.ImageOps.autocontrast" title="PIL.ImageOps.autocontrast"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageOps.autocontrast()</span></code></a> can now take a <code class="docutils literal notranslate"><span class="pre">mask</span></code> parameter:</p>
<ul class="simple">
<li><p>Histogram used in contrast operation is computed using pixels within the mask.
If no mask is given the entire image is used for histogram computation.</p></li>
</ul>
</section>
<section id="imageops-autocontrast-cutoffs">
<h5>ImageOps.autocontrast cutoffs<a class="headerlink" href="#imageops-autocontrast-cutoffs" title="Permalink to this headline">¶</a></h5>
<p>Previously, the <code class="docutils literal notranslate"><span class="pre">cutoff</span></code> parameter of <a class="reference internal" href="index.html#PIL.ImageOps.autocontrast" title="PIL.ImageOps.autocontrast"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageOps.autocontrast()</span></code></a> could only
be a single number, used as the percent to cut off from the histogram on the low and
high ends.</p>
<p>Now, it can also be a tuple <code class="docutils literal notranslate"><span class="pre">(low,</span> <span class="pre">high)</span></code>.</p>
</section>
<section id="imagedraw-regular-polygon">
<h5>ImageDraw.regular_polygon<a class="headerlink" href="#imagedraw-regular-polygon" title="Permalink to this headline">¶</a></h5>
<p>A new method <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.regular_polygon" title="PIL.ImageDraw.ImageDraw.regular_polygon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.regular_polygon()</span></code></a>, draws a regular polygon of <code class="docutils literal notranslate"><span class="pre">n_sides</span></code>, inscribed in a <code class="docutils literal notranslate"><span class="pre">bounding_circle</span></code>.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">draw.regular_polygon(((100,</span> <span class="pre">100),</span> <span class="pre">50),</span> <span class="pre">5)</span></code>
draws a pentagon centered at the point <code class="docutils literal notranslate"><span class="pre">(100,</span> <span class="pre">100)</span></code> with a polygon radius of <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p>
</section>
<section id="imagedraw-text-embedded-color">
<h5>ImageDraw.text: embedded_color<a class="headerlink" href="#imagedraw-text-embedded-color" title="Permalink to this headline">¶</a></h5>
<p>The methods <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.text()</span></code></a> and <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.multiline_text()</span></code></a>
now support fonts with embedded color data.</p>
<p>To render text with embedded color data, use the parameter <code class="docutils literal notranslate"><span class="pre">embedded_color=True</span></code>.</p>
<p>Support for CBDT fonts requires FreeType 2.5 compiled with libpng.
Support for SBIX fonts requires FreeType 2.5.1 compiled with libpng.
Support for COLR fonts requires FreeType 2.10.
SVG fonts are not yet supported.</p>
</section>
<section id="imagedraw-textlength">
<h5>ImageDraw.textlength<a class="headerlink" href="#imagedraw-textlength" title="Permalink to this headline">¶</a></h5>
<p>Two new methods <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.textlength" title="PIL.ImageDraw.ImageDraw.textlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.textlength()</span></code></a> and <a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.getlength" title="PIL.ImageFont.FreeTypeFont.getlength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FreeTypeFont.getlength()</span></code></a>
were added, returning the exact advance length of text with 1/64 pixel precision.</p>
<p>These can be used for word-wrapping or rendering text in parts.</p>
</section>
<section id="imagedraw-textbbox">
<h5>ImageDraw.textbbox<a class="headerlink" href="#imagedraw-textbbox" title="Permalink to this headline">¶</a></h5>
<p>Three new methods <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.textbbox" title="PIL.ImageDraw.ImageDraw.textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.textbbox()</span></code></a>, <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.multiline_textbbox" title="PIL.ImageDraw.ImageDraw.multiline_textbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.multiline_textbbox()</span></code></a>,
and <a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.getbbox" title="PIL.ImageFont.FreeTypeFont.getbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FreeTypeFont.getbbox()</span></code></a> return the bounding box of rendered text.</p>
<p>These functions accept an <code class="docutils literal notranslate"><span class="pre">anchor</span></code> parameter, see <a class="reference internal" href="index.html#text-anchors"><span class="std std-ref">Text anchors</span></a> for details.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="improved-ellipse-drawing-algorithm">
<h5>Improved ellipse-drawing algorithm<a class="headerlink" href="#improved-ellipse-drawing-algorithm" title="Permalink to this headline">¶</a></h5>
<p>The ellipse-drawing algorithm has been changed from drawing a 360-sided polygon to one
which resembles Bresenham’s algorithm for circles. It should be faster and produce
smoother curves, especially for smaller ellipses.</p>
</section>
<section id="imagedraw-text-and-imagedraw-multiline-text">
<h5>ImageDraw.text and ImageDraw.multiline_text<a class="headerlink" href="#imagedraw-text-and-imagedraw-multiline-text" title="Permalink to this headline">¶</a></h5>
<p>Fixed multiple issues in methods <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.text" title="PIL.ImageDraw.ImageDraw.text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.text()</span></code></a> and <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.multiline_text()</span></code></a>
sometimes causing unexpected text alignment issues.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter of <a class="reference internal" href="index.html#PIL.ImageDraw.ImageDraw.multiline_text" title="PIL.ImageDraw.ImageDraw.multiline_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ImageDraw.multiline_text()</span></code></a> now gives better results in some cases.</p>
<p>TrueType fonts with embedded bitmaps are now supported.</p>
</section>
<section id="added-writing-of-subifds">
<h5>Added writing of subIFDs<a class="headerlink" href="#added-writing-of-subifds" title="Permalink to this headline">¶</a></h5>
<p>When saving EXIF data, Pillow is now able to write subIFDs, such as the GPS IFD. This
should happen automatically when saving an image using the EXIF data that it was opened
with, such as in <a class="reference internal" href="index.html#PIL.ImageOps.exif_transpose" title="PIL.ImageOps.exif_transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exif_transpose()</span></code></a>.</p>
<p>Previously, the code of the first tag of the subIFD was incorrectly written as the
offset.</p>
</section>
<section id="error-for-large-bmp-files">
<h5>Error for large BMP files<a class="headerlink" href="#error-for-large-bmp-files" title="Permalink to this headline">¶</a></h5>
<p>Previously, if a BMP file was too large, an <code class="docutils literal notranslate"><span class="pre">OSError</span></code> would be raised. Now,
<code class="docutils literal notranslate"><span class="pre">DecompressionBombError</span></code> is used instead, as Pillow already uses for other formats.</p>
</section>
<section id="dark-theme-for-docs">
<h5>Dark theme for docs<a class="headerlink" href="#dark-theme-for-docs" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference external" href="https://pillow.readthedocs.io">https://pillow.readthedocs.io</a> documentation will use a dark theme if the the user has requested the system use one. Uses the <code class="docutils literal notranslate"><span class="pre">prefers-color-scheme</span></code> CSS media query.</p>
</section>
</section>
</section>
<span id="document-releasenotes/7.2.0"></span><section id="id1">
<h3>7.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="replaced-tiffimageplugin-debug-with-logging">
<h5>Replaced TiffImagePlugin DEBUG with logging<a class="headerlink" href="#replaced-tiffimageplugin-debug-with-logging" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">TiffImagePlugin.DEBUG</span> <span class="pre">=</span> <span class="pre">True</span></code> has been a way to print various debugging
information when interacting with TIFF images. This has now been removed
in favour of Python’s <code class="docutils literal notranslate"><span class="pre">logging</span></code> module, already used in other places in the
Pillow source code.</p>
</section>
<section id="corrected-default-offset-when-writing-exif-data">
<h5>Corrected default offset when writing EXIF data<a class="headerlink" href="#corrected-default-offset-when-writing-exif-data" title="Permalink to this headline">¶</a></h5>
<p>Previously, the default <code class="docutils literal notranslate"><span class="pre">offset</span></code> argument for
<a class="reference internal" href="index.html#PIL.Image.Exif.tobytes" title="PIL.Image.Exif.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tobytes()</span></code></a> was 0, which did not include the magic
header. It is now 8.</p>
</section>
<section id="moved-to-imagefiledirectory-v2-in-image-exif">
<h5>Moved to ImageFileDirectory_v2 in Image.Exif<a class="headerlink" href="#moved-to-imagefiledirectory-v2-in-image-exif" title="Permalink to this headline">¶</a></h5>
<p>Moved from the legacy <a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v1" title="PIL.TiffImagePlugin.ImageFileDirectory_v1"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.ImageFileDirectory_v1</span></code></a> to
<a class="reference internal" href="index.html#PIL.TiffImagePlugin.ImageFileDirectory_v2" title="PIL.TiffImagePlugin.ImageFileDirectory_v2"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.ImageFileDirectory_v2</span></code></a> in
<a class="reference internal" href="index.html#PIL.Image.Exif" title="PIL.Image.Exif"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image.Exif</span></code></a>. This means that Exif RATIONALs and SIGNED_RATIONALs
are now read as <a class="reference internal" href="index.html#PIL.TiffImagePlugin.IFDRational" title="PIL.TiffImagePlugin.IFDRational"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.IFDRational</span></code></a>, instead of as a
tuple with a numerator and a denominator.</p>
</section>
<section id="tiff-byte-tags-format">
<h5>TIFF BYTE tags format<a class="headerlink" href="#tiff-byte-tags-format" title="Permalink to this headline">¶</a></h5>
<p>TIFF BYTE tags were previously read as a tuple containing a bytestring. They
are now read as just a single bytestring.</p>
</section>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<section id="image-show-command-parameter">
<h6>Image.show command parameter<a class="headerlink" href="#image-show-command-parameter" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">command</span></code> parameter was deprecated and will be removed in a future release.
Use a subclass of <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageShow.Viewer</span></code></a> instead.</p>
</section>
<section id="image-showxv">
<h6>Image._showxv<a class="headerlink" href="#image-showxv" title="Permalink to this headline">¶</a></h6>
<p><code class="docutils literal notranslate"><span class="pre">Image._showxv</span></code> has been deprecated. Use <a class="reference internal" href="index.html#PIL.Image.Image.show" title="PIL.Image.Image.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a>
instead. If custom behaviour is required, use <a class="reference internal" href="index.html#PIL.ImageShow.register" title="PIL.ImageShow.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a> to add
a custom <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Viewer</span></code></a> class.</p>
</section>
<section id="imagefile-raise-ioerror">
<h6>ImageFile.raise_ioerror<a class="headerlink" href="#imagefile-raise-ioerror" title="Permalink to this headline">¶</a></h6>
<p><code class="docutils literal notranslate"><span class="pre">IOError</span></code> was merged into <code class="docutils literal notranslate"><span class="pre">OSError</span></code> in Python 3.3. So, <code class="docutils literal notranslate"><span class="pre">ImageFile.raise_ioerror</span></code>
is now deprecated and will be removed in a future release. Use
<code class="docutils literal notranslate"><span class="pre">ImageFile.raise_oserror</span></code> instead.</p>
</section>
</section>
</section>
</section>
<span id="document-releasenotes/7.1.2"></span><section id="id1">
<h3>7.1.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="fix-another-regression-seeking-png-files">
<h4>Fix another regression seeking PNG files<a class="headerlink" href="#fix-another-regression-seeking-png-files" title="Permalink to this headline">¶</a></h4>
<p>This fixes a regression introduced in 7.1.0 when adding support for APNG files.</p>
<p>When calling <code class="docutils literal notranslate"><span class="pre">seek(n)</span></code> on a regular PNG where <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>, it failed to raise an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> as it should have done, resulting in:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">AttributeError: &#39;NoneType&#39; object has no attribute &#39;read&#39;</span>
</pre></div>
</div>
<p>Pillow 7.1.2 now raises the correct exception.</p>
</section>
</section>
<span id="document-releasenotes/7.1.1"></span><section id="id1">
<h3>7.1.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="fix-regression-seeking-png-files">
<h4>Fix regression seeking PNG files<a class="headerlink" href="#fix-regression-seeking-png-files" title="Permalink to this headline">¶</a></h4>
<p>This fixes a regression introduced in 7.1.0 when adding support for APNG files when calling
<code class="docutils literal notranslate"><span class="pre">seek</span></code> and <code class="docutils literal notranslate"><span class="pre">tell</span></code>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;Tests/images/hopper.png&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">im</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">2</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/PIL/PngImagePlugin.py&quot;</span>, line <span class="m">739</span>, in <span class="n">seek</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_seek_check</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
  File <span class="nb">&quot;/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/PIL/ImageFile.py&quot;</span>, line <span class="m">306</span>, in <span class="n">_seek_check</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="o">!=</span> <span class="n">frame</span>
  File <span class="nb">&quot;/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/PIL/PngImagePlugin.py&quot;</span>, line <span class="m">827</span>, in <span class="n">tell</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__frame</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;PngImageFile&#39; object has no attribute &#39;_PngImageFile__frame&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</section>
</section>
<span id="document-releasenotes/7.1.0"></span><section id="id1">
<h3>7.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="allow-saving-of-zero-quality-jpeg-images">
<h5>Allow saving of zero quality JPEG images<a class="headerlink" href="#allow-saving-of-zero-quality-jpeg-images" title="Permalink to this headline">¶</a></h5>
<p>If no quality was specified when saving a JPEG, Pillow internally used a value
of zero to indicate that the default quality should be used. However, this
removed the ability to actually save a JPEG with zero quality. This has now
been resolved.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.jpg&quot;</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="new-channel-operations">
<h5>New channel operations<a class="headerlink" href="#new-channel-operations" title="Permalink to this headline">¶</a></h5>
<p>Three new channel operations have been added: <a class="reference internal" href="index.html#PIL.ImageChops.soft_light" title="PIL.ImageChops.soft_light"><code class="xref py py-meth docutils literal notranslate"><span class="pre">soft_light()</span></code></a>,
<a class="reference internal" href="index.html#PIL.ImageChops.hard_light" title="PIL.ImageChops.hard_light"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hard_light()</span></code></a> and <a class="reference internal" href="index.html#PIL.ImageChops.overlay" title="PIL.ImageChops.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a>.</p>
</section>
<section id="pillow-version-constant">
<h5>PILLOW_VERSION constant<a class="headerlink" href="#pillow-version-constant" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">PILLOW_VERSION</span></code> has been re-added but is deprecated and will be removed in a future
release. Use <code class="docutils literal notranslate"><span class="pre">__version__</span></code> instead.</p>
<p>It was initially removed in Pillow 7.0.0, but brought back in 7.1.0 to give projects
more time to upgrade.</p>
</section>
<section id="reading-jpeg-comments">
<h5>Reading JPEG comments<a class="headerlink" href="#reading-jpeg-comments" title="Permalink to this headline">¶</a></h5>
<p>When opening a JPEG image, the comment may now be read into
<a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>.</p>
</section>
<section id="support-for-different-charset-encodings-in-pcffontfile">
<h5>Support for different charset encodings in PcfFontFile<a class="headerlink" href="#support-for-different-charset-encodings-in-pcffontfile" title="Permalink to this headline">¶</a></h5>
<p>Previously <code class="docutils literal notranslate"><span class="pre">PcfFontFile</span></code> output only bitmap PIL fonts with ISO 8859-1 encoding, even
though the PCF format supports Unicode, making it hard to work with Pillow with bitmap
fonts in languages which use different character sets.</p>
<p>Now it’s possible to set a different charset encoding in <code class="docutils literal notranslate"><span class="pre">PcfFontFile</span></code>’s class
constructor. By default, it generates a PIL font file with ISO 8859-1 as before. The
generated PIL font file still contains up to 256 characters, but the character set is
different depending on the selected encoding.</p>
<p>To use such a font with <code class="docutils literal notranslate"><span class="pre">ImageDraw.text</span></code>, call it with a bytes object with the same
encoding as the font file.</p>
</section>
<section id="x11-imagegrab-grab">
<h5>X11 ImageGrab.grab()<a class="headerlink" href="#x11-imagegrab-grab" title="Permalink to this headline">¶</a></h5>
<p>Support has been added for <code class="docutils literal notranslate"><span class="pre">ImageGrab.grab()</span></code> on Linux using the X server
with the XCB library.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">xdisplay</span></code> parameter has been added to select the X server,
with the default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> using the default X server.</p>
<p>Passing a different value on Windows or macOS will force taking a snapshot
using the selected X server; pass an empty string to use the default X server.
XCB support is not included in pre-compiled wheels for Windows and macOS.</p>
</section>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>This release includes security fixes.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10177">CVE-2020-10177</a> Fix multiple out-of-bounds reads in FLI decoding</p></li>
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10378">CVE-2020-10378</a> Fix bounds overflow in PCX decoding</p></li>
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10379">CVE-2020-10379</a> Fix two buffer overflows in TIFF decoding</p></li>
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-10994">CVE-2020-10994</a> Fix bounds overflow in JPEG 2000 decoding</p></li>
<li><p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-11538">CVE-2020-11538</a> Fix buffer overflow in SGI-RLE decoding</p></li>
</ul>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="if-present-only-use-alpha-channel-for-bounding-box">
<h5>If present, only use alpha channel for bounding box<a class="headerlink" href="#if-present-only-use-alpha-channel-for-bounding-box" title="Permalink to this headline">¶</a></h5>
<p>When the <a class="reference internal" href="index.html#PIL.Image.Image.getbbox" title="PIL.Image.Image.getbbox"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getbbox()</span></code></a> method calculates the bounding
box, for an RGB image it trims black pixels. Similarly, for an RGBA image it
would trim black transparent pixels. This is now changed so that if an image
has an alpha channel (RGBA, RGBa, PA, LA, La), any transparent pixels are
trimmed.</p>
</section>
<section id="improved-apng-support">
<h5>Improved APNG support<a class="headerlink" href="#improved-apng-support" title="Permalink to this headline">¶</a></h5>
<p>Added support for reading and writing Animated Portable Network Graphics (APNG) images.
The PNG plugin now supports using the <a class="reference internal" href="index.html#PIL.Image.Image.seek" title="PIL.Image.Image.seek"><code class="xref py py-meth docutils literal notranslate"><span class="pre">seek()</span></code></a> method and the
<a class="reference internal" href="index.html#PIL.ImageSequence.Iterator" title="PIL.ImageSequence.Iterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a> class to read APNG frame sequences.
The PNG plugin also now supports using the <code class="docutils literal notranslate"><span class="pre">append_images</span></code> argument to write APNG frame
sequences. See <a class="reference internal" href="index.html#apng-sequences"><span class="std std-ref">APNG sequences</span></a> for further details.</p>
</section>
</section>
</section>
<span id="document-releasenotes/7.0.0"></span><section id="id1">
<h3>7.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="backwards-incompatible-changes">
<h4>Backwards Incompatible Changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<section id="python-2-7">
<h5>Python 2.7<a class="headerlink" href="#python-2-7" title="Permalink to this headline">¶</a></h5>
<p>Pillow has dropped support for Python 2.7, which reached end-of-life on 2020-01-01.</p>
</section>
<section id="pillow-version-constant">
<h5>PILLOW_VERSION constant<a class="headerlink" href="#pillow-version-constant" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">PILLOW_VERSION</span></code> has been removed. Use <code class="docutils literal notranslate"><span class="pre">__version__</span></code> instead.</p>
</section>
<section id="pil-imageplugin-version-attributes">
<h5>PIL.*ImagePlugin.__version__ attributes<a class="headerlink" href="#pil-imageplugin-version-attributes" title="Permalink to this headline">¶</a></h5>
<p>The version constants of individual plugins have been removed. Use <code class="docutils literal notranslate"><span class="pre">PIL.__version__</span></code>
instead.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 34%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Removed</p></th>
<th class="head"><p>Removed</p></th>
<th class="head"><p>Removed</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BmpImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Jpeg2KImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PngImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CurImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">JpegImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PpmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DcxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">McIdasImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PsdImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EpsImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MicImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SgiImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FliImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MpegImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SunImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FpxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MpoImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TgaImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GdImageFile.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MspImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TiffImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GifImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PalmImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WmfImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IcoImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PcdImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XbmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ImImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PcxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XpmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImtImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PdfImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XVThumbImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IptcImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PixarImagePlugin.__version__</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="pyqt4-and-pyside">
<h5>PyQt4 and PySide<a class="headerlink" href="#pyqt4-and-pyside" title="Permalink to this headline">¶</a></h5>
<p>Qt 4 reached end-of-life on 2015-12-19. Its Python bindings are also EOL: PyQt4 since
2018-08-31 and PySide since 2015-10-14.</p>
<p>Support for PyQt4 and PySide has been removed from <code class="docutils literal notranslate"><span class="pre">ImageQt</span></code>. Please upgrade to PyQt5
or PySide2.</p>
</section>
<section id="setting-the-size-of-tiff-images">
<h5>Setting the size of TIFF images<a class="headerlink" href="#setting-the-size-of-tiff-images" title="Permalink to this headline">¶</a></h5>
<p>Setting the size of a TIFF image directly (eg. <code class="docutils literal notranslate"><span class="pre">im.size</span> <span class="pre">=</span> <span class="pre">(256,</span> <span class="pre">256)</span></code>) throws
an error. Use <code class="docutils literal notranslate"><span class="pre">Image.resize</span></code> instead.</p>
</section>
<section id="default-resampling-filter">
<h5>Default resampling filter<a class="headerlink" href="#default-resampling-filter" title="Permalink to this headline">¶</a></h5>
<p>The default resampling filter has been changed to the high-quality convolution
<code class="docutils literal notranslate"><span class="pre">Image.BICUBIC</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Image.NEAREST</span></code>, for the <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a>
method and the <a class="reference internal" href="index.html#PIL.ImageOps.pad" title="PIL.ImageOps.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pad()</span></code></a>, <a class="reference internal" href="index.html#PIL.ImageOps.scale" title="PIL.ImageOps.scale"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scale()</span></code></a>
and <a class="reference internal" href="index.html#PIL.ImageOps.fit" title="PIL.ImageOps.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></a> functions.
<code class="docutils literal notranslate"><span class="pre">Image.NEAREST</span></code> is still always used for images in “P” and “1” modes.
See <a class="reference internal" href="index.html#concept-filters"><span class="std std-ref">Filters</span></a> to learn the difference. In short,
<code class="docutils literal notranslate"><span class="pre">Image.NEAREST</span></code> is a very fast filter, but simple and low-quality.</p>
</section>
<section id="image-draft-return-value">
<h5>Image.draft() return value<a class="headerlink" href="#image-draft-return-value" title="Permalink to this headline">¶</a></h5>
<p>If the <a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> method has no effect, it returns <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.
If it does have an effect, then it previously returned the image itself.
However, unlike other <a class="reference external" href="https://en.wikipedia.org/wiki/Method_chaining">chain methods</a>, <a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> does not
return a modified version of the image, but modifies it in-place. So instead, if
<a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a> has an effect, Pillow will now return a tuple
of the image mode and a co-ordinate box. The box is the original coordinates in the
bounds of resulting image. This may be useful in a subsequent
<a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> call.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="custom-unidentified-image-error">
<h5>Custom unidentified image error<a class="headerlink" href="#custom-unidentified-image-error" title="Permalink to this headline">¶</a></h5>
<p>Pillow will now throw a custom <code class="docutils literal notranslate"><span class="pre">UnidentifiedImageError</span></code> when an image cannot be
identified. For backwards compatibility, this will inherit from <code class="docutils literal notranslate"><span class="pre">OSError</span></code>.</p>
</section>
<section id="new-argument-reducing-gap-for-image-resize-and-image-thumbnail-methods">
<h5>New argument <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> for Image.resize() and Image.thumbnail() methods<a class="headerlink" href="#new-argument-reducing-gap-for-image-resize-and-image-thumbnail-methods" title="Permalink to this headline">¶</a></h5>
<p>Speeds up resizing by resizing the image in two steps. The bigger <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>,
the closer the result to the fair resampling. The smaller <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code>,
the faster resizing. With <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> greater or equal to 3.0,
the result is indistinguishable from fair resampling.</p>
<p>The default value for <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>,
which means that the optimization is turned off by default.</p>
<p>The default value for <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> is 2.0,
which is very close to fair resampling while still being faster in many cases.
In addition, the same gap is applied when <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a>
calls <a class="reference internal" href="index.html#PIL.Image.Image.draft" title="PIL.Image.Image.draft"><code class="xref py py-meth docutils literal notranslate"><span class="pre">draft()</span></code></a>, which may greatly improve the quality
of JPEG thumbnails. As a result, <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a>
in the new version provides equally high speed and high quality from any
source (JPEG or arbitrary images).</p>
</section>
<section id="new-image-reduce-method">
<h5>New Image.reduce() method<a class="headerlink" href="#new-image-reduce-method" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="index.html#PIL.Image.Image.reduce" title="PIL.Image.Image.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce()</span></code></a> is a highly efficient operation
to reduce an image by integer times. Normally, it shouldn’t be used directly.
Used internally by <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a>
methods to speed up resize when a new argument <code class="docutils literal notranslate"><span class="pre">reducing_gap</span></code> is set.</p>
</section>
<section id="loading-wmf-images-at-a-given-dpi">
<h5>Loading WMF images at a given DPI<a class="headerlink" href="#loading-wmf-images-at-a-given-dpi" title="Permalink to this headline">¶</a></h5>
<p>On Windows, Pillow can read WMF files, with a default DPI of 72. An image can
now also be loaded at another resolution:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;drawing.wmf&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">dpi</span><span class="o">=</span><span class="mi">144</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="image-del">
<h5>Image.__del__<a class="headerlink" href="#image-del" title="Permalink to this headline">¶</a></h5>
<p>Implicitly closing the image’s underlying file in <code class="docutils literal notranslate"><span class="pre">Image.__del__</span></code> has been removed.
Use a context manager or call <a class="reference internal" href="index.html#PIL.Image.Image.close" title="PIL.Image.Image.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> instead to close
the file in a deterministic way.</p>
<p>Previous method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Use instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="better-thumbnail-geometry">
<h5>Better thumbnail geometry<a class="headerlink" href="#better-thumbnail-geometry" title="Permalink to this headline">¶</a></h5>
<p>When calculating the new dimensions in <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a>,
round to the nearest integer, instead of always rounding down.
This better preserves the original aspect ratio.</p>
<p>When the image width or height is not divisible by 8 the last row and column
in the image get the correct weight after JPEG DCT scaling.</p>
</section>
</section>
</section>
<span id="document-releasenotes/6.2.2"></span><section id="id1">
<h3>6.2.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>This release addresses several security problems.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-19911">CVE-2019-19911</a> is regarding FPX images. If an image reports that it has a large
number of bands, a large amount of resources will be used when trying to process the
image. This is fixed by limiting the number of bands to those usable by Pillow.</p>
<p>Buffer overruns were found when processing an SGI (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-5311">CVE-2020-5311</a>),
PCX (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-5312">CVE-2020-5312</a>) or FLI image (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-5313">CVE-2020-5313</a>). Checks have been added
to prevent this.</p>
<p><a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-5310">CVE-2020-5310</a>: Overflow checks have been added when calculating the size of a
memory block to be reallocated in the processing of a TIFF image.</p>
</section>
</section>
<span id="document-releasenotes/6.2.1"></span><section id="id1">
<h3>6.2.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<section id="python-2-7">
<h6>Python 2.7<a class="headerlink" href="#python-2-7" title="Permalink to this headline">¶</a></h6>
<p>Python 2.7 reaches end-of-life on 2020-01-01.</p>
<p>Pillow 7.0.0 will be released on 2020-01-01 and will drop support for Python
2.7, making Pillow 6.2.x the last release series to support Python 2.</p>
</section>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="support-added-for-python-3-8">
<h5>Support added for Python 3.8<a class="headerlink" href="#support-added-for-python-3-8" title="Permalink to this headline">¶</a></h5>
<p>Pillow 6.2.1 supports Python 3.8.</p>
</section>
</section>
</section>
<span id="document-releasenotes/6.2.0"></span><section id="id1">
<h3>6.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="text-stroking">
<h5>Text stroking<a class="headerlink" href="#text-stroking" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">stroke_width</span></code> and <code class="docutils literal notranslate"><span class="pre">stroke_fill</span></code> arguments have been added to text drawing
operations. They allow text to be outlined, setting the width of the stroke and
and the color respectively. If not provided, <code class="docutils literal notranslate"><span class="pre">stroke_fill</span></code> will default to
the <code class="docutils literal notranslate"><span class="pre">fill</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>

<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;Tests/fonts/FreeMono.ttf&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">font</span><span class="o">.</span><span class="n">getsize_multiline</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">font</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="s2">&quot;ABC</span><span class="se">\n</span><span class="s2">Aaaa&quot;</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">textsize</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">multiline_textsize</span><span class="p">(</span><span class="s2">&quot;ABC</span><span class="se">\n</span><span class="s2">Aaaa&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;#f00&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">stroke_fill</span><span class="o">=</span><span class="s2">&quot;#0f0&quot;</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">multiline_text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;A</span><span class="se">\n</span><span class="s2">B&quot;</span><span class="p">,</span> <span class="s2">&quot;#f00&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span>
                    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">stroke_fill</span><span class="o">=</span><span class="s2">&quot;#0f0&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>

<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">130</span><span class="p">))</span>
<span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;Tests/fonts/FreeMono.ttf&quot;</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;#f00&quot;</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">stroke_fill</span><span class="o">=</span><span class="s2">&quot;#0f0&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>creates the following image:</p>
<img alt="_images/imagedraw_stroke_different.png" src="_images/imagedraw_stroke_different.png" />
</section>
<section id="imagegrab-on-multi-monitor-windows">
<h5>ImageGrab on multi-monitor Windows<a class="headerlink" href="#imagegrab-on-multi-monitor-windows" title="Permalink to this headline">¶</a></h5>
<p>An <code class="docutils literal notranslate"><span class="pre">all_screens</span></code> argument has been added to <code class="docutils literal notranslate"><span class="pre">ImageGrab.grab</span></code>. If <code class="docutils literal notranslate"><span class="pre">True</span></code>,
all monitors will be included in the created image.</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="image-getexif">
<h5>Image.getexif<a class="headerlink" href="#image-getexif" title="Permalink to this headline">¶</a></h5>
<p>To allow for lazy loading of Exif data, <code class="docutils literal notranslate"><span class="pre">Image.getexif()</span></code> now returns a
shared instance of <code class="docutils literal notranslate"><span class="pre">Image.Exif</span></code>.</p>
</section>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<section id="image-frombuffer">
<h6>Image.frombuffer<a class="headerlink" href="#image-frombuffer" title="Permalink to this headline">¶</a></h6>
<p>There has been a longstanding warning that the defaults of <code class="docutils literal notranslate"><span class="pre">Image.frombuffer</span></code>
may change in the future for the “raw” decoder. The change will now take place
in Pillow 7.0.</p>
</section>
</section>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<p>This release catches several buffer overruns, as well as addressing
<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16865">CVE-2019-16865</a>. The CVE is regarding DOS problems, such as consuming large
amounts of memory, or taking a large amount of time to process an image.</p>
<p>In RawDecode.c, an error is now thrown if skip is calculated to be less than
zero. It is intended to skip padding between lines, not to go backwards.</p>
<p>In PsdImagePlugin, if the combined sizes of the individual parts is larger than
the declared size of the extra data field, then it looked for the next layer by
seeking backwards. This is now corrected by seeking to (the start of the layer
+ the size of the extra data field) instead of (the read parts of the layer +
the rest of the layer).</p>
<p>Decompression bomb checks have been added to GIF and ICO formats.</p>
<p>An error is now raised if a TIFF dimension is a string, rather than trying to
perform operations on it.</p>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="removed-bdist-wininst-exe-installers">
<h5>Removed bdist_wininst .exe installers<a class="headerlink" href="#removed-bdist-wininst-exe-installers" title="Permalink to this headline">¶</a></h5>
<p>.exe installers fell out of favour with <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0527"><strong>PEP 527</strong></a>, and will be deprecated in
Python 3.8. Pillow will no longer be distributing them. Wheels should be used
instead.</p>
</section>
<section id="flags-for-libwebp-in-wheels">
<h5>Flags for libwebp in wheels<a class="headerlink" href="#flags-for-libwebp-in-wheels" title="Permalink to this headline">¶</a></h5>
<p>When building libwebp for inclusion in wheels, Pillow now adds the <code class="docutils literal notranslate"><span class="pre">-O3</span></code> and
<code class="docutils literal notranslate"><span class="pre">-DNDEBUG</span></code> CFLAGS. These flags would be used by default if building libwebp
without debugging, and using them fixes a significant decrease in speed when
a wheel-installed copy of Pillow performs libwebp operations.</p>
</section>
</section>
</section>
<span id="document-releasenotes/6.1.0"></span><section id="id1">
<h3>6.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="deprecations">
<h4>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h4>
<section id="image-del">
<h5>Image.__del__<a class="headerlink" href="#image-del" title="Permalink to this headline">¶</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.0.</span></p>
</div>
<p>Implicitly closing the image’s underlying file in <code class="docutils literal notranslate"><span class="pre">Image.__del__</span></code> has been deprecated.
Use a context manager or call <code class="docutils literal notranslate"><span class="pre">Image.close()</span></code> instead to close the file in a
deterministic way.</p>
<p>Deprecated:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Use instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="image-entropy">
<h5>Image.entropy<a class="headerlink" href="#image-entropy" title="Permalink to this headline">¶</a></h5>
<p>Calculates and returns the entropy for the image. A bilevel image (mode “1”) is treated
as a greyscale (“L”) image by this method.  If a mask is provided, the method employs
the histogram for those parts of the image where the mask image is non-zero. The mask
image must have the same size as the image, and be either a bi-level image (mode “1”) or
a greyscale image (“L”).</p>
</section>
<section id="imagegrab-grab">
<h5>ImageGrab.grab<a class="headerlink" href="#imagegrab-grab" title="Permalink to this headline">¶</a></h5>
<p>An optional <code class="docutils literal notranslate"><span class="pre">include_layered_windows</span></code> parameter has been added to <code class="docutils literal notranslate"><span class="pre">ImageGrab.grab</span></code>,
defaulting to <code class="docutils literal notranslate"><span class="pre">False</span></code>. If true, layered windows will be included in the resulting
image on Windows.</p>
</section>
<section id="imagesequence-all-frames">
<h5>ImageSequence.all_frames<a class="headerlink" href="#imagesequence-all-frames" title="Permalink to this headline">¶</a></h5>
<p>A new method to facilitate applying a given function to all frames in an image, or to
all frames in a list of images. The frames are returned as a list of separate images.
For example, <code class="docutils literal notranslate"><span class="pre">ImageSequence.all_frames(im,</span> <span class="pre">lambda</span> <span class="pre">im_frame:</span> <span class="pre">im_frame.rotate(90))</span></code>
could be used to return all frames from an image, each rotated 90 degrees.</p>
</section>
<section id="variation-fonts">
<h5>Variation fonts<a class="headerlink" href="#variation-fonts" title="Permalink to this headline">¶</a></h5>
<p>Variation fonts are now supported, allowing for different styles from the same font
file. <code class="docutils literal notranslate"><span class="pre">ImageFont.FreeTypeFont</span></code> has four new methods,
<a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.get_variation_names" title="PIL.ImageFont.FreeTypeFont.get_variation_names"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageFont.FreeTypeFont.get_variation_names()</span></code></a> and
<a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.set_variation_by_name" title="PIL.ImageFont.FreeTypeFont.set_variation_by_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageFont.FreeTypeFont.set_variation_by_name()</span></code></a> for using named styles, and
<a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.get_variation_axes" title="PIL.ImageFont.FreeTypeFont.get_variation_axes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageFont.FreeTypeFont.get_variation_axes()</span></code></a> and
<a class="reference internal" href="index.html#PIL.ImageFont.FreeTypeFont.set_variation_by_axes" title="PIL.ImageFont.FreeTypeFont.set_variation_by_axes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageFont.FreeTypeFont.set_variation_by_axes()</span></code></a> for using font axes
instead. An <code class="docutils literal notranslate"><span class="pre">IOError</span></code> will be raised if the font is not a variation font. FreeType
2.9.1 or greater is required.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="imagetk-getimage">
<h5>ImageTk.getimage<a class="headerlink" href="#imagetk-getimage" title="Permalink to this headline">¶</a></h5>
<p>This function is now supported. It returns the contents of an <code class="docutils literal notranslate"><span class="pre">ImageTk.PhotoImage</span></code> as
an RGBA <code class="docutils literal notranslate"><span class="pre">Image.Image</span></code> instance.</p>
</section>
<section id="image-quality-for-jpeg-compressed-tiff">
<h5>Image quality for JPEG compressed TIFF<a class="headerlink" href="#image-quality-for-jpeg-compressed-tiff" title="Permalink to this headline">¶</a></h5>
<p>The TIFF encoder accepts a <code class="docutils literal notranslate"><span class="pre">quality</span></code> parameter for <code class="docutils literal notranslate"><span class="pre">jpeg</span></code> compressed TIFF files. A
value from 0 (worst) to 100 (best) controls the image quality, similar to the JPEG
encoder. The default is 75. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.tif&quot;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;jpeg&quot;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">85</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="improve-encoding-of-tiff-tags">
<h5>Improve encoding of TIFF tags<a class="headerlink" href="#improve-encoding-of-tiff-tags" title="Permalink to this headline">¶</a></h5>
<p>The TIFF encoder supports more types, especially arrays. This is required for the
GeoTIFF format which encodes geospatial information.</p>
<ul class="simple">
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">tagtype</span></code> from v2 directory to libtiff encoder, instead of autodetecting type.</p></li>
<li><p>Use explicit types eg. <code class="docutils literal notranslate"><span class="pre">uint32_t</span></code> for <code class="docutils literal notranslate"><span class="pre">TIFF_LONG</span></code> to fix issues on platforms with
64-bit longs.</p></li>
<li><p>Add support for multiple values (arrays). Requires type in v2 directory and values
must be passed as a tuple.</p></li>
<li><p>Add support for signed types eg. <code class="docutils literal notranslate"><span class="pre">TIFFTypes.TIFF_SIGNED_SHORT</span></code>.</p></li>
</ul>
</section>
<section id="respect-pkg-config-environment-variable-when-building">
<h5>Respect PKG_CONFIG environment variable when building<a class="headerlink" href="#respect-pkg-config-environment-variable-when-building" title="Permalink to this headline">¶</a></h5>
<p>This variable is commonly used by other build systems and using it can help with
cross-compiling. Falls back to <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> as before.</p>
</section>
<section id="top-to-bottom-complex-text-rendering">
<h5>Top-to-bottom complex text rendering<a class="headerlink" href="#top-to-bottom-complex-text-rendering" title="Permalink to this headline">¶</a></h5>
<p>Drawing text in the ‘ttb’ direction with <code class="docutils literal notranslate"><span class="pre">ImageFont</span></code> has been significantly improved
and requires Raqm 0.7 or greater.</p>
</section>
</section>
</section>
<span id="document-releasenotes/6.0.0"></span><section id="id1">
<h3>6.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="backwards-incompatible-changes">
<h4>Backwards Incompatible Changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<section id="python-3-4-dropped">
<h5>Python 3.4 dropped<a class="headerlink" href="#python-3-4-dropped" title="Permalink to this headline">¶</a></h5>
<p>Python 3.4 is EOL since 2019-03-16 and no longer supported. We will not be creating
binaries, testing, or retaining compatibility with this version. The final version of
Pillow for Python 3.4 is 5.4.1.</p>
</section>
<section id="removed-deprecated-pil-olefileio">
<h5>Removed deprecated PIL.OleFileIO<a class="headerlink" href="#removed-deprecated-pil-olefileio" title="Permalink to this headline">¶</a></h5>
<p>PIL.OleFileIO was removed as a vendored file and in Pillow 4.0.0 (2017-01) in favour of
the upstream olefile Python package, and replaced with an <code class="docutils literal notranslate"><span class="pre">ImportError</span></code>. The
deprecated file has now been removed from Pillow. If needed, install from PyPI (eg.
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">olefile</span></code>).</p>
</section>
<section id="removed-deprecated-imageops-functions">
<h5>Removed deprecated ImageOps functions<a class="headerlink" href="#removed-deprecated-imageops-functions" title="Permalink to this headline">¶</a></h5>
<p>Several undocumented functions in <code class="docutils literal notranslate"><span class="pre">ImageOps</span></code> were deprecated in Pillow 4.3.0 (2017-10)
and have now been removed: <code class="docutils literal notranslate"><span class="pre">gaussian_blur</span></code>, <code class="docutils literal notranslate"><span class="pre">gblur</span></code>, <code class="docutils literal notranslate"><span class="pre">unsharp_mask</span></code>, <code class="docutils literal notranslate"><span class="pre">usm</span></code> and
<code class="docutils literal notranslate"><span class="pre">box_blur</span></code>. Use the equivalent operations in <code class="docutils literal notranslate"><span class="pre">ImageFilter</span></code> instead.</p>
</section>
<section id="removed-deprecated-version">
<h5>Removed deprecated VERSION<a class="headerlink" href="#removed-deprecated-version" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">VERSION</span></code> (the old PIL version, always 1.1.7) has been removed. Use <code class="docutils literal notranslate"><span class="pre">__version__</span></code>
instead.</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<section id="python-2-7">
<h6>Python 2.7<a class="headerlink" href="#python-2-7" title="Permalink to this headline">¶</a></h6>
<p>Python 2.7 reaches end-of-life on 2020-01-01.</p>
<p>Pillow 7.0.0 will be released on 2020-01-01 and will drop support for Python 2.7, making
Pillow 6.x the last series to support Python 2.</p>
</section>
<section id="pyqt4-and-pyside">
<h6>PyQt4 and PySide<a class="headerlink" href="#pyqt4-and-pyside" title="Permalink to this headline">¶</a></h6>
<p>Qt 4 reached end-of-life on 2015-12-19. Its Python bindings are also EOL: PyQt4 since
2018-08-31 and PySide since 2015-10-14.</p>
<p>Support for PyQt4 and PySide has been deprecated from <code class="docutils literal notranslate"><span class="pre">ImageQt</span></code> and will be removed in
a future version. Please upgrade to PyQt5 or PySide2.</p>
</section>
<section id="pil-imageplugin-version-attributes">
<h6>PIL.*ImagePlugin.__version__ attributes<a class="headerlink" href="#pil-imageplugin-version-attributes" title="Permalink to this headline">¶</a></h6>
<p>These version constants have been deprecated and will be removed in a future
version.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BmpImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CurImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DcxImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EpsImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FliImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FpxImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GdImageFile.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GifImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IcoImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImtImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IptcImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Jpeg2KImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JpegImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">McIdasImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MicImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MpegImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MpoImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MspImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PalmImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PcdImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PcxImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PdfImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PixarImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PngImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PpmImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PsdImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SgiImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SunImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TgaImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TiffImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WmfImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">XbmImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">XpmImagePlugin.__version__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">XVThumbImagePlugin.__version__</span></code></p></li>
</ul>
<p>Use <code class="docutils literal notranslate"><span class="pre">PIL.__version__</span></code> instead.</p>
</section>
<section id="imagecms-cmsprofile-attributes">
<h6>ImageCms.CmsProfile attributes<a class="headerlink" href="#imagecms-cmsprofile-attributes" title="Permalink to this headline">¶</a></h6>
<p>Some attributes in <code class="docutils literal notranslate"><span class="pre">ImageCms.CmsProfile</span></code> have been deprecated since Pillow 3.2.0. From
6.0.0, they issue a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Deprecated</p></th>
<th class="head"><p>Use instead</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color_space</span></code></p></td>
<td><p>Padded <code class="docutils literal notranslate"><span class="pre">xcolor_space</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcs</span></code></p></td>
<td><p>Padded <code class="docutils literal notranslate"><span class="pre">connection_space</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_copyright</span></code></p></td>
<td><p>Unicode <code class="docutils literal notranslate"><span class="pre">copyright</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_desc</span></code></p></td>
<td><p>Unicode <code class="docutils literal notranslate"><span class="pre">profile_description</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_description</span></code></p></td>
<td><p>Unicode <code class="docutils literal notranslate"><span class="pre">profile_description</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_manufacturer</span></code></p></td>
<td><p>Unicode <code class="docutils literal notranslate"><span class="pre">manufacturer</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_model</span></code></p></td>
<td><p>Unicode <code class="docutils literal notranslate"><span class="pre">model</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="mime-type-improvements">
<h5>MIME type improvements<a class="headerlink" href="#mime-type-improvements" title="Permalink to this headline">¶</a></h5>
<p>Previously, all JPEG2000 images had the MIME type “image/jpx”. This has now been
corrected. After the file format drivers have been loaded, <code class="docutils literal notranslate"><span class="pre">Image.MIME[&quot;JPEG2000&quot;]</span></code>
will return “image/jp2”. <code class="docutils literal notranslate"><span class="pre">ImageFile.get_format_mimetype</span></code> will return “image/jpx” if
a JPX profile is present, or “image/jp2” otherwise.</p>
<p>Previously, all SGI images had the MIME type “image/rgb”. This has now been
corrected. After the file format drivers have been loaded, <code class="docutils literal notranslate"><span class="pre">Image.MIME[&quot;SGI&quot;]</span></code>
will return “image/sgi”. <code class="docutils literal notranslate"><span class="pre">ImageFile.get_format_mimetype</span></code> will return “image/rgb” if
RGB image data is present, or “image/sgi” otherwise.</p>
<p>MIME types have been added to the PPM format. After the file format drivers have been
loaded, <code class="docutils literal notranslate"><span class="pre">Image.MIME[&quot;PPM&quot;]</span></code> will now return the generic “image/x-portable-anymap”.
<code class="docutils literal notranslate"><span class="pre">ImageFile.get_format_mimetype</span></code> will return a MIME type specific to the color type.</p>
<p>The TGA, PCX and ICO formats also now have MIME types: “image/x-tga”, “image/x-pcx” and
“image/x-icon” respectively.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="dib-file-format">
<h5>DIB file format<a class="headerlink" href="#dib-file-format" title="Permalink to this headline">¶</a></h5>
<p>Pillow now supports reading and writing the Device Independent Bitmap file format.</p>
</section>
<section id="image-quantize">
<h5>Image.quantize<a class="headerlink" href="#image-quantize" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">dither</span></code> option is now a customisable parameter (was previously hardcoded to <code class="docutils literal notranslate"><span class="pre">1</span></code>).
This parameter takes the same values used in <a class="reference internal" href="index.html#PIL.Image.Image.convert" title="PIL.Image.Image.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert()</span></code></a>.</p>
</section>
<section id="new-language-parameter">
<h5>New language parameter<a class="headerlink" href="#new-language-parameter" title="Permalink to this headline">¶</a></h5>
<p>These text-rendering functions now accept a <code class="docutils literal notranslate"><span class="pre">language</span></code> parameter to request
language-specific glyphs and ligatures from the font:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImageDraw.ImageDraw.multiline_text()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageDraw.ImageDraw.multiline_textsize()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageDraw.ImageDraw.text()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageDraw.ImageDraw.textsize()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageFont.ImageFont.getmask()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageFont.ImageFont.getsize_multiline()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageFont.ImageFont.getsize()</span></code></p></li>
</ul>
</section>
<section id="added-exif-class">
<h5>Added EXIF class<a class="headerlink" href="#added-exif-class" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="index.html#PIL.Image.Image.getexif" title="PIL.Image.Image.getexif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getexif()</span></code></a> has been added, which returns an
<a class="reference internal" href="index.html#PIL.Image.Exif" title="PIL.Image.Exif"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exif</span></code></a> instance. Values can be retrieved and set like a
dictionary. When saving JPEG, PNG or WEBP, the instance can be passed as an
<code class="docutils literal notranslate"><span class="pre">exif</span></code> argument to include any changes in the output image.</p>
</section>
<section id="added-imageops-exif-transpose">
<h5>Added ImageOps.exif_transpose<a class="headerlink" href="#added-imageops-exif-transpose" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="index.html#PIL.ImageOps.exif_transpose" title="PIL.ImageOps.exif_transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exif_transpose()</span></code></a> returns a copy of an image, transposed
according to its EXIF Orientation tag.</p>
</section>
<section id="png-exif-data">
<h5>PNG EXIF data<a class="headerlink" href="#png-exif-data" title="Permalink to this headline">¶</a></h5>
<p>EXIF data can now be read from and saved to PNG images. However, unlike other image
formats, EXIF data is not guaranteed to be present in <a class="reference internal" href="index.html#PIL.Image.Image.info" title="PIL.Image.Image.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">info</span></code></a>
until <a class="reference internal" href="index.html#PIL.Image.Image.load" title="PIL.Image.Image.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> has been called.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="reading-new-dds-image-format">
<h5>Reading new DDS image format<a class="headerlink" href="#reading-new-dds-image-format" title="Permalink to this headline">¶</a></h5>
<p>Pillow can now read uncompressed RGB data from DDS images.</p>
</section>
<section id="reading-tiff-with-old-style-jpeg-compression">
<h5>Reading TIFF with old-style JPEG compression<a class="headerlink" href="#reading-tiff-with-old-style-jpeg-compression" title="Permalink to this headline">¶</a></h5>
<p>Added support reading TIFF files with old-style JPEG compression through LibTIFF. All
YCbCr TIFF images are now always read as RGB.</p>
</section>
<section id="tiff-compression-codecs">
<h5>TIFF compression codecs<a class="headerlink" href="#tiff-compression-codecs" title="Permalink to this headline">¶</a></h5>
<p>Support has been added for the LZMA, Zstd and WebP TIFF compression codecs.</p>
</section>
<section id="improved-support-for-transposing-i-16-images">
<h5>Improved support for transposing I;16 images<a class="headerlink" href="#improved-support-for-transposing-i-16-images" title="Permalink to this headline">¶</a></h5>
<p>I;16, I;16L and I;16B are now supported image modes for all
<a class="reference internal" href="index.html#PIL.Image.Image.transpose" title="PIL.Image.Image.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transpose()</span></code></a> operations.</p>
</section>
</section>
</section>
<span id="document-releasenotes/5.4.1"></span><section id="id1">
<h3>5.4.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>This release fixes regressions in 5.4.0.</p>
<section id="installation-on-termux">
<h4>Installation on Termux<a class="headerlink" href="#installation-on-termux" title="Permalink to this headline">¶</a></h4>
<p>A change to the way Pillow detects libraries during installed prevented
installation on Termux, which does not have <code class="docutils literal notranslate"><span class="pre">/sbin/ldconfig</span></code>. This is now
fixed.</p>
</section>
<section id="png-handle-idat-chunks-after-image-end">
<h4>PNG: Handle IDAT chunks after image end<a class="headerlink" href="#png-handle-idat-chunks-after-image-end" title="Permalink to this headline">¶</a></h4>
<p>Some PNG images have multiple IDAT chunks. In some cases, Pillow will stop
reading image data before the IDAT chunks finish. A regression caused an
<code class="docutils literal notranslate"><span class="pre">EOFError</span></code> exception when previously there was none. This is now fixed, and
file reading continues in case there are subsequent text chunks.</p>
</section>
<section id="png-mime-type">
<h4>PNG: MIME type<a class="headerlink" href="#png-mime-type" title="Permalink to this headline">¶</a></h4>
<p>The addition of limited APNG support to the PNG plugin also overwrote the MIME
type for PNG files, causing “image/apng” to be returned as the MIME type of
both APNG and PNG files. This has been fixed so the MIME type of PNG files is
“image/png”.</p>
</section>
<section id="file-closing">
<h4>File closing<a class="headerlink" href="#file-closing" title="Permalink to this headline">¶</a></h4>
<p>A regression caused an unsupported image file to report a
<code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">seek</span> <span class="pre">of</span> <span class="pre">closed</span> <span class="pre">file</span></code> exception instead of an <code class="docutils literal notranslate"><span class="pre">OSError</span></code>. This
has been fixed by ensuring that image plugins only close their internal <code class="docutils literal notranslate"><span class="pre">__fp</span></code>
if they are not the same as <code class="docutils literal notranslate"><span class="pre">ImageFile</span></code>’s <code class="docutils literal notranslate"><span class="pre">fp</span></code>, allowing each to manage their own
file pointers.</p>
</section>
</section>
<span id="document-releasenotes/5.4.0"></span><section id="id1">
<h3>5.4.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="apng-extension-to-png-plugin">
<h5>APNG extension to PNG plugin<a class="headerlink" href="#apng-extension-to-png-plugin" title="Permalink to this headline">¶</a></h5>
<p>Animated Portable Network Graphics (APNG) images are not fully supported but
can be opened via the PNG plugin to get some basic info:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image.apng&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>  <span class="c1"># &quot;RGBA&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>  <span class="c1"># (245, 245)</span>
<span class="n">im</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># Shows a single frame</span>
</pre></div>
</div>
</section>
<section id="check-for-libjpeg-turbo">
<h5>Check for libjpeg-turbo<a class="headerlink" href="#check-for-libjpeg-turbo" title="Permalink to this headline">¶</a></h5>
<p>You can check if Pillow has been built against the libjpeg-turbo version of the
libjpeg library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">features</span>
<span class="n">features</span><span class="o">.</span><span class="n">check_feature</span><span class="p">(</span><span class="s2">&quot;libjpeg_turbo&quot;</span><span class="p">)</span>  <span class="c1"># True or False</span>
</pre></div>
</div>
</section>
<section id="negative-indexes-in-pixel-access">
<h5>Negative indexes in pixel access<a class="headerlink" href="#negative-indexes-in-pixel-access" title="Permalink to this headline">¶</a></h5>
<p>When accessing individual image pixels, negative indexes are now also accepted.
For example, to get or set the farthest pixel in the lower right of an image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">px</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">px</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="new-custom-tiff-tags">
<h5>New custom TIFF tags<a class="headerlink" href="#new-custom-tiff-tags" title="Permalink to this headline">¶</a></h5>
<p>TIFF images can now be saved with custom integer, float and string TIFF tags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">custom</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">37000</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="mi">37001</span><span class="p">:</span> <span class="mf">4.2</span><span class="p">,</span>
    <span class="mi">37002</span><span class="p">:</span> <span class="s2">&quot;custom tag value&quot;</span><span class="p">,</span>
    <span class="mi">37003</span><span class="p">:</span> <span class="sa">u</span><span class="s2">&quot;custom tag value&quot;</span><span class="p">,</span>
    <span class="mi">37004</span><span class="p">:</span> <span class="sa">b</span><span class="s2">&quot;custom tag value&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;output.tif&quot;</span><span class="p">,</span> <span class="n">tiffinfo</span><span class="o">=</span><span class="n">custom</span><span class="p">)</span>

<span class="n">im2</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;output.tif&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">im2</span><span class="o">.</span><span class="n">tag_v2</span><span class="p">[</span><span class="mi">37000</span><span class="p">])</span>  <span class="c1"># 4</span>
<span class="nb">print</span><span class="p">(</span><span class="n">im2</span><span class="o">.</span><span class="n">tag_v2</span><span class="p">[</span><span class="mi">37002</span><span class="p">])</span>  <span class="c1"># &quot;custom tag value&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">im2</span><span class="o">.</span><span class="n">tag_v2</span><span class="p">[</span><span class="mi">37004</span><span class="p">])</span>  <span class="c1"># b&quot;custom tag value&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="imageops-fit">
<h5>ImageOps.fit<a class="headerlink" href="#imageops-fit" title="Permalink to this headline">¶</a></h5>
<p>Now uses one resize operation with <code class="docutils literal notranslate"><span class="pre">box</span></code> parameter internally
instead of a crop and scale operations sequence.
This improves the performance and accuracy of cropping since
the <code class="docutils literal notranslate"><span class="pre">box</span></code> parameter accepts float values.</p>
</section>
</section>
</section>
<span id="document-releasenotes/5.3.0"></span><section id="id1">
<h3>5.3.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="image-size">
<h5>Image size<a class="headerlink" href="#image-size" title="Permalink to this headline">¶</a></h5>
<p>If you attempt to set the size of an image directly, e.g.
<code class="docutils literal notranslate"><span class="pre">im.size</span> <span class="pre">=</span> <span class="pre">(100,</span> <span class="pre">100)</span></code>, you will now receive an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>. This is
not about removing existing functionality, but instead about raising an
explicit error to prevent later consequences. The <code class="docutils literal notranslate"><span class="pre">resize</span></code> method is the
correct way to change an image’s size.</p>
<p>The exceptions to this are:</p>
<ul class="simple">
<li><p>The ICO and ICNS image formats, which use <code class="docutils literal notranslate"><span class="pre">im.size</span> <span class="pre">=</span> <span class="pre">(100,</span> <span class="pre">100)</span></code> to select a subimage.</p></li>
<li><p>The TIFF image format, which now has a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> for this action, as direct image size setting was previously necessary to work around an issue with tile extents.</p></li>
</ul>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="added-line-width-parameter-to-rectangle-and-ellipse-based-shapes">
<h5>Added line width parameter to rectangle and ellipse-based shapes<a class="headerlink" href="#added-line-width-parameter-to-rectangle-and-ellipse-based-shapes" title="Permalink to this headline">¶</a></h5>
<p>An optional line <code class="docutils literal notranslate"><span class="pre">width</span></code> parameter has been added to <code class="docutils literal notranslate"><span class="pre">ImageDraw.Draw.arc</span></code>,
<code class="docutils literal notranslate"><span class="pre">chord</span></code>, <code class="docutils literal notranslate"><span class="pre">ellipse</span></code>, <code class="docutils literal notranslate"><span class="pre">pieslice</span></code> and <code class="docutils literal notranslate"><span class="pre">rectangle</span></code>.</p>
</section>
<section id="curved-joints-for-line-sequences">
<h5>Curved joints for line sequences<a class="headerlink" href="#curved-joints-for-line-sequences" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">ImageDraw.Draw.line</span></code> draws a line, or lines, between points. Previously,
when multiple points are given, for a larger <code class="docutils literal notranslate"><span class="pre">width</span></code>, the joints between
these lines looked unsightly. There is now an additional optional argument,
<code class="docutils literal notranslate"><span class="pre">joint</span></code>, defaulting to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>. When it is set to <code class="docutils literal notranslate"><span class="pre">curved</span></code>, the joints
between the lines will become rounded.</p>
</section>
<section id="imageops-colorize">
<h5>ImageOps.colorize<a class="headerlink" href="#imageops-colorize" title="Permalink to this headline">¶</a></h5>
<p>Previously <code class="docutils literal notranslate"><span class="pre">ImageOps.colorize</span></code> only supported two-color mapping with
<code class="docutils literal notranslate"><span class="pre">black</span></code> and <code class="docutils literal notranslate"><span class="pre">white</span></code> arguments being mapped to 0 and 255 respectively.
Now it supports three-color mapping with the optional <code class="docutils literal notranslate"><span class="pre">mid</span></code> parameter, and
the positions for all three color arguments can each be optionally specified
(<code class="docutils literal notranslate"><span class="pre">blackpoint</span></code>, <code class="docutils literal notranslate"><span class="pre">whitepoint</span></code> and <code class="docutils literal notranslate"><span class="pre">midpoint</span></code>).
For example, with all optional arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ImageOps</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">black</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">79</span><span class="p">),</span> <span class="n">white</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">mid</span><span class="o">=</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">175</span><span class="p">),</span>
                      <span class="n">blackpoint</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">whitepoint</span><span class="o">=</span><span class="mi">240</span><span class="p">,</span> <span class="n">midpoint</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="imageops-pad">
<h5>ImageOps.pad<a class="headerlink" href="#imageops-pad" title="Permalink to this headline">¶</a></h5>
<p>While <code class="docutils literal notranslate"><span class="pre">ImageOps.fit</span></code> allows users to crop images to a requested aspect ratio
and size, new method <code class="docutils literal notranslate"><span class="pre">ImageOps.pad</span></code> pads images to fill a requested aspect
ratio and size, filling new space with a provided <code class="docutils literal notranslate"><span class="pre">color</span></code> and positioning the
image within the new area through a <code class="docutils literal notranslate"><span class="pre">centering</span></code> argument.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<p>Added support for reading tiled TIFF images through LibTIFF. Compressed TIFF
images are now read through LibTIFF.</p>
<p>RGB WebP images are now read as RGB mode, rather than RGBX.</p>
</section>
</section>
<span id="document-releasenotes/5.2.0"></span><section id="id1">
<h3>5.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<p>These version constants have been deprecated. <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> will be removed in
Pillow 6.0.0, and <code class="docutils literal notranslate"><span class="pre">PILLOW_VERSION</span></code> will be removed after that.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PIL.VERSION</span></code> (old PIL version 1.1.7)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PIL.PILLOW_VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PIL.Image.VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PIL.Image.PILLOW_VERSION</span></code></p></li>
</ul>
<p>Use <code class="docutils literal notranslate"><span class="pre">PIL.__version__</span></code> instead.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="d-color-lookup-tables">
<h5>3D color lookup tables<a class="headerlink" href="#d-color-lookup-tables" title="Permalink to this headline">¶</a></h5>
<p>Support for 3D color lookup table transformations has been added.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/3D_lookup_table">https://en.wikipedia.org/wiki/3D_lookup_table</a></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Color3DLUT.generate</span></code> transforms 3-channel pixels using the values of the
channels as coordinates in the 3D lookup table and interpolating the nearest
elements.</p>
<p>It allows you to apply almost any color transformation in constant time by
using pre-calculated decimated tables.</p>
<p><code class="docutils literal notranslate"><span class="pre">Color3DLUT.transform()</span></code> allows altering table values with a callback.</p>
<p>If NumPy is installed, the performance of argument conversion is dramatically
improved when a source table supports buffer interface (NumPy &amp;&amp; arrays in
Python &gt;= 3).</p>
</section>
<section id="imagecolor-getrgb">
<h5>ImageColor.getrgb<a class="headerlink" href="#imagecolor-getrgb" title="Permalink to this headline">¶</a></h5>
<p>Previously <code class="docutils literal notranslate"><span class="pre">Image.rotate</span></code> only supported HSL color strings. Now HSB and HSV
strings are also supported, as well as float values. For example,
<code class="docutils literal notranslate"><span class="pre">ImageColor.getrgb(&quot;hsv(180,100%,99.5%)&quot;)</span></code>.</p>
</section>
<section id="imagefile-get-format-mimetype">
<h5>ImageFile.get_format_mimetype<a class="headerlink" href="#imagefile-get-format-mimetype" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">ImageFile.get_format_mimetype</span></code> has been added to return the MIME type of an
image file, where available. For example,
<code class="docutils literal notranslate"><span class="pre">Image.open(&quot;hopper.jpg&quot;).get_format_mimetype()</span></code> returns <code class="docutils literal notranslate"><span class="pre">&quot;image/jpeg&quot;</span></code>.</p>
</section>
<section id="imagefont-getsize-multiline">
<h5>ImageFont.getsize_multiline<a class="headerlink" href="#imagefont-getsize-multiline" title="Permalink to this headline">¶</a></h5>
<p>A new method to return the size of multiline text, for example
<code class="docutils literal notranslate"><span class="pre">font.getsize_multiline(&quot;ABC\nAaaa&quot;)</span></code></p>
</section>
<section id="image-rotate">
<h5>Image.rotate<a class="headerlink" href="#image-rotate" title="Permalink to this headline">¶</a></h5>
<p>A new named parameter, <code class="docutils literal notranslate"><span class="pre">fillcolor</span></code>, has been added to <code class="docutils literal notranslate"><span class="pre">Image.rotate</span></code>. This
color specifies the background color to use in the area outside the rotated
image. This parameter takes the same color specifications as used in
<code class="docutils literal notranslate"><span class="pre">Image.new</span></code>.</p>
</section>
<section id="tga-file-format">
<h5>TGA file format<a class="headerlink" href="#tga-file-format" title="Permalink to this headline">¶</a></h5>
<p>Pillow can now read and write LA data (in addition to L, P, RGB and RGBA), and
write RLE data (in addition to uncompressed).</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="support-added-for-python-3-7">
<h5>Support added for Python 3.7<a class="headerlink" href="#support-added-for-python-3-7" title="Permalink to this headline">¶</a></h5>
<p>Pillow 5.2 supports Python 3.7.</p>
</section>
<section id="build-macos-wheels-with-xcode-6-4-supporting-older-macos-versions">
<h5>Build macOS wheels with Xcode 6.4, supporting older macOS versions<a class="headerlink" href="#build-macos-wheels-with-xcode-6-4-supporting-older-macos-versions" title="Permalink to this headline">¶</a></h5>
<p>The macOS wheels for Pillow 5.1.0 were built with Xcode 9.2, meaning 10.12
Sierra was the lowest supported version.</p>
<p>Prior to Pillow 5.1.0, Xcode 8 was used, supporting El Capitan 10.11.</p>
<p>Instead, Pillow 5.2.0 is built with the oldest available Xcode 6.4 to support
at least 10.10 Yosemite.</p>
</section>
<section id="fix-i2f-compilation-with-some-gcc-versions">
<h5>Fix _i2f compilation with some GCC versions<a class="headerlink" href="#fix-i2f-compilation-with-some-gcc-versions" title="Permalink to this headline">¶</a></h5>
<p>For example, this allows compilation with GCC 4.8 on NetBSD.</p>
</section>
<section id="resolve-confusion-getting-pil-pillow-version-string">
<h5>Resolve confusion getting PIL / Pillow version string<a class="headerlink" href="#resolve-confusion-getting-pil-pillow-version-string" title="Permalink to this headline">¶</a></h5>
<p>Re: “version constants deprecated” listed above, as user gnbl notes in #3082:</p>
<ul class="simple">
<li><p>it’s confusing that PIL.VERSION returns the version string of the former PIL instead of Pillow’s</p></li>
<li><p>there does not seem to be documentation on this version number (why this, will it ever change, ..) e.g. at <a class="reference external" href="https://pillow.readthedocs.io/en/5.1.x/about.html#why-a-fork">https://pillow.readthedocs.io/en/5.1.x/about.html#why-a-fork</a></p></li>
<li><p>it’s confusing that PIL.version is a module and does not return the version information directly or hints on how to get it</p></li>
<li><p>the package information header is essentially useless (placeholder, does not even mention Pillow, nor the version)</p></li>
<li><p>PIL._version module documentation comment could explain how to access the version information</p></li>
</ul>
<p>We have attempted to resolve these issues in #3083, #3090 and #3218.</p>
</section>
</section>
</section>
<span id="document-releasenotes/5.1.0"></span><section id="id1">
<h3>5.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="new-file-format">
<h4>New File Format<a class="headerlink" href="#new-file-format" title="Permalink to this headline">¶</a></h4>
<section id="blp-file-format">
<h5>BLP File Format<a class="headerlink" href="#blp-file-format" title="Permalink to this headline">¶</a></h5>
<p>Pillow now supports reading the BLP “Blizzard Mipmap” file format used
for tiles in Blizzard’s engine.</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="optional-channels-for-tiff-files">
<h5>Optional channels for TIFF files<a class="headerlink" href="#optional-channels-for-tiff-files" title="Permalink to this headline">¶</a></h5>
<p>Pillow can now open TIFF files with base modes of <code class="docutils literal notranslate"><span class="pre">RGB</span></code>, <code class="docutils literal notranslate"><span class="pre">YCbCr</span></code>,
and <code class="docutils literal notranslate"><span class="pre">CMYK</span></code> with up to 6 8-bit channels, discarding any extra
channels if the content is tagged as UNSPECIFIED.  Pillow still does
not store more than 4 8-bit channels of image data.</p>
</section>
<section id="append-to-pdf-files">
<h5>Append to PDF Files<a class="headerlink" href="#append-to-pdf-files" title="Permalink to this headline">¶</a></h5>
<p>Images can now be appended to PDF files in place by passing in
<code class="docutils literal notranslate"><span class="pre">append=True</span></code> when saving the image.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="webp-memory-leak">
<h5>WebP memory leak<a class="headerlink" href="#webp-memory-leak" title="Permalink to this headline">¶</a></h5>
<p>A memory leak when opening <code class="docutils literal notranslate"><span class="pre">WebP</span></code> files has been fixed.</p>
</section>
</section>
</section>
<span id="document-releasenotes/5.0.0"></span><section id="id1">
<h3>5.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="backwards-incompatible-changes">
<h4>Backwards Incompatible Changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<section id="python-3-3-dropped">
<h5>Python 3.3 Dropped<a class="headerlink" href="#python-3-3-dropped" title="Permalink to this headline">¶</a></h5>
<p>Python 3.3 is EOL and no longer supported due to moving testing from nose,
which is deprecated, to pytest, which doesn’t support Python 3.3. We will not
be creating binaries, testing, or retaining compatibility with this version.
The final version of Pillow for Python 3.3 is 4.3.0.</p>
</section>
<section id="decompression-bombs-now-raise-exceptions">
<h5>Decompression Bombs now raise Exceptions<a class="headerlink" href="#decompression-bombs-now-raise-exceptions" title="Permalink to this headline">¶</a></h5>
<p>Pillow has previously emitted warnings for images that are
unexpectedly large and may be a denial of service. These warnings are
now upgraded to <code class="docutils literal notranslate"><span class="pre">DecompressionBombError</span></code>s for images that are twice
the size of images that trigger the <code class="docutils literal notranslate"><span class="pre">DecompressionBombWarning</span></code>. The
default threshold is 128Mpx, or 0.5GB for an <code class="docutils literal notranslate"><span class="pre">RGB</span></code> or <code class="docutils literal notranslate"><span class="pre">RGBA</span></code>
image. This can be disabled or changed by setting
<code class="docutils literal notranslate"><span class="pre">Image.MAX_IMAGE_PIXELS</span> <span class="pre">=</span> <span class="pre">None</span></code>.</p>
</section>
<section id="scripts">
<h5>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h5>
<p>The scripts formerly installed by Pillow have been split into a
separate package, pillow-scripts, living at
<a class="reference external" href="https://github.com/python-pillow/pillow-scripts">https://github.com/python-pillow/pillow-scripts</a> .</p>
</section>
</section>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="olefileio-py">
<h5>OleFileIO.py<a class="headerlink" href="#olefileio-py" title="Permalink to this headline">¶</a></h5>
<p>The olefile module is no longer a required dependency when installing Pillow.
Support for plugins requiring olefile will not be loaded if it is not
installed. This allows library consumers to avoid installing this dependency
if they choose. Some library consumers have little interest in the format
support and would like to keep dependencies to a minimum.</p>
<p>Further, the vendored version was removed in Pillow 4.0.0 and replaced with a
deprecation warning that PIL.OleFileIO would be removed in a future version.
This warning has been upgraded to an import error pending future removal.</p>
</section>
<section id="check-parameter-on-save">
<h5>Check parameter on _save<a class="headerlink" href="#check-parameter-on-save" title="Permalink to this headline">¶</a></h5>
<p>Several image plugins supported a named <code class="docutils literal notranslate"><span class="pre">check</span></code> parameter on their
nominally private <code class="docutils literal notranslate"><span class="pre">_save</span></code> method to preflight if the image could be
saved in that format. That parameter has been removed.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="image-transform">
<h5>Image.transform<a class="headerlink" href="#image-transform" title="Permalink to this headline">¶</a></h5>
<p>A new named parameter, <code class="docutils literal notranslate"><span class="pre">fillcolor</span></code>, has been added to
<code class="docutils literal notranslate"><span class="pre">Image.transform</span></code>. This color specifies the background color to use in
the area outside the transformed area in the output image. This
parameter takes the same color specifications as used in <code class="docutils literal notranslate"><span class="pre">Image.new</span></code>.</p>
</section>
<section id="gif-disposal">
<h5>GIF Disposal<a class="headerlink" href="#gif-disposal" title="Permalink to this headline">¶</a></h5>
<p>Multiframe GIF images now take an optional disposal parameter to
specify the disposal option for changed pixels.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="compressed-tiff-images">
<h5>Compressed TIFF Images<a class="headerlink" href="#compressed-tiff-images" title="Permalink to this headline">¶</a></h5>
<p>Previously, there were some compression modes (JPEG, Packbits, and
LZW) that were supported with Pillow’s internal TIFF decoder. All
compressed TIFFs are now read using the <code class="docutils literal notranslate"><span class="pre">libtiff</span></code> decoder, as it
implements the compression schemes more correctly.</p>
</section>
<section id="libraqm-is-now-dynamically-linked">
<h5>Libraqm is now Dynamically Linked<a class="headerlink" href="#libraqm-is-now-dynamically-linked" title="Permalink to this headline">¶</a></h5>
<p>The libraqm dependency for complex text scripts is now linked
dynamically at runtime rather than at packaging time. This allows us
to release binaries with support for libraqm if it is installed on the
user’s machine.</p>
</section>
<section id="source-layout-changes">
<h5>Source Layout Changes<a class="headerlink" href="#source-layout-changes" title="Permalink to this headline">¶</a></h5>
<p>The Pillow source is now stored within the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory of the
distribution. This prevents accidental imports of the PIL directory
when running Python from the project directory.</p>
</section>
<section id="setup-py-changes">
<h5>Setup.py Changes<a class="headerlink" href="#setup-py-changes" title="Permalink to this headline">¶</a></h5>
<p>Multiarch support on Linux should be more robust, especially on Debian
derivatives on ARM platforms. Debian’s multiarch platform
configuration is run in preference to the sniffing of machine platform
and architecture.</p>
</section>
</section>
</section>
<span id="document-releasenotes/4.3.0"></span><section id="id1">
<h3>4.3.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="api-changes">
<h4>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h4>
<section id="deprecations">
<h5>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h5>
<p>Several undocumented functions in ImageOps have been deprecated:
<code class="docutils literal notranslate"><span class="pre">gaussian_blur</span></code>, <code class="docutils literal notranslate"><span class="pre">gblur</span></code>, <code class="docutils literal notranslate"><span class="pre">unsharp_mask</span></code>, <code class="docutils literal notranslate"><span class="pre">usm</span></code> and
<code class="docutils literal notranslate"><span class="pre">box_blur</span></code>. Use the equivalent operations in <code class="docutils literal notranslate"><span class="pre">ImageFilter</span></code>
instead. These functions will be removed in a future release.</p>
</section>
<section id="tiff-metadata-changes">
<h5>TIFF Metadata Changes<a class="headerlink" href="#tiff-metadata-changes" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>TIFF tags with unknown type/quantity now default to being bare
values if they are 1 element, where previously they would be a
single element tuple. This is only with the new api, not the legacy
api. This normalizes the handling of fields, so that the metadata
with inferred or image specified counts are handled the same as
metadata with count specified in the TIFF spec.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">PhotoshopInfo</span></code>, <code class="docutils literal notranslate"><span class="pre">XMP</span></code>, and <code class="docutils literal notranslate"><span class="pre">JPEGTables</span></code> tags now have a
defined type (bytes) and a count of 1.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ImageJMetaDataByteCounts</span></code> tag now has an arbitrary number of
items, as there can be multiple items, one for UTF-8, and one for
UTF-16.</p></li>
</ul>
</section>
<section id="core-image-api-changes">
<h5>Core Image API Changes<a class="headerlink" href="#core-image-api-changes" title="Permalink to this headline">¶</a></h5>
<p>These are internal functions that should not have been used by user
code, but they were accessible from the python layer.</p>
<p>Debugging code within <code class="docutils literal notranslate"><span class="pre">Image.core.grabclipboard</span></code> was removed. It had been
marked as <code class="docutils literal notranslate"><span class="pre">will</span> <span class="pre">be</span> <span class="pre">removed</span> <span class="pre">in</span> <span class="pre">future</span> <span class="pre">versions</span></code> since PIL. When enabled, it
identified the format of the clipboard data.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PIL.Image.core.copy</span></code> and <code class="docutils literal notranslate"><span class="pre">PIL.Image.Image.im.copy2</span></code> methods
have been removed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PIL.Image.core.getcount</span></code> methods have been removed, use
<code class="docutils literal notranslate"><span class="pre">PIL.Image.core.get_stats()['new_count']</span></code> property instead.</p>
</section>
</section>
<section id="api-additions">
<h4>API Additions<a class="headerlink" href="#api-additions" title="Permalink to this headline">¶</a></h4>
<section id="get-one-channel-from-image">
<h5>Get One Channel From Image<a class="headerlink" href="#get-one-channel-from-image" title="Permalink to this headline">¶</a></h5>
<p>A new method <a class="reference internal" href="index.html#PIL.Image.Image.getchannel" title="PIL.Image.Image.getchannel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.getchannel()</span></code></a> has been added to
return a single channel by index or name. For example,
<code class="docutils literal notranslate"><span class="pre">image.getchannel(&quot;A&quot;)</span></code> will return alpha channel as separate image.
<code class="docutils literal notranslate"><span class="pre">getchannel</span></code> should work up to 6 times faster than
<code class="docutils literal notranslate"><span class="pre">image.split()[0]</span></code> in previous Pillow versions.</p>
</section>
<section id="box-blur">
<h5>Box Blur<a class="headerlink" href="#box-blur" title="Permalink to this headline">¶</a></h5>
<p>A new filter, <a class="reference internal" href="index.html#PIL.ImageFilter.BoxBlur" title="PIL.ImageFilter.BoxBlur"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFilter.BoxBlur</span></code></a>, has been
added. This is a filter with similar results to a Gaussian blur, but
is much faster.</p>
</section>
<section id="partial-resampling">
<h5>Partial Resampling<a class="headerlink" href="#partial-resampling" title="Permalink to this headline">¶</a></h5>
<p>Added new argument <code class="docutils literal notranslate"><span class="pre">box</span></code> for <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.resize()</span></code></a>. This
argument defines a source rectangle from within the source image to be
resized.  This is very similar to the <code class="docutils literal notranslate"><span class="pre">image.crop(box).resize(size)</span></code>
sequence except that <code class="docutils literal notranslate"><span class="pre">box</span></code> can be specified with subpixel accuracy.</p>
</section>
<section id="new-transpose-operation">
<h5>New Transpose Operation<a class="headerlink" href="#new-transpose-operation" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">Image.TRANSVERSE</span></code> operation has been added to
<a class="reference internal" href="index.html#PIL.Image.Image.transpose" title="PIL.Image.Image.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.transpose()</span></code></a>. This is equivalent to a transpose
operation about the opposite diagonal.</p>
</section>
<section id="multiband-filters">
<h5>Multiband Filters<a class="headerlink" href="#multiband-filters" title="Permalink to this headline">¶</a></h5>
<p>There is a new <a class="reference internal" href="index.html#PIL.ImageFilter.MultibandFilter" title="PIL.ImageFilter.MultibandFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFilter.MultibandFilter</span></code></a> base class
for image filters that can run on all channels of an image in one
operation. The original <a class="reference internal" href="index.html#PIL.ImageFilter.Filter" title="PIL.ImageFilter.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageFilter.Filter</span></code></a> class
remains for image filters that can process only single band images, or
require splitting of channels prior to filtering.</p>
</section>
</section>
<section id="other-changes">
<h4>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h4>
<section id="loading-16-bit-tiff-images">
<h5>Loading 16-bit TIFF Images<a class="headerlink" href="#loading-16-bit-tiff-images" title="Permalink to this headline">¶</a></h5>
<p>Pillow now can read 16-bit multichannel TIFF files including files
with alpha transparency. The image data is truncated to 8-bit
precision.</p>
<p>Pillow now can read 16-bit signed integer single channel TIFF
files. The image data is promoted to 32-bit for storage and
processing.</p>
</section>
<section id="sgi-images">
<h5>SGI Images<a class="headerlink" href="#sgi-images" title="Permalink to this headline">¶</a></h5>
<p>Pillow can now read and write uncompressed 16-bit multichannel SGI
images to and from RGB and RGBA formats. The image data is truncated
to 8-bit precision.</p>
<p>Pillow can now read RLE encoded SGI images in both 8 and 16-bit
precision.</p>
</section>
<section id="performance">
<h5>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h5>
<p>This release contains several performance improvements:</p>
<ul class="simple">
<li><p>Many memory bandwidth-bounded operations such as crop, image allocation,
conversion, split into bands and merging from bands are up to 2x faster.</p></li>
<li><p>Upscaling of multichannel images (such as RGB) is accelerated by 5-10%</p></li>
<li><p>JPEG loading is accelerated up to 15% and JPEG saving up to 20% when
using a recent version of libjpeg-turbo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image.transpose</span></code> has been accelerated 15% or more by using a cache
friendly algorithm.</p></li>
<li><p>ImageFilters based on Kernel convolution are significantly faster
due to the new <a class="reference internal" href="index.html#PIL.ImageFilter.MultibandFilter" title="PIL.ImageFilter.MultibandFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultibandFilter</span></code></a> feature.</p></li>
<li><p>All memory allocation for images is now done in blocks, rather than
falling back to an allocation for each scan line for images larger
than the block size.</p></li>
</ul>
</section>
<section id="cmyk-conversion">
<h5>CMYK Conversion<a class="headerlink" href="#cmyk-conversion" title="Permalink to this headline">¶</a></h5>
<p>The basic CMYK-&gt;RGB conversion has been tweaked to match the formula
from Google Chrome. This produces an image that is generally lighter
than the previous formula, and more in line with what color managed
applications produce.</p>
</section>
</section>
</section>
<span id="document-releasenotes/4.2.1"></span><section id="id1">
<h3>4.2.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>There are no functional changes in this release.</p>
<section id="fixed-windows-pypy-build">
<h4>Fixed Windows PyPy Build<a class="headerlink" href="#fixed-windows-pypy-build" title="Permalink to this headline">¶</a></h4>
<p>A change in the 4.2.0 cycle broke the Windows PyPy build. This has
been fixed, and PyPy is now part of the Windows CI matrix.</p>
</section>
</section>
<span id="document-releasenotes/4.2.0"></span><section id="id1">
<h3>4.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="added-complex-text-rendering">
<h4>Added Complex Text Rendering<a class="headerlink" href="#added-complex-text-rendering" title="Permalink to this headline">¶</a></h4>
<p>Pillow now supports complex text rendering for scripts requiring glyph
composition and bidirectional flow. This optional feature adds three
dependencies: harfbuzz, fribidi, and raqm. See the <a class="reference internal" href="index.html#document-installation"><span class="doc">install documentation</span></a> for further details. This feature is tested and works on
Unix and Mac, but has not yet been built on Windows platforms.</p>
</section>
<section id="new-optional-parameters">
<h4>New Optional Parameters<a class="headerlink" href="#new-optional-parameters" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="index.html#PIL.ImageDraw.floodfill" title="PIL.ImageDraw.floodfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.ImageDraw.floodfill()</span></code></a> has a new optional parameter:
threshold. This specifies a tolerance for the color to replace with
the flood fill.</p></li>
<li><p>The TIFF and PDF image writers now support the <code class="docutils literal notranslate"><span class="pre">append_images</span></code>
optional parameter for specifying additional images to create
multipage outputs.</p></li>
</ul>
</section>
<section id="new-decompressionbomb-warning">
<h4>New DecompressionBomb Warning<a class="headerlink" href="#new-decompressionbomb-warning" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="index.html#PIL.Image.Image.crop" title="PIL.Image.Image.crop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.crop()</span></code></a> now may raise a DecompressionBomb
warning if the crop region enlarges the image over the threshold
specified by <a class="reference internal" href="index.html#PIL.Image.MAX_IMAGE_PIXELS" title="PIL.Image.MAX_IMAGE_PIXELS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.MAX_IMAGE_PIXELS</span></code></a>.</p>
</section>
<section id="removed-deprecated-items">
<h4>Removed Deprecated Items<a class="headerlink" href="#removed-deprecated-items" title="Permalink to this headline">¶</a></h4>
<p>Several deprecated items have been removed.</p>
<ul class="simple">
<li><p>The methods <code class="docutils literal notranslate"><span class="pre">PIL.ImageWin.Dib.fromstring</span></code>,
<code class="docutils literal notranslate"><span class="pre">PIL.ImageWin.Dib.tostring</span></code> and
<code class="docutils literal notranslate"><span class="pre">PIL.TiffImagePlugin.ImageFileDirectory_v2.as_dict</span></code> have
been removed.</p></li>
<li><p>Before Pillow 4.2.0, attempting to save an RGBA image as JPEG would
discard the alpha channel. From Pillow 3.4.0, a deprecation warning
was shown. From Pillow 4.2.0, the deprecation warning is removed and
an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">IOError</span></code></a> is raised.</p></li>
</ul>
</section>
<section id="removed-core-image-function">
<h4>Removed Core Image Function<a class="headerlink" href="#removed-core-image-function" title="Permalink to this headline">¶</a></h4>
<p>The unused function <code class="docutils literal notranslate"><span class="pre">Image.core.new_array</span></code> was removed. This is an
internal function that should not have been used by user code, but it
was accessible from the python layer.</p>
</section>
</section>
<span id="document-releasenotes/4.1.1"></span><section id="id1">
<h3>4.1.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="fix-regression-with-reading-dpi-from-exif-data">
<h4>Fix Regression with reading DPI from EXIF data<a class="headerlink" href="#fix-regression-with-reading-dpi-from-exif-data" title="Permalink to this headline">¶</a></h4>
<p>Some JPEG images don’t contain DPI information in the image metadata,
but do contain it in the EXIF data. A patch was added in 4.1.0 to read
from the EXIF data, but it did not accept all possible types that
could be included there.  This fix adds the ability to read ints as
well as rational values.</p>
</section>
<section id="incompatibility-between-3-6-0-and-3-6-1">
<h4>Incompatibility between 3.6.0 and 3.6.1<a class="headerlink" href="#incompatibility-between-3-6-0-and-3-6-1" title="Permalink to this headline">¶</a></h4>
<p>CPython 3.6.1 added a new symbol, PySlice_GetIndicesEx, which was not
present in 3.6.0. This had the effect of causing binaries compiled on
CPython 3.6.1 to not work on installations of C-Python 3.6.0. This fix
undefines PySlice_GetIndicesEx if it exists to restore compatibility
with both 3.6.0 and 3.6.1. See <a class="reference external" href="https://bugs.python.org/issue29943">https://bugs.python.org/issue29943</a> for
more details.</p>
</section>
</section>
<span id="document-releasenotes/4.1.0"></span><section id="id1">
<h3>4.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="removed-deprecated-items">
<h4>Removed Deprecated Items<a class="headerlink" href="#removed-deprecated-items" title="Permalink to this headline">¶</a></h4>
<p>Several deprecated items have been removed.</p>
<ul class="simple">
<li><p>Support for spaces in tiff kwargs in the parameters for ‘x resolution’, ‘y
resolution’, ‘resolution unit’, and ‘date time’ has been
removed. Underscores should be used instead.</p></li>
<li><p>The methods <code class="docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.setink</span></code>,
<code class="docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.setfill</span></code>, and
<code class="docutils literal notranslate"><span class="pre">PIL.ImageDraw.ImageDraw.setfont</span></code> have been removed.</p></li>
</ul>
</section>
<section id="closing-files-when-opening-images">
<h4>Closing Files When Opening Images<a class="headerlink" href="#closing-files-when-opening-images" title="Permalink to this headline">¶</a></h4>
<p>The file handling when opening images has been overhauled. Previously,
Pillow would attempt to close some, but not all image formats
after loading the image data. Now, the following behavior
is specified:</p>
<ul class="simple">
<li><p>For images where an open file is passed in, it is the
responsibility of the calling code to close the file.</p></li>
<li><p>For images where Pillow opens the file and the file is known to have
only one frame, the file is closed after loading.</p></li>
<li><p>If the file has more than one frame, or if it can’t be determined,
then the file is left open to permit seeking to subsequent
frames. It will be closed, eventually, in the <code class="docutils literal notranslate"><span class="pre">close</span></code> or
<code class="docutils literal notranslate"><span class="pre">__del__</span></code> methods.</p></li>
<li><p>If the image is memory mapped, then we can’t close the mapping to
the underlying file until we are done with the image. The mapping
will be closed in the <code class="docutils literal notranslate"><span class="pre">close</span></code> or <code class="docutils literal notranslate"><span class="pre">__del__</span></code> method.</p></li>
</ul>
</section>
<section id="changes-to-gif-handling-when-saving">
<h4>Changes to GIF Handling When Saving<a class="headerlink" href="#changes-to-gif-handling-when-saving" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="index.html#module-PIL.GifImagePlugin" title="PIL.GifImagePlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.GifImagePlugin</span></code></a> code has been refactored to fix the flow when
saving images. There are two external changes that arise from this:</p>
<ul class="simple">
<li><p>An <a class="reference internal" href="index.html#PIL.ImagePalette.ImagePalette" title="PIL.ImagePalette.ImagePalette"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImagePalette.ImagePalette</span></code></a> object is now accepted
as a specified palette argument in <a class="reference internal" href="index.html#PIL.Image.Image.save" title="PIL.Image.Image.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.save()</span></code></a>.</p></li>
<li><p>The image to be saved is no longer modified in place by any of the
operations of the save function. Previously it was modified when
optimizing the image palette.</p></li>
</ul>
<p>This refactor fixed some bugs with palette handling when saving
multiple frame GIFs.</p>
</section>
<section id="new-method-image-remap-palette">
<h4>New Method: Image.remap_palette<a class="headerlink" href="#new-method-image-remap-palette" title="Permalink to this headline">¶</a></h4>
<p>The method <a class="reference internal" href="index.html#PIL.Image.Image.remap_palette" title="PIL.Image.Image.remap_palette"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PIL.Image.Image.remap_palette()</span></code></a> has been
added. This method was hoisted from the GifImagePlugin code used to
optimize the palette.</p>
</section>
<section id="added-decoder-registry-and-support-for-python-based-decoders">
<h4>Added Decoder Registry and Support for Python Based Decoders<a class="headerlink" href="#added-decoder-registry-and-support-for-python-based-decoders" title="Permalink to this headline">¶</a></h4>
<p>There is now a decoder registry similar to the image plugin
registries. Image plugins can register a decoder, and it will be
called when the decoding is requested. This allows for the creation of
pure Python decoders. While the Python decoders will not be as fast as
their C based counterparts, they may be easier and quicker to develop
or safer to run.</p>
</section>
<section id="tests">
<h4>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h4>
<p>Many tests have been added, including correctness tests for image
formats that have been previously untested.</p>
<p>We are now running automated tests in Docker containers against more
Linux versions than are provided on Travis CI, which is currently
Ubuntu 14.04 x64. This Pillow release is tested on 64-bit Alpine,
Arch, Ubuntu 12.04 and 16.04, and 32-bit Debian Stretch and Ubuntu
14.04. This also covers a wider range of dependency versions than are
provided on Travis natively.</p>
</section>
</section>
<span id="document-releasenotes/4.0.0"></span><section id="id1">
<h3>4.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="python-2-6-and-3-2-dropped">
<h4>Python 2.6 and 3.2 Dropped<a class="headerlink" href="#python-2-6-and-3-2-dropped" title="Permalink to this headline">¶</a></h4>
<p>Pillow 4.0 no longer supports Python 2.6 and 3.2. We will not be
creating binaries, testing, or retaining compatibility with these
releases. This release removes some workarounds for those Python
releases, so the final working version of Pillow on 2.6 or 3.2 is 3.4.2.</p>
</section>
<section id="support-added-for-python-3-6">
<h4>Support added for Python 3.6<a class="headerlink" href="#support-added-for-python-3-6" title="Permalink to this headline">¶</a></h4>
<p>Pillow 4.0 supports Python 3.6.</p>
</section>
<section id="olefileio-py">
<h4>OleFileIO.py<a class="headerlink" href="#olefileio-py" title="Permalink to this headline">¶</a></h4>
<p>OleFileIO.py has been removed as a vendored file and is now installed
from the upstream olefile pypi package. All internal dependencies are
redirected to the olefile package. Direct accesses to
<code class="docutils literal notranslate"><span class="pre">PIL.OlefileIO</span></code> raises a deprecation warning, then patches the
upstream olefile into <code class="docutils literal notranslate"><span class="pre">sys.modules</span></code> in its place.</p>
</section>
<section id="sgi-image-save">
<h4>SGI image save<a class="headerlink" href="#sgi-image-save" title="Permalink to this headline">¶</a></h4>
<p>It is now possible to save images in modes <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">RGB</span></code>, and
<code class="docutils literal notranslate"><span class="pre">RGBA</span></code> to the uncompressed SGI image format.</p>
</section>
<section id="zero-sized-images">
<h4>Zero sized images<a class="headerlink" href="#zero-sized-images" title="Permalink to this headline">¶</a></h4>
<p>Pillow 3.4.0 removed support for creating images with (0,0) size. This
has been reenabled, restoring pre 3.4 behavior.</p>
</section>
<section id="internal-handles-eof-flag">
<h4>Internal handles_eof flag<a class="headerlink" href="#internal-handles-eof-flag" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">handles_eof</span> <span class="pre">flag</span></code> for decoding images has been removed, as there
were no internal users of the flag. Anyone maintaining image decoders
outside of the Pillow source tree should consider using the cleanup
function pointers instead.</p>
</section>
<section id="image-core-stretch-removed">
<h4>Image.core.stretch removed<a class="headerlink" href="#image-core-stretch-removed" title="Permalink to this headline">¶</a></h4>
<p>The stretch function on the core image object has been removed. This
used to be for enlarging the image, but has been aliased to resize
recently.</p>
</section>
</section>
<span id="document-releasenotes/3.4.0"></span><section id="id1">
<h3>3.4.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="new-resizing-filters">
<h4>New resizing filters<a class="headerlink" href="#new-resizing-filters" title="Permalink to this headline">¶</a></h4>
<p>Two new filters available for <code class="docutils literal notranslate"><span class="pre">Image.resize()</span></code> and <code class="docutils literal notranslate"><span class="pre">Image.thumbnail()</span></code>
functions: <code class="docutils literal notranslate"><span class="pre">BOX</span></code> and <code class="docutils literal notranslate"><span class="pre">HAMMING</span></code>. <code class="docutils literal notranslate"><span class="pre">BOX</span></code> is the high-performance filter with
two times shorter window than <code class="docutils literal notranslate"><span class="pre">BILINEAR</span></code>. It can be used for image reduction
3 and more times and produces a sharper result than <code class="docutils literal notranslate"><span class="pre">BILINEAR</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">HAMMING</span></code> filter has the same performance as <code class="docutils literal notranslate"><span class="pre">BILINEAR</span></code> filter while
providing the image downscaling quality comparable to <code class="docutils literal notranslate"><span class="pre">BICUBIC</span></code>.
Both new filters don’t show good quality for the image upscaling.</p>
</section>
<section id="deprecation-warning-when-saving-jpegs">
<h4>Deprecation Warning when Saving JPEGs<a class="headerlink" href="#deprecation-warning-when-saving-jpegs" title="Permalink to this headline">¶</a></h4>
<p>JPEG images cannot contain an alpha channel. Pillow prior to 3.4.0
silently drops the alpha channel. With this release Pillow will now
issue a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> when attempting to save a <code class="docutils literal notranslate"><span class="pre">RGBA</span></code> mode
image as a JPEG. This will become an error in Pillow 4.2.</p>
</section>
<section id="new-dds-decoders">
<h4>New DDS Decoders<a class="headerlink" href="#new-dds-decoders" title="Permalink to this headline">¶</a></h4>
<p>Pillow can now decode DXT3 images, as well as the previously supported
DXT1 and DXT5 formats. All three formats are now decoded in C code for
better performance.</p>
</section>
<section id="append-images-to-gif">
<h4>Append images to GIF<a class="headerlink" href="#append-images-to-gif" title="Permalink to this headline">¶</a></h4>
<p>Additional frames can now be appended when saving a GIF file, through the
<code class="docutils literal notranslate"><span class="pre">append_images</span></code> argument. The new frames are passed in as a list of images,
which may be have multiple frames themselves.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">append_images</span></code> argument is only used if <code class="docutils literal notranslate"><span class="pre">save_all</span></code> is also
in effect, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">save_all</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">append_images</span><span class="o">=</span><span class="p">[</span><span class="n">im1</span><span class="p">,</span> <span class="n">im2</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="save-multiple-frame-tiff">
<h4>Save multiple frame TIFF<a class="headerlink" href="#save-multiple-frame-tiff" title="Permalink to this headline">¶</a></h4>
<p>Multiple frames can now be saved in a TIFF file by using the <code class="docutils literal notranslate"><span class="pre">save_all</span></code> option.
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;filename.tiff&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;TIFF&quot;</span><span class="p">,</span> <span class="n">save_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="image-core-open-ppm-removed">
<h4>Image.core.open_ppm removed<a class="headerlink" href="#image-core-open-ppm-removed" title="Permalink to this headline">¶</a></h4>
<p>The nominally private/debugging function <code class="docutils literal notranslate"><span class="pre">Image.core.open_ppm</span></code> has
been removed. If you were using this function, please use
<code class="docutils literal notranslate"><span class="pre">Image.open</span></code> instead.</p>
</section>
</section>
<span id="document-releasenotes/3.3.2"></span><section id="id1">
<h3>3.3.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="integer-overflow-in-map-c">
<h4>Integer overflow in Map.c<a class="headerlink" href="#integer-overflow-in-map-c" title="Permalink to this headline">¶</a></h4>
<p>Pillow prior to 3.3.2 may experience integer overflow errors in map.c
when reading specially crafted image files. This may lead to memory
disclosure or corruption.</p>
<p>Specifically, when parameters from the image are passed into
<code class="docutils literal notranslate"><span class="pre">Image.core.map_buffer</span></code>, the size of the image was calculated with
<code class="docutils literal notranslate"><span class="pre">xsize</span></code> * <code class="docutils literal notranslate"><span class="pre">ysize</span></code> * <code class="docutils literal notranslate"><span class="pre">bytes_per_pixel</span></code>. This will overflow if the
result is larger than SIZE_MAX. This is possible on a 32-bit system.</p>
<p>Furthermore this <code class="docutils literal notranslate"><span class="pre">size</span></code> value was added to a potentially attacker
provided <code class="docutils literal notranslate"><span class="pre">offset</span></code> value and compared to the size of the buffer
without checking for overflow or negative values.</p>
<p>These values were then used for creating pointers, at which point
Pillow could read the memory and include it in other images. The image
was marked readonly, so Pillow would not ordinarily write to that
memory without duplicating the image first.</p>
<p>This issue was found by Cris Neckar at Divergent Security.</p>
</section>
<section id="sign-extension-in-storage-c">
<h4>Sign Extension in Storage.c<a class="headerlink" href="#sign-extension-in-storage-c" title="Permalink to this headline">¶</a></h4>
<p>Pillow prior to 3.3.2 and PIL 1.1.7 (at least) do not check for
negative image sizes in <code class="docutils literal notranslate"><span class="pre">ImagingNew</span></code> in <code class="docutils literal notranslate"><span class="pre">Storage.c</span></code>. A negative
image size can lead to a smaller allocation than expected, leading to
arbitrary writes.</p>
<p>This issue was found by Cris Neckar at Divergent Security.</p>
</section>
</section>
<span id="document-releasenotes/3.3.0"></span><section id="id1">
<h3>3.3.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="libimagequant-support">
<h4>Libimagequant support<a class="headerlink" href="#libimagequant-support" title="Permalink to this headline">¶</a></h4>
<p>There is now support for using libimagequant as a higher quality
quantization option in <code class="docutils literal notranslate"><span class="pre">Image.quantize()</span></code> on Unix-like
platforms. This support requires building Pillow from source against
libimagequant. We cannot distribute binaries due to licensing
differences.</p>
</section>
<section id="new-setup-py-options">
<h4>New Setup.py options<a class="headerlink" href="#new-setup-py-options" title="Permalink to this headline">¶</a></h4>
<p>There are two new options to control the <code class="docutils literal notranslate"><span class="pre">build_ext</span></code> task in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--debug</span></code> dumps all of the directories and files that are
checked when searching for libraries or headers when building the
extensions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--disable-platform-guessing</span></code> removes many of the directories
that are checked for libraries and headers for build systems or
cross compilers that specify that information in via environment
variables.</p></li>
</ul>
</div></blockquote>
</section>
<section id="resizing">
<h4>Resizing<a class="headerlink" href="#resizing" title="Permalink to this headline">¶</a></h4>
<p>Image resampling for 8-bit per channel images was rewritten using only integer
computings. This is faster on most platforms and doesn’t introduce precision
errors on the wide range of scales. With other performance improvements, this
makes resampling 60% faster on average.</p>
<p>Color calculation for images in the <code class="docutils literal notranslate"><span class="pre">LA</span></code> mode on semitransparent pixels
was fixed.</p>
</section>
<section id="rotation">
<h4>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h4>
<p>Rotation for angles divisible by 90 degrees now always uses transposition.
This greatly improves both quality and performance in this case.
Also, the bug with wrong image size calculation when rotating by 90 degrees
was fixed.</p>
</section>
<section id="image-metadata">
<h4>Image Metadata<a class="headerlink" href="#image-metadata" title="Permalink to this headline">¶</a></h4>
<p>The return type for binary data in version 2 Exif and Tiff metadata
has been changed from a tuple of integers to bytes. This is a change
from the behavior since <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code>.</p>
</section>
</section>
<span id="document-releasenotes/3.2.0"></span><section id="id1">
<h3>3.2.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="new-dds-and-ftex-image-plugins">
<h4>New DDS and FTEX Image Plugins<a class="headerlink" href="#new-dds-and-ftex-image-plugins" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">DdsImagePlugin</span></code> reading DXT1 and DXT5 encoded <code class="docutils literal notranslate"><span class="pre">.dds</span></code> images was
added. DXT3 images are not currently supported.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FtexImagePlugin</span></code> reads textures used for 3D objects in
Independence War 2: Edge Of Chaos. The plugin reads a single texture
per file, in the <code class="docutils literal notranslate"><span class="pre">.ftc</span></code> (compressed) and <code class="docutils literal notranslate"><span class="pre">.ftu</span></code> (uncompressed)
formats.</p>
</section>
<section id="updates-to-the-gbrimageplugin">
<h4>Updates to the GbrImagePlugin<a class="headerlink" href="#updates-to-the-gbrimageplugin" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">GbrImagePlugin</span></code> (GIMP brush format) has been updated to fix
support for version 1 files and add support for version 2 files.</p>
</section>
<section id="passthrough-parameters-for-imagedraw-text">
<h4>Passthrough Parameters for ImageDraw.text<a class="headerlink" href="#passthrough-parameters-for-imagedraw-text" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ImageDraw.multiline_text</span></code> and <code class="docutils literal notranslate"><span class="pre">ImageDraw.multiline_size</span></code> take extra
spacing parameters above what are used in <code class="docutils literal notranslate"><span class="pre">ImageDraw.text</span></code> and
<code class="docutils literal notranslate"><span class="pre">ImageDraw.size</span></code>. These parameters can now be passed into
<code class="docutils literal notranslate"><span class="pre">ImageDraw.text</span></code> and <code class="docutils literal notranslate"><span class="pre">ImageDraw.size</span></code> and they will be passed through
to the corresponding multiline functions.</p>
</section>
<section id="imagesequence-iterator-changes">
<h4>ImageSequence.Iterator changes<a class="headerlink" href="#imagesequence-iterator-changes" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ImageSequence.Iterator</span></code> is now an actual iterator implementing the
Iterator protocol.  It is also now possible to seek to the first image
of the file when using direct indexing.</p>
</section>
</section>
<span id="document-releasenotes/3.1.2"></span><section id="id1">
<h3>3.1.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="cve-2016-3076-buffer-overflow-in-jpeg2kencode-c">
<h4>CVE-2016-3076 – Buffer overflow in Jpeg2KEncode.c<a class="headerlink" href="#cve-2016-3076-buffer-overflow-in-jpeg2kencode-c" title="Permalink to this headline">¶</a></h4>
<p>Pillow between 2.5.0 and 3.1.1 may overflow a buffer when writing
large Jpeg2000 files, allowing for code execution or other memory
corruption (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-3076">CVE-2016-3076</a>).</p>
<p>This occurs specifically in the function <code class="docutils literal notranslate"><span class="pre">j2k_encode_entry</span></code>, at the line:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">state</span><span class="o">-&gt;</span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="w"> </span><span class="p">(</span><span class="n">tile_width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tile_height</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This vulnerability requires a particular value for <code class="docutils literal notranslate"><span class="pre">height</span> <span class="pre">*</span> <span class="pre">width</span></code>
such that <code class="docutils literal notranslate"><span class="pre">height</span> <span class="pre">*</span> <span class="pre">width</span> <span class="pre">*</span> <span class="pre">components</span> <span class="pre">*</span> <span class="pre">precision</span></code> overflows, at
which point the malloc will be for a smaller value than expected. The
buffer that is allocated will be <code class="docutils literal notranslate"><span class="pre">((height</span> <span class="pre">*</span> <span class="pre">width</span> <span class="pre">*</span> <span class="pre">components</span> <span class="pre">*</span>
<span class="pre">precision)</span> <span class="pre">mod</span> <span class="pre">(2^31)</span> <span class="pre">/</span> <span class="pre">8)</span></code>, where components is 1-4 and precision is
either 8 or
16. Common values would be 4 components at precision 8 for a standard
<code class="docutils literal notranslate"><span class="pre">RGBA</span></code> image.</p>
<p>The unpackers then split an image that is laid out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RGBARGBARGBA</span><span class="o">....</span>
</pre></div>
</div>
<p>into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RRR</span><span class="o">.</span>
<span class="n">GGG</span><span class="o">.</span>
<span class="n">BBB</span><span class="o">.</span>
<span class="n">AAA</span><span class="o">.</span>
</pre></div>
</div>
<p>If this buffer is smaller than expected, the jpeg2k unpacker functions
will write outside the allocation and onto the heap, corrupting
memory.</p>
<p>This issue was found by Alyssa Besseling at Atlassian.</p>
</section>
</section>
<span id="document-releasenotes/3.1.1"></span><section id="id1">
<h3>3.1.1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="cve-2016-0740-buffer-overflow-in-tiffdecode-c">
<h4>CVE-2016-0740 – Buffer overflow in TiffDecode.c<a class="headerlink" href="#cve-2016-0740-buffer-overflow-in-tiffdecode-c" title="Permalink to this headline">¶</a></h4>
<p>Pillow 3.1.0 and earlier when linked against libtiff &gt;= 4.0.0 on x64
may overflow a buffer when reading a specially crafted tiff file (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-0740">CVE-2016-0740</a>).</p>
<p>Specifically, libtiff &gt;= 4.0.0 changed the return type of
<code class="docutils literal notranslate"><span class="pre">TIFFScanlineSize</span></code> from <code class="docutils literal notranslate"><span class="pre">int32</span></code> to machine dependent
<code class="docutils literal notranslate"><span class="pre">int32|64</span></code>. If the scanline is sized so that it overflows an
<code class="docutils literal notranslate"><span class="pre">int32</span></code>, it may be interpreted as a negative number, which will then
pass the size check in <code class="docutils literal notranslate"><span class="pre">TiffDecode.c</span></code> line 236. To do this, the
logical scanline size has to be &gt; 2gb, and for the test file, the
allocated buffer size is 64k against a roughly 4gb scan line size. Any
image data over 64k is written over the heap, causing a segfault.</p>
<p>This issue was found by security researcher FourOne.</p>
</section>
<section id="cve-2016-0775-buffer-overflow-in-flidecode-c">
<h4>CVE-2016-0775 – Buffer overflow in FliDecode.c<a class="headerlink" href="#cve-2016-0775-buffer-overflow-in-flidecode-c" title="Permalink to this headline">¶</a></h4>
<p>In all versions of Pillow, dating back at least to the last PIL 1.1.7
release, FliDecode.c has a buffer overflow error (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-0775">CVE-2016-0775</a>).</p>
<p>Around line 192:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">case</span><span class="w"> </span><span class="mi">16</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="cm">/* COPY chunk */</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">ysize</span><span class="p">;</span><span class="w"> </span><span class="n">y</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">UINT8</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UINT8</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">im</span><span class="o">-&gt;</span><span class="n">image</span><span class="p">[</span><span class="n">y</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">memcpy</span><span class="p">(</span><span class="n">buf</span><span class="o">+</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">xsize</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">xsize</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>The memcpy has error where <code class="docutils literal notranslate"><span class="pre">x</span></code> is added to the target buffer
address. <code class="docutils literal notranslate"><span class="pre">X</span></code> is used in several internal temporary variable roles,
but can take a value up to the width of the image.  <code class="docutils literal notranslate"><span class="pre">Im-&gt;image[y]</span></code>
is a set of row pointers to segments of memory that are the size of
the row.  At the max <code class="docutils literal notranslate"><span class="pre">y</span></code>, this will write the contents of the line
off the end of the memory buffer, causing a segfault.</p>
<p>This issue was found by Alyssa Besseling at Atlassian.</p>
</section>
<section id="cve-2016-2533-buffer-overflow-in-pcddecode-c">
<h4>CVE-2016-2533 – Buffer overflow in PcdDecode.c<a class="headerlink" href="#cve-2016-2533-buffer-overflow-in-pcddecode-c" title="Permalink to this headline">¶</a></h4>
<p>In all versions of Pillow, dating back at least to the last PIL 1.1.7
release, <code class="docutils literal notranslate"><span class="pre">PcdDecode.c</span></code> has a buffer overflow error (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-2533">CVE-2016-2533</a>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">state.buffer</span></code> for <code class="docutils literal notranslate"><span class="pre">PcdDecode.c</span></code> is allocated based on a 3
bytes per pixel sizing, where <code class="docutils literal notranslate"><span class="pre">PcdDecode.c</span></code> wrote into the buffer
assuming 4 bytes per pixel. This writes 768 bytes beyond the end of
the buffer into other Python object storage. In some cases, this
causes a segfault, in others an internal Python malloc error.</p>
</section>
<section id="integer-overflow-in-resample-c">
<h4>Integer overflow in Resample.c<a class="headerlink" href="#integer-overflow-in-resample-c" title="Permalink to this headline">¶</a></h4>
<p>If a large value was passed into the new size for an image, it is
possible to overflow an <code class="docutils literal notranslate"><span class="pre">int32</span></code> value passed into malloc.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">kk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">xsize</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">kmax</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">));</span><span class="w"></span>
<span class="p">...</span><span class="w"></span>
<span class="n">xbounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">xsize</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">xsize</span></code> is trusted user input. These multiplications can overflow,
leading the <code class="docutils literal notranslate"><span class="pre">malloc</span></code>’d buffer to be undersized. These allocations are
followed by a loop that writes out of bounds. This can lead to
corruption on the heap of the Python process with attacker controlled
float data.</p>
<p>This issue was found by Ned Williamson.</p>
</section>
</section>
<span id="document-releasenotes/3.1.0"></span><section id="id1">
<h3>3.1.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="imagedraw-arc-chord-and-pieslice-can-now-use-floats">
<h4>ImageDraw arc, chord and pieslice can now use floats<a class="headerlink" href="#imagedraw-arc-chord-and-pieslice-can-now-use-floats" title="Permalink to this headline">¶</a></h4>
<p>There is no longer a need to ensure that the start and end arguments for <code class="docutils literal notranslate"><span class="pre">arc</span></code>,
<code class="docutils literal notranslate"><span class="pre">chord</span></code> and <code class="docutils literal notranslate"><span class="pre">pieslice</span></code> are integers.</p>
<p>Note that these numbers are not simply rounded internally, but are actually
utilised in the drawing process.</p>
</section>
<section id="consistent-multiline-text-spacing">
<h4>Consistent multiline text spacing<a class="headerlink" href="#consistent-multiline-text-spacing" title="Permalink to this headline">¶</a></h4>
<p>When using the <code class="docutils literal notranslate"><span class="pre">ImageDraw</span></code> multiline methods, the spacing between
lines was inconsistent, based on the combination on ascenders and
descenders.</p>
<p>This has now been fixed, so that lines are offset by their baselines,
not the absolute height of each line.</p>
<p>There is also now a default spacing of 4px between lines.</p>
</section>
<section id="exif-jpeg-and-tiff-metadata">
<h4>Exif, Jpeg and Tiff Metadata<a class="headerlink" href="#exif-jpeg-and-tiff-metadata" title="Permalink to this headline">¶</a></h4>
<p>There were major changes in the TIFF ImageFileDirectory support in
Pillow 3.0 that led to a number of regressions. Some of them have been
fixed in Pillow 3.1, and some of them have been extended to have
different behavior.</p>
<section id="tiffimageplugin-ifdrational">
<h5>TiffImagePlugin.IFDRational<a class="headerlink" href="#tiffimageplugin-ifdrational" title="Permalink to this headline">¶</a></h5>
<p>Pillow 3.0 changed rational metadata to use a float. In Pillow 3.1,
this has changed to allow the expression of 0/0 as a valid piece of
rational metadata to reflect usage in the wild.</p>
<p>Rational metadata is now encapsulated in an <code class="docutils literal notranslate"><span class="pre">IFDRational</span></code>
instance. This class extends the Rational class to allow a denominator
of 0. It compares as a float or a number, but does allow access to the
raw numerator and denominator values through attributes.</p>
<p>When used in a <code class="docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code>, a 2 item tuple is returned
of the numerator and denominator, as was done previously.</p>
<p>This class should be used when adding a rational value to an
ImageFileDirectory for saving to image metadata.</p>
</section>
<section id="jpegimageplugin-getexif">
<h5>JpegImagePlugin._getexif<a class="headerlink" href="#jpegimageplugin-getexif" title="Permalink to this headline">¶</a></h5>
<p>In Pillow 3.0, the dictionary returned from the private, experimental,
but generally widely used <code class="docutils literal notranslate"><span class="pre">_getexif</span></code> function changed to reflect the
ImageFileDirectory_v2 format, without a fallback to the previous format.</p>
<p>In Pillow 3.1, <code class="docutils literal notranslate"><span class="pre">_getexif</span></code> now returns a dictionary compatible with
Pillow 2.9 and earlier, built with
<code class="docutils literal notranslate"><span class="pre">ImageFileDirectory_v1</span></code> instances. Additionally, any
single item tuples have been unwrapped and return a bare element.</p>
<p>The format returned by Pillow 3.0 has been abandoned. A more fully
featured interface for EXIF is anticipated in a future release.</p>
</section>
<section id="out-of-spec-metadata">
<h5>Out of Spec Metadata<a class="headerlink" href="#out-of-spec-metadata" title="Permalink to this headline">¶</a></h5>
<p>In Pillow 3.0 and 3.1, images that contain metadata that is internally
consistent, but not in agreement with the TIFF spec, may cause an
exception when reading the metadata.  This can happen when a tag that
is specified to have a single value is stored with an array of values.</p>
<p>It is anticipated that this behavior will change in future releases.</p>
</section>
</section>
</section>
<span id="document-releasenotes/3.0.0"></span><section id="id1">
<h3>3.0.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="saving-multipage-images">
<h4>Saving Multipage Images<a class="headerlink" href="#saving-multipage-images" title="Permalink to this headline">¶</a></h4>
<p>There is now support for saving multipage images in the <code class="docutils literal notranslate"><span class="pre">GIF</span></code> and
<code class="docutils literal notranslate"><span class="pre">PDF</span></code> formats. To enable this functionality, pass in <code class="docutils literal notranslate"><span class="pre">save_all=True</span></code>
as a keyword argument to the save:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;test.pdf&#39;</span><span class="p">,</span> <span class="n">save_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tiff-imagefiledirectory-rewrite">
<h4>Tiff ImageFileDirectory Rewrite<a class="headerlink" href="#tiff-imagefiledirectory-rewrite" title="Permalink to this headline">¶</a></h4>
<p>The Tiff ImageFileDirectory metadata code has been rewritten. Where
previously it returned a somewhat arbitrary set of values and tuples,
it now returns bare values where appropriate and tuples when the
metadata item is a sequence or collection.</p>
<p>The original metadata is still available in the TiffImage.tags, the
new values are available in the TiffImage.tags_v2 member. The old
structures will be deprecated at some point in the future.  When
saving Tiff metadata, new code should use the
TiffImagePlugin.ImageFileDirectory_v2 class.</p>
</section>
<section id="deprecated-methods">
<h4>Deprecated Methods<a class="headerlink" href="#deprecated-methods" title="Permalink to this headline">¶</a></h4>
<p>Several methods that have been marked as deprecated for many releases
have been removed in this release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Image.tostring()
Image.fromstring()
Image.offset()
ImageDraw.setink()
ImageDraw.setfill()
The ImageFileIO module
The ImageFont.FreeTypeFont and ImageFont.truetype ``file`` keyword arg
The ImagePalette private _make functions
ImageWin.fromstring()
ImageWin.tostring()
</pre></div>
</div>
</section>
<section id="libjpeg-and-zlib-are-required-by-default">
<h4>LibJpeg and Zlib are Required by Default<a class="headerlink" href="#libjpeg-and-zlib-are-required-by-default" title="Permalink to this headline">¶</a></h4>
<p>The external dependencies on libjpeg and zlib are now required by default.
If the headers or libraries are not found, then installation will abort
with an error. This behaviour can be disabled with the <code class="docutils literal notranslate"><span class="pre">--disable-libjpeg</span></code>
and <code class="docutils literal notranslate"><span class="pre">--disable-zlib</span></code> flags.</p>
</section>
</section>
<span id="document-releasenotes/2.8.0"></span><section id="id1">
<h3>2.8.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="open-http-response-objects-with-image-open">
<h4>Open HTTP response objects with Image.open<a class="headerlink" href="#open-http-response-objects-with-image-open" title="Permalink to this headline">¶</a></h4>
<p>HTTP response objects returned from <code class="docutils literal notranslate"><span class="pre">urllib2.urlopen(url)</span></code> or
<code class="docutils literal notranslate"><span class="pre">requests.get(url,</span> <span class="pre">stream=True).raw</span></code> are ‘file-like’ but do not support <code class="docutils literal notranslate"><span class="pre">.seek()</span></code>
operations. As a result PIL was unable to open them as images, requiring a wrap in
<code class="docutils literal notranslate"><span class="pre">cStringIO</span></code> or <code class="docutils literal notranslate"><span class="pre">BytesIO</span></code>.</p>
<p>Now new functionality has been added to <code class="docutils literal notranslate"><span class="pre">Image.open()</span></code> by way of an <code class="docutils literal notranslate"><span class="pre">.seek(0)</span></code> check and
catch on exception <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> or <code class="docutils literal notranslate"><span class="pre">io.UnsupportedOperation</span></code>. If this is caught we
attempt to wrap the object using <code class="docutils literal notranslate"><span class="pre">io.BytesIO</span></code> (which will only work on buffer-file-like
objects).</p>
<p>This allows opening of files using both <code class="docutils literal notranslate"><span class="pre">urllib2</span></code> and <code class="docutils literal notranslate"><span class="pre">requests</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
<span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">raw</span><span class="p">)</span>
</pre></div>
</div>
<p>If the response uses content-encoding (compression, either gzip or deflate) then this
will fail as both the urllib2 and requests raw file object will produce compressed data
in that case. Using Content-Encoding on images is rather non-sensical as most images are
already compressed, but it can still happen.</p>
<p>For requests the work-around is to set the decode_content attribute on the raw object to
True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">decode_content</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">raw</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<span id="document-releasenotes/2.7.0"></span><section id="id1">
<h3>2.7.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<section id="sane-plugin">
<h4>Sane Plugin<a class="headerlink" href="#sane-plugin" title="Permalink to this headline">¶</a></h4>
<p>The Sane plugin has now been split into its own repo:
<a class="reference external" href="https://github.com/python-pillow/Sane">https://github.com/python-pillow/Sane</a> .</p>
</section>
<section id="png-text-chunk-size-limits">
<h4>Png text chunk size limits<a class="headerlink" href="#png-text-chunk-size-limits" title="Permalink to this headline">¶</a></h4>
<p>To prevent potential denial of service attacks using compressed text
chunks, there are now limits to the decompressed size of text chunks
decoded from PNG images. If the limits are exceeded when opening a PNG
image a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> will be raised.</p>
<p>Individual text chunks are limited to
<a class="reference internal" href="index.html#PIL.PngImagePlugin.MAX_TEXT_CHUNK" title="PIL.PngImagePlugin.MAX_TEXT_CHUNK"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.MAX_TEXT_CHUNK</span></code></a>, set to 1MB by
default. The total decompressed size of all text chunks is limited to
<a class="reference internal" href="index.html#PIL.PngImagePlugin.MAX_TEXT_MEMORY" title="PIL.PngImagePlugin.MAX_TEXT_MEMORY"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PIL.PngImagePlugin.MAX_TEXT_MEMORY</span></code></a>, which defaults to
64MB. These values can be changed prior to opening PNG images if you
know that there are large text blocks that are desired.</p>
</section>
<section id="image-resizing-filters">
<h4>Image resizing filters<a class="headerlink" href="#image-resizing-filters" title="Permalink to this headline">¶</a></h4>
<p>Image resizing methods <a class="reference internal" href="index.html#PIL.Image.Image.resize" title="PIL.Image.Image.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> take a <code class="docutils literal notranslate"><span class="pre">resample</span></code> argument, which tells
which filter should be used for resampling. Possible values are:
<a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.NEAREST</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BILINEAR</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.BICUBIC</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.ANTIALIAS</span></code></a>.
Almost all of them were changed in this version.</p>
<section id="bicubic-and-bilinear-downscaling">
<h5>Bicubic and bilinear downscaling<a class="headerlink" href="#bicubic-and-bilinear-downscaling" title="Permalink to this headline">¶</a></h5>
<p>From the beginning <a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> and
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> filters were based on affine transformations
and used a fixed number of pixels from the source image for every destination
pixel (2x2 pixels for <a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> and 4x4 for
<a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a>). This gave an unsatisfactory result for
downscaling. At the same time, a high quality convolutions-based algorithm with
flexible kernel was used for <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> filter.</p>
<p>Starting from Pillow 2.7.0, a high quality convolutions-based algorithm is used
for all of these three filters.</p>
<p>If you have previously used any tricks to maintain quality when downscaling with
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> filters
(for example, reducing within several steps), they are unnecessary now.</p>
</section>
<section id="antialias-renamed-to-lanczos">
<h5>Antialias renamed to Lanczos<a class="headerlink" href="#antialias-renamed-to-lanczos" title="Permalink to this headline">¶</a></h5>
<p>A new <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.LANCZOS</span></code></a> constant was added instead of
<a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a>.</p>
<p>When <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> was initially added, it was the only
high-quality filter based on convolutions. It’s name was supposed to reflect
this. Starting from Pillow 2.7.0 all resize method are based on convolutions.
All of them are antialias from now on. And the real name of the
<a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> filter is Lanczos filter.</p>
<p>The <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> constant is left for backward compatibility
and is an alias for <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">LANCZOS</span></code></a>.</p>
</section>
<section id="lanczos-upscaling-quality">
<h5>Lanczos upscaling quality<a class="headerlink" href="#lanczos-upscaling-quality" title="Permalink to this headline">¶</a></h5>
<p>The image upscaling quality with <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">LANCZOS</span></code></a> filter was
almost the same as <a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> due to bug. This has been fixed.</p>
</section>
<section id="bicubic-upscaling-quality">
<h5>Bicubic upscaling quality<a class="headerlink" href="#bicubic-upscaling-quality" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> filter for affine transformations produced
sharp, slightly pixelated image for upscaling. Bicubic for convolutions is
more soft.</p>
</section>
<section id="resize-performance">
<h5>Resize performance<a class="headerlink" href="#resize-performance" title="Permalink to this headline">¶</a></h5>
<p>In most cases, convolution is more a expensive algorithm for downscaling
because it takes into account all the pixels of source image. Therefore
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> filters’
performance can be lower than before. On the other hand the quality of
<a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> and <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> was close to
<a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">NEAREST</span></code></a>. So if such quality is suitable for your tasks
you can switch to <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">NEAREST</span></code></a> filter for downscaling,
which will give a huge improvement in performance.</p>
<p>At the same time performance of convolution resampling for downscaling has been
improved by around a factor of two compared to the previous version.
The upscaling performance of the <a class="reference internal" href="index.html#PIL.Image.LANCZOS" title="PIL.Image.LANCZOS"><code class="xref py py-data docutils literal notranslate"><span class="pre">LANCZOS</span></code></a> filter has
remained the same. For <a class="reference internal" href="index.html#PIL.Image.BILINEAR" title="PIL.Image.BILINEAR"><code class="xref py py-data docutils literal notranslate"><span class="pre">BILINEAR</span></code></a> filter it has improved by
1.5 times and for <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a> by four times.</p>
</section>
<section id="default-filter-for-thumbnails">
<h5>Default filter for thumbnails<a class="headerlink" href="#default-filter-for-thumbnails" title="Permalink to this headline">¶</a></h5>
<p>In Pillow 2.5 the default filter for <a class="reference internal" href="index.html#PIL.Image.Image.thumbnail" title="PIL.Image.Image.thumbnail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">thumbnail()</span></code></a> was
changed from <a class="reference internal" href="index.html#PIL.Image.NEAREST" title="PIL.Image.NEAREST"><code class="xref py py-data docutils literal notranslate"><span class="pre">NEAREST</span></code></a> to <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a>.
Antialias was chosen because all the other filters gave poor quality for
reduction. Starting from Pillow 2.7.0, <a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> has been
replaced with <a class="reference internal" href="index.html#PIL.Image.BICUBIC" title="PIL.Image.BICUBIC"><code class="xref py py-data docutils literal notranslate"><span class="pre">BICUBIC</span></code></a>, because it’s faster and
<a class="reference internal" href="index.html#PIL.Image.ANTIALIAS" title="PIL.Image.ANTIALIAS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ANTIALIAS</span></code></a> doesn’t give any advantages after
downscaling with libjpeg, which uses supersampling internally, not convolutions.</p>
</section>
</section>
<section id="image-transposition">
<h4>Image transposition<a class="headerlink" href="#image-transposition" title="Permalink to this headline">¶</a></h4>
<p>A new method <a class="reference internal" href="index.html#PIL.Image.TRANSPOSE" title="PIL.Image.TRANSPOSE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIL.Image.TRANSPOSE</span></code></a> has been added for the
<a class="reference internal" href="index.html#PIL.Image.Image.transpose" title="PIL.Image.Image.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transpose()</span></code></a> operation in addition to
<a class="reference internal" href="index.html#PIL.Image.FLIP_LEFT_RIGHT" title="PIL.Image.FLIP_LEFT_RIGHT"><code class="xref py py-data docutils literal notranslate"><span class="pre">FLIP_LEFT_RIGHT</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.FLIP_TOP_BOTTOM" title="PIL.Image.FLIP_TOP_BOTTOM"><code class="xref py py-data docutils literal notranslate"><span class="pre">FLIP_TOP_BOTTOM</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.ROTATE_90" title="PIL.Image.ROTATE_90"><code class="xref py py-data docutils literal notranslate"><span class="pre">ROTATE_90</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.ROTATE_180" title="PIL.Image.ROTATE_180"><code class="xref py py-data docutils literal notranslate"><span class="pre">ROTATE_180</span></code></a>,
<a class="reference internal" href="index.html#PIL.Image.ROTATE_270" title="PIL.Image.ROTATE_270"><code class="xref py py-data docutils literal notranslate"><span class="pre">ROTATE_270</span></code></a>. <a class="reference internal" href="index.html#PIL.Image.TRANSPOSE" title="PIL.Image.TRANSPOSE"><code class="xref py py-data docutils literal notranslate"><span class="pre">TRANSPOSE</span></code></a> is an algebra
transpose, with an image reflected across its main diagonal.</p>
<p>The speed of <a class="reference internal" href="index.html#PIL.Image.ROTATE_90" title="PIL.Image.ROTATE_90"><code class="xref py py-data docutils literal notranslate"><span class="pre">ROTATE_90</span></code></a>, <a class="reference internal" href="index.html#PIL.Image.ROTATE_270" title="PIL.Image.ROTATE_270"><code class="xref py py-data docutils literal notranslate"><span class="pre">ROTATE_270</span></code></a>
and <a class="reference internal" href="index.html#PIL.Image.TRANSPOSE" title="PIL.Image.TRANSPOSE"><code class="xref py py-data docutils literal notranslate"><span class="pre">TRANSPOSE</span></code></a> has been significantly improved for large
images which don’t fit in the processor cache.</p>
</section>
<section id="gaussian-blur-and-unsharp-mask">
<h4>Gaussian blur and unsharp mask<a class="headerlink" href="#gaussian-blur-and-unsharp-mask" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="index.html#PIL.ImageFilter.GaussianBlur" title="PIL.ImageFilter.GaussianBlur"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GaussianBlur()</span></code></a> implementation has been replaced
with a sequential application of box filters. The new implementation is based on
“Theoretical foundations of Gaussian convolution by extended box filtering” from
the Mathematical Image Analysis Group. As <a class="reference internal" href="index.html#PIL.ImageFilter.UnsharpMask" title="PIL.ImageFilter.UnsharpMask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UnsharpMask()</span></code></a>
implementations use Gaussian blur internally, all changes from this chapter
are also applicable to it.</p>
<section id="blur-radius">
<h5>Blur radius<a class="headerlink" href="#blur-radius" title="Permalink to this headline">¶</a></h5>
<p>There was an error in the previous version of Pillow, where blur radius (the
standard deviation of Gaussian) actually meant blur diameter. For example, to
blur an image with actual radius 5 you were forced to use value 10. This has
been fixed. Now the meaning of the radius is the same as in other software.</p>
<p>If you used a Gaussian blur with some radius value, you need to divide this
value by two.</p>
</section>
<section id="blur-performance">
<h5>Blur performance<a class="headerlink" href="#blur-performance" title="Permalink to this headline">¶</a></h5>
<p>Box filter computation time is constant relative to the radius and depends
on source image size only. Because the new Gaussian blur implementation
is based on box filter, its computation time also doesn’t depend on the blur
radius.</p>
<p>For example, previously, if the execution time for a given test image was 1
second for radius 1, 3.6 seconds for radius 10 and 17 seconds for 50, now blur
with any radius on same image is executed for 0.2 seconds.</p>
</section>
<section id="blur-quality">
<h5>Blur quality<a class="headerlink" href="#blur-quality" title="Permalink to this headline">¶</a></h5>
<p>The previous implementation takes into account only source pixels within
2 * standard deviation radius for every destination pixel. This was not enough,
so the quality was worse compared to other Gaussian blur software.</p>
<p>The new implementation does not have this drawback.</p>
</section>
</section>
<section id="tiff-parameter-changes">
<h4>TIFF Parameter Changes<a class="headerlink" href="#tiff-parameter-changes" title="Permalink to this headline">¶</a></h4>
<p>Several kwarg parameters for saving TIFF images were previously
specified as strings with included spaces (e.g. ‘x resolution’). This
was difficult to use as kwargs without constructing and passing a
dictionary. These parameters now use the underscore character instead
of space. (e.g. ‘x_resolution’)</p>
</section>
</section>
<span id="document-releasenotes/versioning"></span><section id="versioning">
<span id="id1"></span><h3>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h3>
<p>Pillow follows <a class="reference external" href="https://semver.org/">Semantic Versioning</a>:</p>
<blockquote>
<div><p>Given a version number MAJOR.MINOR.PATCH, increment the:</p>
<ol class="arabic simple">
<li><p>MAJOR version when you make incompatible API changes,</p></li>
<li><p>MINOR version when you add functionality in a backwards compatible manner, and</p></li>
<li><p>PATCH version when you make backwards compatible bug fixes.</p></li>
</ol>
</div></blockquote>
<p>Quarterly releases (”<a class="reference external" href="https://github.com/python-pillow/Pillow/blob/master/RELEASING.md#main-release">Main Release</a>”)
bump at least the MINOR version, as new functionality has likely been added in the
prior three months.</p>
<p>A quarterly release bumps the MAJOR version when incompatible API changes are
made, such as removing deprecated APIs or dropping an EOL Python version. In practice,
these occur every 12-18 months, guided by
<a class="reference external" href="https://devguide.python.org/#status-of-python-branches">Python’s EOL schedule</a>, and
any APIs that have been deprecated for at least a year are removed at the same time.</p>
<p>PATCH versions (”<a class="reference external" href="https://github.com/python-pillow/Pillow/blob/master/RELEASING.md#point-release">Point Release</a>”
or “<a class="reference external" href="https://github.com/python-pillow/Pillow/blob/master/RELEASING.md#embargoed-release">Embargoed Release</a>”)
are for security, installation or critical bug fixes. These are less common as it is
preferred to stick to quarterly releases.</p>
<p>Between quarterly releases, “.dev0” is appended to the “master” branch, indicating that
this is not a formally released copy.</p>
</section>
</div>
</section>
<span id="document-deprecations"></span><section id="deprecations-and-removals">
<span id="deprecations"></span><h2>Deprecations and removals<a class="headerlink" href="#deprecations-and-removals" title="Permalink to this headline">¶</a></h2>
<p>This page lists Pillow features that are deprecated, or have been removed in
past major releases, and gives the alternatives to use instead.</p>
<section id="deprecated-features">
<h3>Deprecated features<a class="headerlink" href="#deprecated-features" title="Permalink to this headline">¶</a></h3>
<p>Below are features which are considered deprecated. Where appropriate,
a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> is issued.</p>
<section id="freetype-2-7">
<h4>FreeType 2.7<a class="headerlink" href="#freetype-2-7" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 8.1.0.</span></p>
</div>
<p>Support for FreeType 2.7 is deprecated and will be removed in Pillow 9.0.0 (2022-01-02),
when FreeType 2.8 will be the minimum supported.</p>
<p>We recommend upgrading to at least FreeType <a class="reference external" href="https://sourceforge.net/projects/freetype/files/freetype2/2.10.4/">2.10.4</a>, which fixed a severe
vulnerability introduced in FreeType 2.6 (<a class="reference external" href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15999">CVE-2020-15999</a>).</p>
</section>
<section id="image-show-command-parameter">
<h4>Image.show command parameter<a class="headerlink" href="#image-show-command-parameter" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 7.2.0.</span></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">command</span></code> parameter will be removed in Pillow 9.0.0 (2022-01-02).
Use a subclass of <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageShow.Viewer</span></code></a> instead.</p>
</section>
<section id="image-showxv">
<h4>Image._showxv<a class="headerlink" href="#image-showxv" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 7.2.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Image._showxv</span></code> will be removed in Pillow 9.0.0 (2022-01-02).
Use <a class="reference internal" href="index.html#PIL.Image.Image.show" title="PIL.Image.Image.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Image.Image.show()</span></code></a> instead. If custom behaviour is required, use
<a class="reference internal" href="index.html#PIL.ImageShow.register" title="PIL.ImageShow.register"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageShow.register()</span></code></a> to add a custom <a class="reference internal" href="index.html#PIL.ImageShow.Viewer" title="PIL.ImageShow.Viewer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageShow.Viewer</span></code></a> class.</p>
</section>
<section id="imagefile-raise-ioerror">
<h4>ImageFile.raise_ioerror<a class="headerlink" href="#imagefile-raise-ioerror" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 7.2.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">IOError</span></code> was merged into <code class="docutils literal notranslate"><span class="pre">OSError</span></code> in Python 3.3.
So, <code class="docutils literal notranslate"><span class="pre">ImageFile.raise_ioerror</span></code> will be removed in Pillow 9.0.0 (2022-01-02).
Use <code class="docutils literal notranslate"><span class="pre">ImageFile.raise_oserror</span></code> instead.</p>
</section>
<section id="pillow-version-constant">
<h4>PILLOW_VERSION constant<a class="headerlink" href="#pillow-version-constant" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 5.2.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">PILLOW_VERSION</span></code> will be removed in Pillow 9.0.0 (2022-01-02).
Use <code class="docutils literal notranslate"><span class="pre">__version__</span></code> instead.</p>
<p>It was initially removed in Pillow 7.0.0, but brought back in 7.1.0 to give projects
more time to upgrade.</p>
</section>
<section id="tk-tcl-8-4">
<h4>Tk/Tcl 8.4<a class="headerlink" href="#tk-tcl-8-4" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 8.2.0.</span></p>
</div>
<p>Support for Tk/Tcl 8.4 is deprecated and will be removed in Pillow 10.0.0 (2023-01-02),
when Tk/Tcl 8.5 will be the minimum supported.</p>
</section>
<section id="categories">
<h4>Categories<a class="headerlink" href="#categories" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 8.2.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">im.category</span></code> is deprecated and will be removed in Pillow 10.0.0 (2023-01-02),
along with the related <code class="docutils literal notranslate"><span class="pre">Image.NORMAL</span></code>, <code class="docutils literal notranslate"><span class="pre">Image.SEQUENCE</span></code> and
<code class="docutils literal notranslate"><span class="pre">Image.CONTAINER</span></code> attributes.</p>
<p>To determine if an image has multiple frames or not,
<code class="docutils literal notranslate"><span class="pre">getattr(im,</span> <span class="pre">&quot;is_animated&quot;,</span> <span class="pre">False)</span></code> can be used instead.</p>
</section>
<section id="jpegimageplugin-convert-dict-qtables">
<h4>JpegImagePlugin.convert_dict_qtables<a class="headerlink" href="#jpegimageplugin-convert-dict-qtables" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 8.3.0.</span></p>
</div>
<p>JPEG <code class="docutils literal notranslate"><span class="pre">quantization</span></code> is now automatically converted, but still returned as a
dictionary. The <a class="reference internal" href="index.html#PIL.JpegImagePlugin.convert_dict_qtables" title="PIL.JpegImagePlugin.convert_dict_qtables"><code class="xref py py-attr docutils literal notranslate"><span class="pre">convert_dict_qtables</span></code></a> method no longer
performs any operations on the data given to it, has been deprecated and will be
removed in Pillow 10.0.0 (2023-01-02).</p>
</section>
</section>
<section id="removed-features">
<h3>Removed features<a class="headerlink" href="#removed-features" title="Permalink to this headline">¶</a></h3>
<p>Deprecated features are only removed in major releases after an appropriate
period of deprecation has passed.</p>
<section id="im-offset">
<h4>im.offset<a class="headerlink" href="#im-offset" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.1.2.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 8.0.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">im.offset()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.ImageChops.offset" title="PIL.ImageChops.offset"><code class="xref py py-func docutils literal notranslate"><span class="pre">ImageChops.offset()</span></code></a> instead.</p>
<p>It was documented as deprecated in PIL 1.1.2,
raised a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> since 1.1.5,
an <code class="docutils literal notranslate"><span class="pre">Exception</span></code> since Pillow 3.0.0
and <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> since 3.3.0.</p>
</section>
<section id="image-fromstring-im-fromstring-and-im-tostring">
<h4>Image.fromstring, im.fromstring and im.tostring<a class="headerlink" href="#image-fromstring-im-fromstring-and-im-tostring" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 2.0.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 8.0.0.</span></p>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Image.fromstring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.frombytes" title="PIL.Image.frombytes"><code class="xref py py-func docutils literal notranslate"><span class="pre">Image.frombytes()</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im.fromstring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.Image.frombytes" title="PIL.Image.Image.frombytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frombytes()</span></code></a> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im.tostring()</span></code> has been removed, call <a class="reference internal" href="index.html#PIL.Image.Image.tobytes" title="PIL.Image.Image.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tobytes()</span></code></a> instead.</p></li>
</ul>
<p>They issued a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> since 2.0.0,
an <code class="docutils literal notranslate"><span class="pre">Exception</span></code> since 3.0.0
and <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> since 3.3.0.</p>
</section>
<section id="imagecms-cmsprofile-attributes">
<h4>ImageCms.CmsProfile attributes<a class="headerlink" href="#imagecms-cmsprofile-attributes" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.2.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 8.0.0.</span></p>
</div>
<p>Some attributes in <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile" title="PIL.ImageCms.CmsProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.ImageCms.CmsProfile</span></code></a> have been removed. From 6.0.0,
they issued a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Removed</p></th>
<th class="head"><p>Use instead</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">color_space</span></code></p></td>
<td><p>Padded <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.xcolor_space" title="PIL.ImageCms.CmsProfile.xcolor_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">xcolor_space</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcs</span></code></p></td>
<td><p>Padded <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.connection_space" title="PIL.ImageCms.CmsProfile.connection_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">connection_space</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_copyright</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.copyright" title="PIL.ImageCms.CmsProfile.copyright"><code class="xref py py-attr docutils literal notranslate"><span class="pre">copyright</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_desc</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.profile_description" title="PIL.ImageCms.CmsProfile.profile_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">profile_description</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_description</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.profile_description" title="PIL.ImageCms.CmsProfile.profile_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">profile_description</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">product_manufacturer</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.manufacturer" title="PIL.ImageCms.CmsProfile.manufacturer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">manufacturer</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product_model</span></code></p></td>
<td><p>Unicode <a class="reference internal" href="index.html#PIL.ImageCms.CmsProfile.model" title="PIL.ImageCms.CmsProfile.model"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model</span></code></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="python-2-7">
<h4>Python 2.7<a class="headerlink" href="#python-2-7" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.0.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0.0.</span></p>
</div>
<p>Python 2.7 reached end-of-life on 2020-01-01. Pillow 6.x was the last series to
support Python 2.</p>
</section>
<section id="image-del">
<h4>Image.__del__<a class="headerlink" href="#image-del" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0.0.</span></p>
</div>
<p>Implicitly closing the image’s underlying file in <code class="docutils literal notranslate"><span class="pre">Image.__del__</span></code> has been removed.
Use a context manager or call <code class="docutils literal notranslate"><span class="pre">Image.close()</span></code> instead to close the file in a
deterministic way.</p>
<p>Previous method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Use instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;hopper.png&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">im</span><span class="p">:</span>
    <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;out.jpg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pil-imageplugin-version-attributes">
<h4>PIL.*ImagePlugin.__version__ attributes<a class="headerlink" href="#pil-imageplugin-version-attributes" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.0.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0.0.</span></p>
</div>
<p>The version constants of individual plugins have been removed. Use <code class="docutils literal notranslate"><span class="pre">PIL.__version__</span></code>
instead.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 34%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Removed</p></th>
<th class="head"><p>Removed</p></th>
<th class="head"><p>Removed</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BmpImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Jpeg2KImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PngImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CurImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">JpegImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PpmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DcxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">McIdasImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PsdImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EpsImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MicImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SgiImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FliImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MpegImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SunImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FpxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MpoImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TgaImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">GdImageFile.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MspImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TiffImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">GifImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PalmImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WmfImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IcoImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PcdImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XbmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ImImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PcxImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XpmImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImtImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PdfImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XVThumbImagePlugin.__version__</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">IptcImagePlugin.__version__</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PixarImagePlugin.__version__</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="pyqt4-and-pyside">
<h4>PyQt4 and PySide<a class="headerlink" href="#pyqt4-and-pyside" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.0.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0.0.</span></p>
</div>
<p>Qt 4 reached end-of-life on 2015-12-19. Its Python bindings are also EOL: PyQt4 since
2018-08-31 and PySide since 2015-10-14.</p>
<p>Support for PyQt4 and PySide has been removed  from <code class="docutils literal notranslate"><span class="pre">ImageQt</span></code>. Please upgrade to PyQt5
or PySide2.</p>
</section>
<section id="setting-the-size-of-tiff-images">
<h4>Setting the size of TIFF images<a class="headerlink" href="#setting-the-size-of-tiff-images" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 5.3.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0.0.</span></p>
</div>
<p>Setting the size of a TIFF image directly (eg. <code class="docutils literal notranslate"><span class="pre">im.size</span> <span class="pre">=</span> <span class="pre">(256,</span> <span class="pre">256)</span></code>) throws
an error. Use <code class="docutils literal notranslate"><span class="pre">Image.resize</span></code> instead.</p>
</section>
<section id="version-constant">
<h4>VERSION constant<a class="headerlink" href="#version-constant" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 5.2.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">VERSION</span></code> (the old PIL version, always 1.1.7) has been removed. Use
<code class="docutils literal notranslate"><span class="pre">__version__</span></code> instead.</p>
</section>
<section id="undocumented-imageops-functions">
<h4>Undocumented ImageOps functions<a class="headerlink" href="#undocumented-imageops-functions" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 4.3.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0.0.</span></p>
</div>
<p>Several undocumented functions in <code class="docutils literal notranslate"><span class="pre">ImageOps</span></code> have been removed. Use the equivalents
in <code class="docutils literal notranslate"><span class="pre">ImageFilter</span></code> instead:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 48%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Removed</p></th>
<th class="head"><p>Use instead</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImageOps.box_blur</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ImageFilter.BoxBlur</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ImageOps.gaussian_blur</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ImageFilter.GaussianBlur</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImageOps.gblur</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ImageFilter.GaussianBlur</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ImageOps.usm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ImageFilter.UnsharpMask</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ImageOps.unsharp_mask</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ImageFilter.UnsharpMask</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="pil-olefileio">
<h4>PIL.OleFileIO<a class="headerlink" href="#pil-olefileio" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 4.0.0.</span></p>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0.0.</span></p>
</div>
<p>PIL.OleFileIO was removed as a vendored file in Pillow 4.0.0 (2017-01) in favour of
the upstream olefile Python package, and replaced with an <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> in 5.0.0
(2018-01). The deprecated file has now been removed from Pillow. If needed, install from
PyPI (eg. <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">olefile</span></code>).</p>
</section>
</section>
</section>
</div>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1995-2011 Fredrik Lundh, 2010-2021 Alex Clark and Contributors
      
        <span class="commit">
          Revision <code>8013f130</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: stable
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//pillow.readthedocs.io/_/downloads/en/stable/pdf/">pdf</a></dd>
        
          <dd><a href="//pillow.readthedocs.io/_/downloads/en/stable/htmlzip/">html</a></dd>
        
          <dd><a href="//pillow.readthedocs.io/_/downloads/en/stable/epub/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/pillow/?fromdocs=pillow">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/pillow/?fromdocs=pillow">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>